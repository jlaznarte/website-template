!function(t,e){if("object"==typeof exports&&exports)e(exports);else{var i={};e(i),"function"==typeof define&&define.amd?define(i):t.Mustache=i}}(this,function(t){function e(t,e){return b.call(t,e)}function i(t){return!e(g,t)}function n(t){return"function"==typeof t}function r(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function s(t){return String(t).replace(/[&<>"'\/]/g,function(t){return w[t]})}function a(t){if(!x(t)||2!==t.length)throw new Error("Invalid tags: "+t);return[new RegExp(r(t[0])+"\\s*"),new RegExp("\\s*"+r(t[1]))]}function o(e,n){n=n||t.tags,e=e||"","string"==typeof n&&(n=n.split(f));for(var s,o,u,d,g,b,y=a(n),x=new h(e),w=[],k=[],C=[],T=!1,E=!1;!x.eos();){if(s=x.pos,u=x.scanUntil(y[0]))for(var j=0,D=u.length;j<D;++j)d=u.charAt(j),i(d)?C.push(k.length):E=!0,k.push(["text",d,s,s+1]),s+=1,"\n"===d&&function(){if(T&&!E)for(;C.length;)delete k[C.pop()];else C=[];T=!1,E=!1}();if(!x.scan(y[0]))break;if(T=!0,o=x.scan(v)||"name",x.scan(p),"="===o?(u=x.scanUntil(m),x.scan(m),x.scanUntil(y[1])):"{"===o?(u=x.scanUntil(new RegExp("\\s*"+r("}"+n[1]))),x.scan(_),x.scanUntil(y[1]),o="&"):u=x.scanUntil(y[1]),!x.scan(y[1]))throw new Error("Unclosed tag at "+x.pos);if(g=[o,u,s,x.pos],k.push(g),"#"===o||"^"===o)w.push(g);else if("/"===o){if(!(b=w.pop()))throw new Error('Unopened section "'+u+'" at '+s);if(b[1]!==u)throw new Error('Unclosed section "'+b[1]+'" at '+s)}else"name"===o||"{"===o||"&"===o?E=!0:"="===o&&(y=a(n=u.split(f)))}if(b=w.pop())throw new Error('Unclosed section "'+b[1]+'" at '+x.pos);return c(l(k))}function l(t){for(var e,i,n=[],r=0,s=t.length;r<s;++r)(e=t[r])&&("text"===e[0]&&i&&"text"===i[0]?(i[1]+=e[1],i[3]=e[3]):(n.push(e),i=e));return n}function c(t){for(var e,i,n=[],r=n,s=[],a=0,o=t.length;a<o;++a)switch(e=t[a],e[0]){case"#":case"^":r.push(e),s.push(e),r=e[4]=[];break;case"/":i=s.pop(),i[5]=e[2],r=s.length>0?s[s.length-1][4]:n;break;default:r.push(e)}return n}function h(t){this.string=t,this.tail=t,this.pos=0}function u(t,e){this.view=null==t?{}:t,this.cache={".":this.view},this.parent=e}function d(){this.cache={}}var p=/\s*/,f=/\s+/,g=/\S/,m=/\s*=/,_=/\s*\}/,v=/#|\^|\/|>|\{|&|=|!/,b=RegExp.prototype.test,y=Object.prototype.toString,x=Array.isArray||function(t){return"[object Array]"===y.call(t)},w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};h.prototype.eos=function(){return""===this.tail},h.prototype.scan=function(t){var e=this.tail.match(t);if(e&&0===e.index){var i=e[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i}return""},h.prototype.scanUntil=function(t){var e,i=this.tail.search(t);switch(i){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=e.length,e},u.prototype.push=function(t){return new u(t,this)},u.prototype.lookup=function(t){var e;if(t in this.cache)e=this.cache[t];else{for(var i=this;i;){if(t.indexOf(".")>0){e=i.view;for(var r=t.split("."),s=0;null!=e&&s<r.length;)e=e[r[s++]]}else e=i.view[t];if(null!=e)break;i=i.parent}this.cache[t]=e}return n(e)&&(e=e.call(this.view)),e},d.prototype.clearCache=function(){this.cache={}},d.prototype.parse=function(t,e){var i=this.cache,n=i[t];return null==n&&(n=i[t]=o(t,e)),n},d.prototype.render=function(t,e,i){var n=this.parse(t),r=e instanceof u?e:new u(e);return this.renderTokens(n,r,i,t)},d.prototype.renderTokens=function(e,i,r,s){function a(t){return h.render(t,i,r)}for(var o,l,c="",h=this,u=0,d=e.length;u<d;++u)switch(o=e[u],o[0]){case"#":if(!(l=i.lookup(o[1])))continue;if(x(l))for(var p=0,f=l.length;p<f;++p)c+=this.renderTokens(o[4],i.push(l[p]),r,s);else if("object"==typeof l||"string"==typeof l)c+=this.renderTokens(o[4],i.push(l),r,s);else if(n(l)){if("string"!=typeof s)throw new Error("Cannot use higher-order sections without the original template");l=l.call(i.view,s.slice(o[3],o[5]),a),null!=l&&(c+=l)}else c+=this.renderTokens(o[4],i,r,s);break;case"^":l=i.lookup(o[1]),(!l||x(l)&&0===l.length)&&(c+=this.renderTokens(o[4],i,r,s));break;case">":if(!r)continue;l=n(r)?r(o[1]):r[o[1]],null!=l&&(c+=this.renderTokens(this.parse(l),i,r,l));break;case"&":l=i.lookup(o[1]),null!=l&&(c+=l);break;case"name":l=i.lookup(o[1]),null!=l&&(c+=t.escape(l));break;case"text":c+=o[1]}return c},t.name="mustache.js",t.version="0.8.1",t.tags=["{{","}}"];var k=new d;t.clearCache=function(){return k.clearCache()},t.parse=function(t,e){return k.parse(t,e)},t.render=function(t,e,i){return k.render(t,e,i)},t.to_html=function(e,i,r,s){var a=t.render(e,i,r);if(!n(s))return a;s(a)},t.escape=s,t.Scanner=h,t.Context=u,t.Writer=d}),function(t){var e,i,n="0.4.2",r="hasOwnProperty",s=/[\.\/]/,a=function(){},o=function(t,e){return t-e},l={n:{}},c=function(t,n){t=String(t);var r,s=i,a=Array.prototype.slice.call(arguments,2),l=c.listeners(t),h=0,u=[],d={},p=[],f=e;e=t,i=0;for(var g=0,m=l.length;m>g;g++)"zIndex"in l[g]&&(u.push(l[g].zIndex),l[g].zIndex<0&&(d[l[g].zIndex]=l[g]));for(u.sort(o);u[h]<0;)if(r=d[u[h++]],p.push(r.apply(n,a)),i)return i=s,p;for(g=0;m>g;g++)if("zIndex"in(r=l[g]))if(r.zIndex==u[h]){if(p.push(r.apply(n,a)),i)break;do{if(h++,r=d[u[h]],r&&p.push(r.apply(n,a)),i)break}while(r)}else d[r.zIndex]=r;else if(p.push(r.apply(n,a)),i)break;return i=s,e=f,p.length?p:null};c._events=l,c.listeners=function(t){var e,i,n,r,a,o,c,h,u=t.split(s),d=l,p=[d],f=[];for(r=0,a=u.length;a>r;r++){for(h=[],o=0,c=p.length;c>o;o++)for(d=p[o].n,i=[d[u[r]],d["*"]],n=2;n--;)(e=i[n])&&(h.push(e),f=f.concat(e.f||[]));p=h}return f},c.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var i=t.split(s),n=l,r=0,o=i.length;o>r;r++)n=n.n,n=n.hasOwnProperty(i[r])&&n[i[r]]||(n[i[r]]={n:{}});for(n.f=n.f||[],r=0,o=n.f.length;o>r;r++)if(n.f[r]==e)return a;return n.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},c.f=function(t){var e=[].slice.call(arguments,1);return function(){c.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},c.stop=function(){i=1},c.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},c.nts=function(){return e.split(s)},c.off=c.unbind=function(t,e){if(!t)return void(c._events=l={n:{}});var i,n,a,o,h,u,d,p=t.split(s),f=[l];for(o=0,h=p.length;h>o;o++)for(u=0;u<f.length;u+=a.length-2){if(a=[u,1],i=f[u].n,"*"!=p[o])i[p[o]]&&a.push(i[p[o]]);else for(n in i)i[r](n)&&a.push(i[n]);f.splice.apply(f,a)}for(o=0,h=f.length;h>o;o++)for(i=f[o];i.n;){if(e){if(i.f){for(u=0,d=i.f.length;d>u;u++)if(i.f[u]==e){i.f.splice(u,1);break}!i.f.length&&delete i.f}for(n in i.n)if(i.n[r](n)&&i.n[n].f){var g=i.n[n].f;for(u=0,d=g.length;d>u;u++)if(g[u]==e){g.splice(u,1);break}!g.length&&delete i.n[n].f}}else{delete i.f;for(n in i.n)i.n[r](n)&&i.n[n].f&&delete i.n[n].f}i=i.n}},c.once=function(t,e){var i=function(){return c.unbind(t,i),e.apply(this,arguments)};return c.on(t,i)},c.version=n,c.toString=function(){return"You are running Eve "+n},"undefined"!=typeof module&&module.exports?module.exports=c:"undefined"!=typeof define?define("eve",[],function(){return c}):t.eve=c}(window||this),function(t,e){"function"==typeof define&&define.amd?define(["eve"],function(i){return e(t,i)}):e(t,t.eve)}(this,function(t,e){function i(t){if(i.is(t,"function"))return y?t():e.on("raphael.DOMload",t);if(i.is(t,K))return i._engine.create[S](i,t.splice(0,3+i.is(t[0],q))).add(t);var n=Array.prototype.slice.call(arguments,0);if(i.is(n[n.length-1],"function")){var r=n.pop();return y?r.call(i._engine.create[S](i,n)):e.on("raphael.DOMload",function(){r.call(i._engine.create[S](i,n))})}return i._engine.create[S](i,arguments)}function n(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[T](i)&&(e[i]=n(t[i]));return e}function r(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}function s(t,e,i){function n(){var s=Array.prototype.slice.call(arguments,0),a=s.join("␀"),o=n.cache=n.cache||{},l=n.count=n.count||[];return o[T](a)?(r(l,a),i?i(o[a]):o[a]):(l.length>=1e3&&delete o[l.shift()],l.push(a),o[a]=t[S](e,s),i?i(o[a]):o[a])}return n}function a(){return this.hex}function o(t,e){for(var i=[],n=0,r=t.length;r-2*!e>n;n+=2){var s=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4==n?s[3]={x:+t[0],y:+t[1]}:r-2==n&&(s[2]={x:+t[0],y:+t[1]},s[3]={x:+t[2],y:+t[3]}):s[0]={x:+t[r-2],y:+t[r-1]}:r-4==n?s[3]=s[2]:n||(s[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-s[0].x+6*s[1].x+s[2].x)/6,(-s[0].y+6*s[1].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return i}function l(t,e,i,n,r){return t*(t*(-3*e+9*i-9*n+3*r)+6*e-12*i+6*n)-3*e+3*i}function c(t,e,i,n,r,s,a,o,c){null==c&&(c=1),c=c>1?1:0>c?0:c;for(var h=c/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,f=0;12>f;f++){var g=h*u[f]+h,m=l(g,t,i,r,a),_=l(g,e,n,s,o),v=m*m+_*_;p+=d[f]*A.sqrt(v)}return h*p}function h(t,e,i,n,r,s,a,o,l){if(!(0>l||c(t,e,i,n,r,s,a,o)<l)){var h,u=.5,d=1-u;for(h=c(t,e,i,n,r,s,a,o,d);G(h-l)>.01;)u/=2,d+=(l>h?1:-1)*u,h=c(t,e,i,n,r,s,a,o,d);return d}}function u(t,e,i,n,r,s,a,o){if(!(z(t,i)<R(r,a)||R(t,i)>z(r,a)||z(e,n)<R(s,o)||R(e,n)>z(s,o))){var l=(t*n-e*i)*(r-a)-(t-i)*(r*o-s*a),c=(t*n-e*i)*(s-o)-(e-n)*(r*o-s*a),h=(t-i)*(s-o)-(e-n)*(r-a);if(h){var u=l/h,d=c/h,p=+u.toFixed(2),f=+d.toFixed(2);if(!(p<+R(t,i).toFixed(2)||p>+z(t,i).toFixed(2)||p<+R(r,a).toFixed(2)||p>+z(r,a).toFixed(2)||f<+R(e,n).toFixed(2)||f>+z(e,n).toFixed(2)||f<+R(s,o).toFixed(2)||f>+z(s,o).toFixed(2)))return{x:u,y:d}}}}function d(t,e,n){var r=i.bezierBBox(t),s=i.bezierBBox(e);if(!i.isBBoxIntersect(r,s))return n?0:[];for(var a=c.apply(0,t),o=c.apply(0,e),l=z(~~(a/5),1),h=z(~~(o/5),1),d=[],p=[],f={},g=n?0:[],m=0;l+1>m;m++){var _=i.findDotsAtSegment.apply(i,t.concat(m/l));d.push({x:_.x,y:_.y,t:m/l})}for(m=0;h+1>m;m++)_=i.findDotsAtSegment.apply(i,e.concat(m/h)),p.push({x:_.x,y:_.y,t:m/h});for(m=0;l>m;m++)for(var v=0;h>v;v++){var b=d[m],y=d[m+1],x=p[v],w=p[v+1],k=G(y.x-b.x)<.001?"y":"x",C=G(w.x-x.x)<.001?"y":"x",T=u(b.x,b.y,y.x,y.y,x.x,x.y,w.x,w.y);if(T){if(f[T.x.toFixed(4)]==T.y.toFixed(4))continue;f[T.x.toFixed(4)]=T.y.toFixed(4);var E=b.t+G((T[k]-b[k])/(y[k]-b[k]))*(y.t-b.t),j=x.t+G((T[C]-x[C])/(w[C]-x[C]))*(w.t-x.t);E>=0&&1.001>=E&&j>=0&&1.001>=j&&(n?g++:g.push({x:T.x,y:T.y,t1:R(E,1),t2:R(j,1)}))}}return g}function p(t,e,n){t=i._path2curve(t),e=i._path2curve(e);for(var r,s,a,o,l,c,h,u,p,f,g=n?0:[],m=0,_=t.length;_>m;m++){var v=t[m];if("M"==v[0])r=l=v[1],s=c=v[2];else{"C"==v[0]?(p=[r,s].concat(v.slice(1)),r=p[6],s=p[7]):(p=[r,s,r,s,l,c,l,c],r=l,s=c);for(var b=0,y=e.length;y>b;b++){var x=e[b];if("M"==x[0])a=h=x[1],o=u=x[2];else{"C"==x[0]?(f=[a,o].concat(x.slice(1)),a=f[6],o=f[7]):(f=[a,o,a,o,h,u,h,u],a=h,o=u);var w=d(p,f,n);if(n)g+=w;else{for(var k=0,C=w.length;C>k;k++)w[k].segment1=m,w[k].segment2=b,w[k].bez1=p,w[k].bez2=f;g=g.concat(w)}}}}}return g}function f(t,e,i,n,r,s){null!=t?(this.a=+t,this.b=+e,this.c=+i,this.d=+n,this.e=+r,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function g(){return this.x+P+this.y+P+this.width+" × "+this.height}function m(t,e,i,n,r,s){function a(t){return((h*t+c)*t+l)*t}function o(t,e){var i,n,r,s,o,u;for(r=t,u=0;8>u;u++){if(s=a(r)-t,G(s)<e)return r;if(o=(3*h*r+2*c)*r+l,G(o)<1e-6)break;r-=s/o}if(i=0,n=1,r=t,i>r)return i;if(r>n)return n;for(;n>i;){if(s=a(r),G(s-t)<e)return r;t>s?i=r:n=r,r=(n-i)/2+i}return r}var l=3*e,c=3*(n-e)-l,h=1-l-c,u=3*i,d=3*(r-i)-u,p=1-u-d;return function(t,e){var i=o(t,e);return((p*i+d)*i+u)*i}(t,1/(200*s))}function _(t,e){var i=[],n={};if(this.ms=e,this.times=1,t){for(var r in t)t[T](r)&&(n[Z(r)]=t[r],i.push(Z(r)));i.sort(ut)}this.anim=n,this.top=i[i.length-1],this.percents=i}function v(t,n,r,s,a,o){r=Z(r);var l,c,h,u,d,p,g=t.ms,_={},v={},b={};if(s)for(x=0,k=le.length;k>x;x++){var y=le[x];if(y.el.id==n.id&&y.anim==t){y.percent!=r?(le.splice(x,1),h=1):c=y,n.attr(y.totalOrigin);break}}else s=+v;for(var x=0,k=t.percents.length;k>x;x++){if(t.percents[x]==r||t.percents[x]>s*t.top){r=t.percents[x],d=t.percents[x-1]||0,g=g/t.top*(r-d),u=t.percents[x+1],l=t.anim[r];break}s&&n.attr(t.anim[t.percents[x]])}if(l){if(c)c.initstatus=s,c.start=new Date-c.ms*s;else{for(var C in l)if(l[T](C)&&(nt[T](C)||n.paper.customAttributes[T](C)))switch(_[C]=n.attr(C),null==_[C]&&(_[C]=it[C]),v[C]=l[C],nt[C]){case q:b[C]=(v[C]-_[C])/g;break;case"colour":_[C]=i.getRGB(_[C]);var E=i.getRGB(v[C]);b[C]={r:(E.r-_[C].r)/g,g:(E.g-_[C].g)/g,b:(E.b-_[C].b)/g};break;case"path":var j=Lt(_[C],v[C]),D=j[1];for(_[C]=j[0],b[C]=[],x=0,k=_[C].length;k>x;x++){b[C][x]=[0];for(var S=1,I=_[C][x].length;I>S;S++)b[C][x][S]=(D[x][S]-_[C][x][S])/g}break;case"transform":var F=n._,P=Rt(F[C],v[C]);if(P)for(_[C]=P.from,v[C]=P.to,b[C]=[],b[C].real=!0,x=0,k=_[C].length;k>x;x++)for(b[C][x]=[_[C][x][0]],S=1,I=_[C][x].length;I>S;S++)b[C][x][S]=(v[C][x][S]-_[C][x][S])/g;else{var L=n.matrix||new f,B={_:{transform:F.transform},getBBox:function(){return n.getBBox(1)}};_[C]=[L.a,L.b,L.c,L.d,L.e,L.f],At(B,v[C]),v[C]=B._.transform,b[C]=[(B.matrix.a-L.a)/g,(B.matrix.b-L.b)/g,(B.matrix.c-L.c)/g,(B.matrix.d-L.d)/g,(B.matrix.e-L.e)/g,(B.matrix.f-L.f)/g]}break;case"csv":var H=N(l[C])[O](w),A=N(_[C])[O](w);if("clip-rect"==C)for(_[C]=A,b[C]=[],x=A.length;x--;)b[C][x]=(H[x]-_[C][x])/g;v[C]=H;break;default:for(H=[][M](l[C]),A=[][M](_[C]),b[C]=[],x=n.paper.customAttributes[C].length;x--;)b[C][x]=((H[x]||0)-(A[x]||0))/g}var z=l.easing,R=i.easing_formulas[z];if(!R)if((R=N(z).match(Y))&&5==R.length){var G=R;R=function(t){return m(t,+G[1],+G[2],+G[3],+G[4],g)}}else R=pt;if(p=l.start||t.start||+new Date,y={anim:t,percent:r,timestamp:p,start:p+(t.del||0),status:0,initstatus:s||0,stop:!1,ms:g,easing:R,from:_,diff:b,to:v,el:n,callback:l.callback,prev:d,next:u,repeat:o||t.times,origin:n.attr(),totalOrigin:a},le.push(y),s&&!c&&!h&&(y.stop=!0,y.start=new Date-g*s,1==le.length))return he();h&&(y.start=new Date-y.ms*s),1==le.length&&ce(he)}e("raphael.anim.start."+n.id,n,t)}}function b(t){for(var e=0;e<le.length;e++)le[e].el.paper==t&&le.splice(e--,1)}i.version="2.1.2",i.eve=e;var y,x,w=/[, ]+/,k={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},C=/\{(\d+)\}/g,T="hasOwnProperty",E={doc:document,win:t},j={was:Object.prototype[T].call(E.win,"Raphael"),is:E.win.Raphael},D=function(){this.ca=this.customAttributes={}},S="apply",M="concat",I="ontouchstart"in E.win||E.win.DocumentTouch&&E.doc instanceof DocumentTouch,F="",P=" ",N=String,O="split",L="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[O](P),B={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},H=N.prototype.toLowerCase,A=Math,z=A.max,R=A.min,G=A.abs,$=A.pow,W=A.PI,q="number",Q="string",K="array",V=Object.prototype.toString,J=(i._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),U={NaN:1,Infinity:1,"-Infinity":1},Y=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,X=A.round,Z=parseFloat,tt=parseInt,et=N.prototype.toUpperCase,it=i._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,preserveAspectRatio:"xMidYMid meet","clip-rect":"0 0 1e9 1e9",cursor:"default",class:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},nt=i._availableAnimAttrs={blur:q,"clip-rect":"csv",cx:q,cy:q,fill:"colour","fill-opacity":q,"font-size":q,height:q,opacity:q,path:"path",r:q,rx:q,ry:q,stroke:"colour","stroke-opacity":q,"stroke-width":q,transform:"transform",width:q,x:q,y:q},rt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,st={hs:1,rg:1},at=/,?([achlmqrstvxz]),?/gi,ot=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,lt=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ct=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ht=(i._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ut=function(t,e){return Z(t)-Z(e)},dt=function(){},pt=function(t){return t},ft=i._rectPath=function(t,e,i,n,r){return r?[["M",t+r,e],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]]},gt=function(t,e,i,n){return null==n&&(n=i),[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},mt=i._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return gt(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return gt(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)}},_t=i.mapPath=function(t,e){if(!e)return t;var i,n,r,s,a,o,l;for(t=Lt(t),r=0,a=t.length;a>r;r++)for(l=t[r],s=1,o=l.length;o>s;s+=2)i=e.x(l[s],l[s+1]),n=e.y(l[s],l[s+1]),l[s]=i,l[s+1]=n;return t};if(i._g=E,i.type=E.win.SVGAngle||E.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==i.type){var vt,bt=E.doc.createElement("div");if(bt.innerHTML='<v:shape adj="1"/>',vt=bt.firstChild,vt.style.behavior="url(#default#VML)",!vt||"object"!=typeof vt.adj)return i.type=F;bt=null}i.svg=!(i.vml="VML"==i.type),i._Paper=D,i.fn=x=D.prototype=i.prototype,i._id=0,i._oid=0,i.is=function(t,e){return e=H.call(e),"finite"==e?!U[T](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||V.call(t).slice(8,-1).toLowerCase()==e},i.angle=function(t,e,n,r,s,a){if(null==s){var o=t-n,l=e-r;return o||l?(180+180*A.atan2(-l,-o)/W+360)%360:0}return i.angle(t,e,s,a)-i.angle(n,r,s,a)},i.rad=function(t){return t%360*W/180},i.deg=function(t){return 180*t/W%360},i.snapTo=function(t,e,n){if(n=i.is(n,"finite")?n:10,i.is(t,K)){for(var r=t.length;r--;)if(G(t[r]-e)<=n)return t[r]}else{t=+t;var s=e%t;if(n>s)return e-s;if(s>t-n)return e-s+t}return e},i.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=16*A.random()|0;return("x"==t?e:3&e|8).toString(16)}),i.setWindow=function(t){e("raphael.setWindow",i,E.win,t),E.win=t,E.doc=E.win.document,i._engine.initWin&&i._engine.initWin(E.win)};var yt=function(t){if(i.vml){var e,n=/^\s+|\s+$/g;try{var r=new ActiveXObject("htmlfile");r.write("<body>"),r.close(),e=r.body}catch(t){e=createPopup().document.body}var a=e.createTextRange();yt=s(function(t){try{e.style.color=N(t).replace(n,F);var i=a.queryCommandValue("ForeColor");return i=(255&i)<<16|65280&i|(16711680&i)>>>16,"#"+("000000"+i.toString(16)).slice(-6)}catch(t){return"none"}})}else{var o=E.doc.createElement("i");o.title="Raphaël Colour Picker",o.style.display="none",E.doc.body.appendChild(o),yt=s(function(t){return o.style.color=t,E.doc.defaultView.getComputedStyle(o,F).getPropertyValue("color")})}return yt(t)},xt=function(){return"hsb("+[this.h,this.s,this.b]+")"},wt=function(){return"hsl("+[this.h,this.s,this.l]+")"},kt=function(){return this.hex},Ct=function(t,e,n){if(null==e&&i.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,e=t.g,t=t.r),null==e&&i.is(t,Q)){var r=i.getRGB(t);t=r.r,e=r.g,n=r.b}return(t>1||e>1||n>1)&&(t/=255,e/=255,n/=255),[t,e,n]},Tt=function(t,e,n,r){t*=255,e*=255,n*=255;var s={r:t,g:e,b:n,hex:i.rgb(t,e,n),toString:kt};return i.is(r,"finite")&&(s.opacity=r),s};i.color=function(t){var e;return i.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=i.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):i.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=i.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(i.is(t,"string")&&(t=i.getRGB(t)),i.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=i.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=i.rgb2hsb(t),t.v=e.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=kt,t},i.hsb2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,t=t.h,n=t.o),t*=360;var r,s,a,o,l;return t=t%360/60,l=i*e,o=l*(1-G(t%2-1)),r=s=a=i-l,t=~~t,r+=[l,o,0,0,o,l][t],s+=[o,l,l,o,0,0][t],a+=[0,0,o,l,l,o][t],Tt(r,s,a,n)},i.hsl2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h),(t>1||e>1||i>1)&&(t/=360,e/=100,i/=100),t*=360;var r,s,a,o,l;return t=t%360/60,l=2*e*(.5>i?i:1-i),o=l*(1-G(t%2-1)),r=s=a=i-l/2,t=~~t,r+=[l,o,0,0,o,l][t],s+=[o,l,l,o,0,0][t],a+=[0,0,o,l,l,o][t],Tt(r,s,a,n)},i.rgb2hsb=function(t,e,i){i=Ct(t,e,i),t=i[0],e=i[1],i=i[2];var n,r,s,a;return s=z(t,e,i),a=s-R(t,e,i),n=0==a?null:s==t?(e-i)/a:s==e?(i-t)/a+2:(t-e)/a+4,n=(n+360)%6*60/360,r=0==a?0:a/s,{h:n,s:r,b:s,toString:xt}},i.rgb2hsl=function(t,e,i){i=Ct(t,e,i),t=i[0],e=i[1],i=i[2];var n,r,s,a,o,l;return a=z(t,e,i),o=R(t,e,i),l=a-o,n=0==l?null:a==t?(e-i)/l:a==e?(i-t)/l+2:(t-e)/l+4,n=(n+360)%6*60/360,s=(a+o)/2,r=0==l?0:.5>s?l/(2*s):l/(2-2*s),{h:n,s:r,l:s,toString:wt}},i._path2string=function(){return this.join(",").replace(at,"$1")},i._preload=function(t,e){var i=E.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){e.call(this),this.onload=null,E.doc.body.removeChild(this)},i.onerror=function(){E.doc.body.removeChild(this)},E.doc.body.appendChild(i),i.src=t},i.getRGB=s(function(t){if(!t||(t=N(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:a};!(st[T](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=yt(t));var e,n,r,s,o,l,c=t.match(J);return c?(c[2]&&(r=tt(c[2].substring(5),16),n=tt(c[2].substring(3,5),16),e=tt(c[2].substring(1,3),16)),c[3]&&(r=tt((o=c[3].charAt(3))+o,16),n=tt((o=c[3].charAt(2))+o,16),e=tt((o=c[3].charAt(1))+o,16)),c[4]&&(l=c[4][O](rt),e=Z(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),n=Z(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),r=Z(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),"rgba"==c[1].toLowerCase().slice(0,4)&&(s=Z(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100)),c[5]?(l=c[5][O](rt),e=Z(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),n=Z(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),r=Z(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(e/=360),"hsba"==c[1].toLowerCase().slice(0,4)&&(s=Z(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),i.hsb2rgb(e,n,r,s)):c[6]?(l=c[6][O](rt),e=Z(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),n=Z(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),r=Z(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(e/=360),"hsla"==c[1].toLowerCase().slice(0,4)&&(s=Z(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),i.hsl2rgb(e,n,r,s)):(c={r:e,g:n,b:r,toString:a},c.hex="#"+(16777216|r|n<<8|e<<16).toString(16).slice(1),i.is(s,"finite")&&(c.opacity=s),c)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a}},i),i.hsb=s(function(t,e,n){return i.hsb2rgb(t,e,n).hex}),i.hsl=s(function(t,e,n){return i.hsl2rgb(t,e,n).hex}),i.rgb=s(function(t,e,i){return"#"+(16777216|i|e<<8|t<<16).toString(16).slice(1)}),i.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},i=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),i.hex},i.getColor.reset=function(){delete this.start},i.parsePathString=function(t){if(!t)return null;var e=Et(t);if(e.arr)return Dt(e.arr);var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return i.is(t,K)&&i.is(t[0],K)&&(r=Dt(t)),r.length||N(t).replace(ot,function(t,e,i){var s=[],a=e.toLowerCase();if(i.replace(ct,function(t,e){e&&s.push(+e)}),"m"==a&&s.length>2&&(r.push([e][M](s.splice(0,2))),a="l",e="m"==e?"l":"L"),"r"==a)r.push([e][M](s));else for(;s.length>=n[a]&&(r.push([e][M](s.splice(0,n[a]))),n[a]););}),r.toString=i._path2string,e.arr=Dt(r),r},i.parseTransformString=s(function(t){if(!t)return null;var e=[];return i.is(t,K)&&i.is(t[0],K)&&(e=Dt(t)),e.length||N(t).replace(lt,function(t,i,n){var r=[];H.call(i),n.replace(ct,function(t,e){e&&r.push(+e)}),e.push([i][M](r))}),e.toString=i._path2string,e});var Et=function(t){var e=Et.ps=Et.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var i in e)e[T](i)&&i!=t&&!--e[i].sleep&&delete e[i]}),e[t]};i.findDotsAtSegment=function(t,e,i,n,r,s,a,o,l){var c=1-l,h=$(c,3),u=$(c,2),d=l*l,p=d*l,f=h*t+3*u*l*i+3*c*l*l*r+p*a,g=h*e+3*u*l*n+3*c*l*l*s+p*o,m=t+2*l*(i-t)+d*(r-2*i+t),_=e+2*l*(n-e)+d*(s-2*n+e),v=i+2*l*(r-i)+d*(a-2*r+i),b=n+2*l*(s-n)+d*(o-2*s+n),y=c*t+l*i,x=c*e+l*n,w=c*r+l*a,k=c*s+l*o,C=90-180*A.atan2(m-v,_-b)/W;return(m>v||b>_)&&(C+=180),{x:f,y:g,m:{x:m,y:_},n:{x:v,y:b},start:{x:y,y:x},end:{x:w,y:k},alpha:C}},i.bezierBBox=function(t,e,n,r,s,a,o,l){i.is(t,"array")||(t=[t,e,n,r,s,a,o,l]);var c=Ot.apply(null,t);return{x:c.min.x,y:c.min.y,x2:c.max.x,y2:c.max.y,width:c.max.x-c.min.x,height:c.max.y-c.min.y}},i.isPointInsideBBox=function(t,e,i){return e>=t.x&&e<=t.x2&&i>=t.y&&i<=t.y2},i.isBBoxIntersect=function(t,e){var n=i.isPointInsideBBox;return n(e,t.x,t.y)||n(e,t.x2,t.y)||n(e,t.x,t.y2)||n(e,t.x2,t.y2)||n(t,e.x,e.y)||n(t,e.x2,e.y)||n(t,e.x,e.y2)||n(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},i.pathIntersection=function(t,e){return p(t,e)},i.pathIntersectionNumber=function(t,e){return p(t,e,1)},i.isPointInsidePath=function(t,e,n){var r=i.pathBBox(t);return i.isPointInsideBBox(r,e,n)&&p(t,[["M",e,n],["H",r.x2+10]],1)%2==1},i._removedFactory=function(t){return function(){e("raphael.log",null,"Raphaël: you are calling to method “"+t+"” of removed object",t)}};var jt=i.pathBBox=function(t){var e=Et(t);if(e.bbox)return n(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Lt(t);for(var i,r=0,s=0,a=[],o=[],l=0,c=t.length;c>l;l++)if(i=t[l],"M"==i[0])r=i[1],s=i[2],a.push(r),o.push(s);else{var h=Ot(r,s,i[1],i[2],i[3],i[4],i[5],i[6]);a=a[M](h.min.x,h.max.x),o=o[M](h.min.y,h.max.y),r=i[5],s=i[6]}var u=R[S](0,a),d=R[S](0,o),p=z[S](0,a),f=z[S](0,o),g=p-u,m=f-d,_={x:u,y:d,x2:p,y2:f,width:g,height:m,cx:u+g/2,cy:d+m/2};return e.bbox=n(_),_},Dt=function(t){var e=n(t);return e.toString=i._path2string,e},St=i._pathToRelative=function(t){var e=Et(t);if(e.rel)return Dt(e.rel);i.is(t,K)&&i.is(t&&t[0],K)||(t=i.parsePathString(t));var n=[],r=0,s=0,a=0,o=0,l=0;"M"==t[0][0]&&(r=t[0][1],s=t[0][2],a=r,o=s,l++,n.push(["M",r,s]));for(var c=l,h=t.length;h>c;c++){var u=n[c]=[],d=t[c];if(d[0]!=H.call(d[0]))switch(u[0]=H.call(d[0]),u[0]){case"a":u[1]=d[1],u[2]=d[2],u[3]=d[3],u[4]=d[4],u[5]=d[5],u[6]=+(d[6]-r).toFixed(3),u[7]=+(d[7]-s).toFixed(3);break;case"v":u[1]=+(d[1]-s).toFixed(3);break;case"m":a=d[1],o=d[2];default:for(var p=1,f=d.length;f>p;p++)u[p]=+(d[p]-(p%2?r:s)).toFixed(3)}else{u=n[c]=[],"m"==d[0]&&(a=d[1]+r,o=d[2]+s);for(var g=0,m=d.length;m>g;g++)n[c][g]=d[g]}var _=n[c].length;switch(n[c][0]){case"z":r=a,s=o;break;case"h":r+=+n[c][_-1];break;case"v":s+=+n[c][_-1];break;default:r+=+n[c][_-2],s+=+n[c][_-1]}}return n.toString=i._path2string,e.rel=Dt(n),n},Mt=i._pathToAbsolute=function(t){var e=Et(t);if(e.abs)return Dt(e.abs);if(i.is(t,K)&&i.is(t&&t[0],K)||(t=i.parsePathString(t)),!t||!t.length)return[["M",0,0]];var n=[],r=0,s=0,a=0,l=0,c=0;"M"==t[0][0]&&(r=+t[0][1],s=+t[0][2],a=r,l=s,c++,n[0]=["M",r,s]);for(var h,u,d=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),p=c,f=t.length;f>p;p++){if(n.push(h=[]),u=t[p],u[0]!=et.call(u[0]))switch(h[0]=et.call(u[0]),h[0]){case"A":h[1]=u[1],h[2]=u[2],h[3]=u[3],h[4]=u[4],h[5]=u[5],h[6]=+(u[6]+r),h[7]=+(u[7]+s);break;case"V":h[1]=+u[1]+s;break;case"H":h[1]=+u[1]+r;break;case"R":for(var g=[r,s][M](u.slice(1)),m=2,_=g.length;_>m;m++)g[m]=+g[m]+r,g[++m]=+g[m]+s;n.pop(),n=n[M](o(g,d));break;case"M":a=+u[1]+r,l=+u[2]+s;default:for(m=1,_=u.length;_>m;m++)h[m]=+u[m]+(m%2?r:s)}else if("R"==u[0])g=[r,s][M](u.slice(1)),n.pop(),n=n[M](o(g,d)),h=["R"][M](u.slice(-2));else for(var v=0,b=u.length;b>v;v++)h[v]=u[v];switch(h[0]){case"Z":r=a,s=l;break;case"H":r=h[1];break;case"V":s=h[1];break;case"M":a=h[h.length-2],l=h[h.length-1];default:r=h[h.length-2],s=h[h.length-1]}}return n.toString=i._path2string,e.abs=Dt(n),n},It=function(t,e,i,n){return[t,e,i,n,i,n]},Ft=function(t,e,i,n,r,s){var a=1/3,o=2/3;return[a*t+o*i,a*e+o*n,a*r+o*i,a*s+o*n,r,s]},Pt=function(t,e,i,n,r,a,o,l,c,h){var u,d=120*W/180,p=W/180*(+r||0),f=[],g=s(function(t,e,i){return{x:t*A.cos(i)-e*A.sin(i),y:t*A.sin(i)+e*A.cos(i)}});if(h)C=h[0],T=h[1],w=h[2],k=h[3];else{u=g(t,e,-p),t=u.x,e=u.y,u=g(l,c,-p),l=u.x,c=u.y;var m=(A.cos(W/180*r),A.sin(W/180*r),(t-l)/2),_=(e-c)/2,v=m*m/(i*i)+_*_/(n*n);v>1&&(v=A.sqrt(v),i*=v,n*=v);var b=i*i,y=n*n,x=(a==o?-1:1)*A.sqrt(G((b*y-b*_*_-y*m*m)/(b*_*_+y*m*m))),w=x*i*_/n+(t+l)/2,k=x*-n*m/i+(e+c)/2,C=A.asin(((e-k)/n).toFixed(9)),T=A.asin(((c-k)/n).toFixed(9));C=w>t?W-C:C,T=w>l?W-T:T,0>C&&(C=2*W+C),0>T&&(T=2*W+T),o&&C>T&&(C-=2*W),!o&&T>C&&(T-=2*W)}var E=T-C;if(G(E)>d){var j=T,D=l,S=c;T=C+d*(o&&T>C?1:-1),l=w+i*A.cos(T),c=k+n*A.sin(T),f=Pt(l,c,i,n,r,0,o,D,S,[T,j,w,k])}E=T-C;var I=A.cos(C),F=A.sin(C),P=A.cos(T),N=A.sin(T),L=A.tan(E/4),B=4/3*i*L,H=4/3*n*L,z=[t,e],R=[t+B*F,e-H*I],$=[l+B*N,c-H*P],q=[l,c];if(R[0]=2*z[0]-R[0],R[1]=2*z[1]-R[1],h)return[R,$,q][M](f);f=[R,$,q][M](f).join()[O](",");for(var Q=[],K=0,V=f.length;V>K;K++)Q[K]=K%2?g(f[K-1],f[K],p).y:g(f[K],f[K+1],p).x;return Q},Nt=function(t,e,i,n,r,s,a,o,l){var c=1-l;return{x:$(c,3)*t+3*$(c,2)*l*i+3*c*l*l*r+$(l,3)*a,y:$(c,3)*e+3*$(c,2)*l*n+3*c*l*l*s+$(l,3)*o}},Ot=s(function(t,e,i,n,r,s,a,o){var l,c=r-2*i+t-(a-2*r+i),h=2*(i-t)-2*(r-i),u=t-i,d=(-h+A.sqrt(h*h-4*c*u))/2/c,p=(-h-A.sqrt(h*h-4*c*u))/2/c,f=[e,o],g=[t,a];return G(d)>"1e12"&&(d=.5),G(p)>"1e12"&&(p=.5),d>0&&1>d&&(l=Nt(t,e,i,n,r,s,a,o,d),g.push(l.x),f.push(l.y)),p>0&&1>p&&(l=Nt(t,e,i,n,r,s,a,o,p),g.push(l.x),f.push(l.y)),c=s-2*n+e-(o-2*s+n),h=2*(n-e)-2*(s-n),u=e-n,d=(-h+A.sqrt(h*h-4*c*u))/2/c,
p=(-h-A.sqrt(h*h-4*c*u))/2/c,G(d)>"1e12"&&(d=.5),G(p)>"1e12"&&(p=.5),d>0&&1>d&&(l=Nt(t,e,i,n,r,s,a,o,d),g.push(l.x),f.push(l.y)),p>0&&1>p&&(l=Nt(t,e,i,n,r,s,a,o,p),g.push(l.x),f.push(l.y)),{min:{x:R[S](0,g),y:R[S](0,f)},max:{x:z[S](0,g),y:z[S](0,f)}}}),Lt=i._path2curve=s(function(t,e){var i=!e&&Et(t);if(!e&&i.curve)return Dt(i.curve);for(var n=Mt(t),r=e&&Mt(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=(function(t,e,i){var n,r,s={T:1,Q:1};if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in s)&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][M](Pt[S](0,[e.x,e.y][M](t.slice(1))));break;case"S":"C"==i||"S"==i?(n=2*e.x-e.bx,r=2*e.y-e.by):(n=e.x,r=e.y),t=["C",n,r][M](t.slice(1));break;case"T":"Q"==i||"T"==i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][M](Ft(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][M](Ft(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][M](It(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][M](It(e.x,e.y,t[1],e.y));break;case"V":t=["C"][M](It(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][M](It(e.x,e.y,e.X,e.Y))}return t}),l=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)t.splice(e++,0,["C"][M](i.splice(0,6)));t.splice(e,1),u=z(n.length,r&&r.length||0)}},c=function(t,e,i,s,a){t&&e&&"M"==t[a][0]&&"M"!=e[a][0]&&(e.splice(a,0,["M",s.x,s.y]),i.bx=0,i.by=0,i.x=t[a][1],i.y=t[a][2],u=z(n.length,r&&r.length||0))},h=0,u=z(n.length,r&&r.length||0);u>h;h++){n[h]=o(n[h],s),l(n,h),r&&(r[h]=o(r[h],a)),r&&l(r,h),c(n,r,s,a,h),c(r,n,a,s,h);var d=n[h],p=r&&r[h],f=d.length,g=r&&p.length;s.x=d[f-2],s.y=d[f-1],s.bx=Z(d[f-4])||s.x,s.by=Z(d[f-3])||s.y,a.bx=r&&(Z(p[g-4])||a.x),a.by=r&&(Z(p[g-3])||a.y),a.x=r&&p[g-2],a.y=r&&p[g-1]}return r||(i.curve=Dt(n)),r?[n,r]:n},null,Dt),Bt=(i._parseDots=s(function(t){for(var e=[],n=0,r=t.length;r>n;n++){var s={},a=t[n].match(/^([^:]*):?([\d\.]*)/);if(s.color=i.getRGB(a[1]),s.color.error)return null;s.color=s.color.hex,a[2]&&(s.offset=a[2]+"%"),e.push(s)}for(n=1,r=e.length-1;r>n;n++)if(!e[n].offset){for(var o=Z(e[n-1].offset||0),l=0,c=n+1;r>c;c++)if(e[c].offset){l=e[c].offset;break}l||(l=100,c=r),l=Z(l);for(var h=(l-o)/(c-n+1);c>n;n++)o+=h,e[n].offset=o+"%"}return e}),i._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Ht=(i._tofront=function(t,e){e.top!==t&&(Bt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},i._toback=function(t,e){e.bottom!==t&&(Bt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},i._insertafter=function(t,e,i){Bt(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},i._insertbefore=function(t,e,i){Bt(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},i.toMatrix=function(t,e){var i=jt(t),n={_:{transform:F},getBBox:function(){return i}};return At(n,e),n.matrix}),At=(i.transformPath=function(t,e){return _t(t,Ht(t,e))},i._extractTransform=function(t,e){if(null==e)return t._.transform;e=N(e).replace(/\.{3}|\u2026/g,t._.transform||F);var n=i.parseTransformString(e),r=0,s=0,a=0,o=1,l=1,c=t._,h=new f;if(c.transform=n||[],n)for(var u=0,d=n.length;d>u;u++){var p,g,m,_,v,b=n[u],y=b.length,x=N(b[0]).toLowerCase(),w=b[0]!=x,k=w?h.invert():0;"t"==x&&3==y?w?(p=k.x(0,0),g=k.y(0,0),m=k.x(b[1],b[2]),_=k.y(b[1],b[2]),h.translate(m-p,_-g)):h.translate(b[1],b[2]):"r"==x?2==y?(v=v||t.getBBox(1),h.rotate(b[1],v.x+v.width/2,v.y+v.height/2),r+=b[1]):4==y&&(w?(m=k.x(b[2],b[3]),_=k.y(b[2],b[3]),h.rotate(b[1],m,_)):h.rotate(b[1],b[2],b[3]),r+=b[1]):"s"==x?2==y||3==y?(v=v||t.getBBox(1),h.scale(b[1],b[y-1],v.x+v.width/2,v.y+v.height/2),o*=b[1],l*=b[y-1]):5==y&&(w?(m=k.x(b[3],b[4]),_=k.y(b[3],b[4]),h.scale(b[1],b[2],m,_)):h.scale(b[1],b[2],b[3],b[4]),o*=b[1],l*=b[2]):"m"==x&&7==y&&h.add(b[1],b[2],b[3],b[4],b[5],b[6]),c.dirtyT=1,t.matrix=h}t.matrix=h,c.sx=o,c.sy=l,c.deg=r,c.dx=s=h.e,c.dy=a=h.f,1==o&&1==l&&!r&&c.bbox?(c.bbox.x+=+s,c.bbox.y+=+a):c.dirtyT=1}),zt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Rt=i._equaliseTransform=function(t,e){e=N(e).replace(/\.{3}|\u2026/g,t),t=i.parseTransformString(t)||[],e=i.parseTransformString(e)||[];for(var n,r,s,a,o=z(t.length,e.length),l=[],c=[],h=0;o>h;h++){if(s=t[h]||zt(e[h]),a=e[h]||zt(s),s[0]!=a[0]||"r"==s[0].toLowerCase()&&(s[2]!=a[2]||s[3]!=a[3])||"s"==s[0].toLowerCase()&&(s[3]!=a[3]||s[4]!=a[4]))return;for(l[h]=[],c[h]=[],n=0,r=z(s.length,a.length);r>n;n++)n in s&&(l[h][n]=s[n]),n in a&&(c[h][n]=a[n])}return{from:l,to:c}};i._getContainer=function(t,e,n,r){var s;return s=null!=r||i.is(t,"object")?t:E.doc.getElementById(t),null!=s?s.tagName?null==e?{container:s,width:s.style.pixelWidth||s.offsetWidth,height:s.style.pixelHeight||s.offsetHeight}:{container:s,width:e,height:n}:{container:1,x:t,y:e,width:n,height:r}:void 0},i.pathToRelative=St,i._engine={},i.path2curve=Lt,i.matrix=function(t,e,i,n,r,s){return new f(t,e,i,n,r,s)},function(t){function e(t){return t[0]*t[0]+t[1]*t[1]}function n(t){var i=A.sqrt(e(t));t[0]&&(t[0]/=i),t[1]&&(t[1]/=i)}t.add=function(t,e,i,n,r,s){var a,o,l,c,h=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],d=[[t,i,r],[e,n,s],[0,0,1]];for(t&&t instanceof f&&(d=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),a=0;3>a;a++)for(o=0;3>o;o++){for(c=0,l=0;3>l;l++)c+=u[a][l]*d[l][o];h[a][o]=c}this.a=h[0][0],this.b=h[1][0],this.c=h[0][1],this.d=h[1][1],this.e=h[0][2],this.f=h[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new f(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,i,n){null==e&&(e=t),(i||n)&&this.add(1,0,0,1,i,n),this.add(t,0,0,e,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},t.rotate=function(t,e,n){t=i.rad(t),e=e||0,n=n||0;var r=+A.cos(t).toFixed(9),s=+A.sin(t).toFixed(9);this.add(r,s,-s,r,e,n),this.add(1,0,0,1,-e,-n)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[N.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return i.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];t.scalex=A.sqrt(e(r[0])),n(r[0]),t.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*t.shear,r[1][1]-r[0][1]*t.shear],t.scaley=A.sqrt(e(r[1])),n(r[1]),t.shear/=t.scaley;var s=-r[0][1],a=r[1][1];return 0>a?(t.rotate=i.deg(A.acos(a)),0>s&&(t.rotate=360-t.rotate)):t.rotate=i.deg(A.asin(s)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[O]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:F)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:F)+(e.rotate?"r"+[e.rotate,0,0]:F)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(f.prototype);var Gt=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);x.safari="Apple Computer, Inc."==navigator.vendor&&(Gt&&Gt[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Gt&&Gt[1]<8?function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:dt;for(var $t=function(){this.returnValue=!1},Wt=function(){return this.originalEvent.preventDefault()},qt=function(){this.cancelBubble=!0},Qt=function(){return this.originalEvent.stopPropagation()},Kt=function(t){var e=E.doc.documentElement.scrollTop||E.doc.body.scrollTop,i=E.doc.documentElement.scrollLeft||E.doc.body.scrollLeft;return{x:t.clientX+i,y:t.clientY+e}},Vt=function(){return E.doc.addEventListener?function(t,e,i,n){var r=function(t){var e=Kt(t);return i.call(n,t,e.x,e.y)};if(t.addEventListener(e,r,!1),I&&B[e]){var s=function(e){for(var r=Kt(e),s=e,a=0,o=e.targetTouches&&e.targetTouches.length;o>a;a++)if(e.targetTouches[a].target==t){e=e.targetTouches[a],e.originalEvent=s,e.preventDefault=Wt,e.stopPropagation=Qt;break}return i.call(n,e,r.x,r.y)};t.addEventListener(B[e],s,!1)}return function(){return t.removeEventListener(e,r,!1),I&&B[e]&&t.removeEventListener(B[e],r,!1),!0}}:E.doc.attachEvent?function(t,e,i,n){var r=function(t){t=t||E.win.event;var e=E.doc.documentElement.scrollTop||E.doc.body.scrollTop,r=E.doc.documentElement.scrollLeft||E.doc.body.scrollLeft,s=t.clientX+r,a=t.clientY+e;return t.preventDefault=t.preventDefault||$t,t.stopPropagation=t.stopPropagation||qt,i.call(n,t,s,a)};return t.attachEvent("on"+e,r),function(){return t.detachEvent("on"+e,r),!0}}:void 0}(),Jt=[],Ut=function(t){for(var i,n=t.clientX,r=t.clientY,s=E.doc.documentElement.scrollTop||E.doc.body.scrollTop,a=E.doc.documentElement.scrollLeft||E.doc.body.scrollLeft,o=Jt.length;o--;){if(i=Jt[o],I&&t.touches){for(var l,c=t.touches.length;c--;)if(l=t.touches[c],l.identifier==i.el._drag.id){n=l.clientX,r=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var h,u=i.el.node,d=u.nextSibling,p=u.parentNode,f=u.style.display;E.win.opera&&p.removeChild(u),u.style.display="none",h=i.el.paper.getElementByPoint(n,r),u.style.display=f,E.win.opera&&(d?p.insertBefore(u,d):p.appendChild(u)),h&&e("raphael.drag.over."+i.el.id,i.el,h),n+=a,r+=s,e("raphael.drag.move."+i.el.id,i.move_scope||i.el,n-i.el._drag.x,r-i.el._drag.y,n,r,t)}},Yt=function(t){i.unmousemove(Ut).unmouseup(Yt);for(var n,r=Jt.length;r--;)n=Jt[r],n.el._drag={},e("raphael.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,t);Jt=[]},Xt=i.el={},Zt=L.length;Zt--;)!function(t){i[t]=Xt[t]=function(e,n){return i.is(e,"function")&&(this.events=this.events||[],this.events.push({name:t,f:e,unbind:Vt(this.shape||this.node||E.doc,t,e,n||this)})),this},i["un"+t]=Xt["un"+t]=function(e){for(var n=this.events||[],r=n.length;r--;)n[r].name!=t||!i.is(e,"undefined")&&n[r].f!=e||(n[r].unbind(),n.splice(r,1),!n.length&&delete this.events);return this}}(L[Zt]);Xt.data=function(t,n){var r=ht[this.id]=ht[this.id]||{};if(0==arguments.length)return r;if(1==arguments.length){if(i.is(t,"object")){for(var s in t)t[T](s)&&this.data(s,t[s]);return this}return e("raphael.data.get."+this.id,this,r[t],t),r[t]}return r[t]=n,e("raphael.data.set."+this.id,this,n,t),this},Xt.removeData=function(t){return null==t?ht[this.id]={}:ht[this.id]&&delete ht[this.id][t],this},Xt.getData=function(){return n(ht[this.id]||{})},Xt.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},Xt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var te=[];Xt.drag=function(t,n,r,s,a,o){function l(l){(l.originalEvent||l).preventDefault();var c=l.clientX,h=l.clientY,u=E.doc.documentElement.scrollTop||E.doc.body.scrollTop,d=E.doc.documentElement.scrollLeft||E.doc.body.scrollLeft;if(this._drag.id=l.identifier,I&&l.touches)for(var p,f=l.touches.length;f--;)if(p=l.touches[f],this._drag.id=p.identifier,p.identifier==this._drag.id){c=p.clientX,h=p.clientY;break}this._drag.x=c+d,this._drag.y=h+u,!Jt.length&&i.mousemove(Ut).mouseup(Yt),Jt.push({el:this,move_scope:s,start_scope:a,end_scope:o}),n&&e.on("raphael.drag.start."+this.id,n),t&&e.on("raphael.drag.move."+this.id,t),r&&e.on("raphael.drag.end."+this.id,r),e("raphael.drag.start."+this.id,a||s||this,l.clientX+d,l.clientY+u,l)}return this._drag={},te.push({el:this,start:l}),this.mousedown(l),this},Xt.onDragOver=function(t){t?e.on("raphael.drag.over."+this.id,t):e.unbind("raphael.drag.over."+this.id)},Xt.undrag=function(){for(var t=te.length;t--;)te[t].el==this&&(this.unmousedown(te[t].start),te.splice(t,1),e.unbind("raphael.drag.*."+this.id));!te.length&&i.unmousemove(Ut).unmouseup(Yt),Jt=[]},x.circle=function(t,e,n){var r=i._engine.circle(this,t||0,e||0,n||0);return this.__set__&&this.__set__.push(r),r},x.rect=function(t,e,n,r,s){var a=i._engine.rect(this,t||0,e||0,n||0,r||0,s||0);return this.__set__&&this.__set__.push(a),a},x.ellipse=function(t,e,n,r){var s=i._engine.ellipse(this,t||0,e||0,n||0,r||0);return this.__set__&&this.__set__.push(s),s},x.path=function(t){t&&!i.is(t,Q)&&!i.is(t[0],K)&&(t+=F);var e=i._engine.path(i.format[S](i,arguments),this);return this.__set__&&this.__set__.push(e),e},x.image=function(t,e,n,r,s){var a=i._engine.image(this,t||"about:blank",e||0,n||0,r||0,s||0);return this.__set__&&this.__set__.push(a),a},x.text=function(t,e,n){var r=i._engine.text(this,t||0,e||0,N(n));return this.__set__&&this.__set__.push(r),r},x.set=function(t){!i.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new de(t);return this.__set__&&this.__set__.push(e),e.paper=this,e.type="set",e},x.setStart=function(t){this.__set__=t||this.set()},x.setFinish=function(){var t=this.__set__;return delete this.__set__,t},x.setSize=function(t,e){return i._engine.setSize.call(this,t,e)},x.setViewBox=function(t,e,n,r,s){return i._engine.setViewBox.call(this,t,e,n,r,s)},x.top=x.bottom=null,x.raphael=i;var ee=function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,n=i.body,r=i.documentElement,s=r.clientTop||n.clientTop||0,a=r.clientLeft||n.clientLeft||0;return{y:e.top+(E.win.pageYOffset||r.scrollTop||n.scrollTop)-s,x:e.left+(E.win.pageXOffset||r.scrollLeft||n.scrollLeft)-a}};x.getElementByPoint=function(t,e){var i=this,n=i.canvas,r=E.doc.elementFromPoint(t,e);if(E.win.opera&&"svg"==r.tagName){var s=ee(n),a=n.createSVGRect();a.x=t-s.x,a.y=e-s.y,a.width=a.height=1;var o=n.getIntersectionList(a,null);o.length&&(r=o[o.length-1])}if(!r)return null;for(;r.parentNode&&r!=n.parentNode&&!r.raphael;)r=r.parentNode;return r==i.canvas.parentNode&&(r=n),r=r&&r.raphael?i.getById(r.raphaelid):null},x.getElementsByBBox=function(t){var e=this.set();return this.forEach(function(n){i.isBBoxIntersect(n.getBBox(),t)&&e.push(n)}),e},x.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},x.forEach=function(t,e){for(var i=this.bottom;i;){if(!1===t.call(e,i))return this;i=i.next}return this},x.getElementsByPoint=function(t,e){var i=this.set();return this.forEach(function(n){n.isPointInside(t,e)&&i.push(n)}),i},Xt.isPointInside=function(t,e){var n=this.realPath=mt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(n=i.transformPath(n,this.attr("transform"))),i.isPointInsidePath(n,t,e)},Xt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?((e.dirty||!e.bboxwt)&&(this.realPath=mt[this.type](this),e.bboxwt=jt(this.realPath),e.bboxwt.toString=g,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&((e.dirty||!this.realPath)&&(e.bboxwt=0,this.realPath=mt[this.type](this)),e.bbox=jt(_t(this.realPath,this.matrix)),e.bbox.toString=g,e.dirty=e.dirtyT=0),e.bbox)},Xt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Xt.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},i=e.width/2,n=this.paper,r=n.set(),s=this.realPath||mt[this.type](this);s=this.matrix?_t(s,this.matrix):s;for(var a=1;i+1>a;a++)r.push(n.path(s).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/i*a).toFixed(3),opacity:+(e.opacity/i).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};var ie=function(t,e,n,r,s,a,o,l,u){return null==u?c(t,e,n,r,s,a,o,l):i.findDotsAtSegment(t,e,n,r,s,a,o,l,h(t,e,n,r,s,a,o,l,u))},ne=function(t,e){return function(n,r,s){n=Lt(n);for(var a,o,l,c,h,u="",d={},p=0,f=0,g=n.length;g>f;f++){if(l=n[f],"M"==l[0])a=+l[1],o=+l[2];else{if(c=ie(a,o,l[1],l[2],l[3],l[4],l[5],l[6]),p+c>r){if(e&&!d.start){if(h=ie(a,o,l[1],l[2],l[3],l[4],l[5],l[6],r-p),u+=["C"+h.start.x,h.start.y,h.m.x,h.m.y,h.x,h.y],s)return u;d.start=u,u=["M"+h.x,h.y+"C"+h.n.x,h.n.y,h.end.x,h.end.y,l[5],l[6]].join(),p+=c,a=+l[5],o=+l[6];continue}if(!t&&!e)return h=ie(a,o,l[1],l[2],l[3],l[4],l[5],l[6],r-p),{x:h.x,y:h.y,alpha:h.alpha}}p+=c,a=+l[5],o=+l[6]}u+=l.shift()+l}return d.end=u,h=t?p:e?d:i.findDotsAtSegment(a,o,l[0],l[1],l[2],l[3],l[4],l[5],1),h.alpha&&(h={x:h.x,y:h.y,alpha:h.alpha}),h}},re=ne(1),se=ne(),ae=ne(0,1);i.getTotalLength=re,i.getPointAtLength=se,i.getSubpath=function(t,e,i){if(this.getTotalLength(t)-i<1e-6)return ae(t,e).end;var n=ae(t,i,1);return e?ae(n,e).end:n},Xt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():re(t)},Xt.getPointAtLength=function(t){var e=this.getPath();if(e)return se(e,t)},Xt.getPath=function(){var t,e=i._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return e&&(t=e(this)),t},Xt.getSubpath=function(t,e){var n=this.getPath();if(n)return i.getSubpath(n,t,e)};var oe=i.easing_formulas={linear:function(t){return t},"<":function(t){return $(t,1.7)},">":function(t){return $(t,.48)},"<>":function(t){var e=.48-t/1.04,i=A.sqrt(.1734+e*e),n=i-e,r=$(G(n),1/3)*(0>n?-1:1),s=-i-e,a=$(G(s),1/3)*(0>s?-1:1),o=r+a+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:$(2,-10*t)*A.sin(2*(t-.075)*W/.3)+1},bounce:function(t){var e,i=7.5625,n=2.75;return 1/n>t?e=i*t*t:2/n>t?(t-=1.5/n,e=i*t*t+.75):2.5/n>t?(t-=2.25/n,e=i*t*t+.9375):(t-=2.625/n,e=i*t*t+.984375),e}};oe.easeIn=oe["ease-in"]=oe["<"],oe.easeOut=oe["ease-out"]=oe[">"],oe.easeInOut=oe["ease-in-out"]=oe["<>"],oe["back-in"]=oe.backIn,oe["back-out"]=oe.backOut;var le=[],ce=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},he=function(){for(var t=+new Date,n=0;n<le.length;n++){var r=le[n];if(!r.el.removed&&!r.paused){var s,a,o=t-r.start,l=r.ms,c=r.easing,h=r.from,u=r.diff,d=r.to,p=(r.t,r.el),f={},g={};if(r.initstatus?(o=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*l,r.status=r.initstatus,delete r.initstatus,r.stop&&le.splice(n--,1)):r.status=(r.prev+(r.percent-r.prev)*(o/l))/r.anim.top,!(0>o))if(l>o){var m=c(o/l);for(var _ in h)if(h[T](_)){switch(nt[_]){case q:s=+h[_]+m*l*u[_];break;case"colour":s="rgb("+[ue(X(h[_].r+m*l*u[_].r)),ue(X(h[_].g+m*l*u[_].g)),ue(X(h[_].b+m*l*u[_].b))].join(",")+")";break;case"path":s=[];for(var b=0,y=h[_].length;y>b;b++){s[b]=[h[_][b][0]];for(var x=1,w=h[_][b].length;w>x;x++)s[b][x]=+h[_][b][x]+m*l*u[_][b][x];s[b]=s[b].join(P)}s=s.join(P);break;case"transform":if(u[_].real)for(s=[],b=0,y=h[_].length;y>b;b++)for(s[b]=[h[_][b][0]],x=1,w=h[_][b].length;w>x;x++)s[b][x]=h[_][b][x]+m*l*u[_][b][x];else{var k=function(t){return+h[_][t]+m*l*u[_][t]};s=[["m",k(0),k(1),k(2),k(3),k(4),k(5)]]}break;case"csv":if("clip-rect"==_)for(s=[],b=4;b--;)s[b]=+h[_][b]+m*l*u[_][b];break;default:var C=[][M](h[_]);for(s=[],b=p.paper.customAttributes[_].length;b--;)s[b]=+C[b]+m*l*u[_][b]}f[_]=s}p.attr(f),function(t,i,n){setTimeout(function(){e("raphael.anim.frame."+t,i,n)})}(p.id,p,r.anim)}else{if(function(t,n,r){setTimeout(function(){e("raphael.anim.frame."+n.id,n,r),e("raphael.anim.finish."+n.id,n,r),i.is(t,"function")&&t.call(n)})}(r.callback,p,r.anim),p.attr(d),le.splice(n--,1),r.repeat>1&&!r.next){for(a in d)d[T](a)&&(g[a]=r.totalOrigin[a]);r.el.attr(g),v(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&v(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}i.svg&&p&&p.paper&&p.paper.safari(),le.length&&ce(he)},ue=function(t){return t>255?255:0>t?0:t};Xt.animateWith=function(t,e,n,r,s,a){var o=this;if(o.removed)return a&&a.call(o),o;var l=n instanceof _?n:i.animation(n,r,s,a);v(l,o,l.percents[0],null,o.attr());for(var c=0,h=le.length;h>c;c++)if(le[c].anim==e&&le[c].el==t){le[h-1].start=le[c].start;break}return o},Xt.onAnimation=function(t){return t?e.on("raphael.anim.frame."+this.id,t):e.unbind("raphael.anim.frame."+this.id),this},_.prototype.delay=function(t){var e=new _(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},_.prototype.repeat=function(t){var e=new _(this.anim,this.ms);return e.del=this.del,e.times=A.floor(z(t,0))||1,e},i.animation=function(t,e,n,r){if(t instanceof _)return t;(i.is(n,"function")||!n)&&(r=r||n||null,n=null),t=Object(t),e=+e||0;var s,a,o={};for(a in t)t[T](a)&&Z(a)!=a&&Z(a)+"%"!=a&&(s=!0,o[a]=t[a]);return s?(n&&(o.easing=n),r&&(o.callback=r),new _({100:o},e)):new _(t,e)},Xt.animate=function(t,e,n,r){var s=this;if(s.removed)return r&&r.call(s),s;var a=t instanceof _?t:i.animation(t,e,n,r);return v(a,s,a.percents[0],null,s.attr()),s},Xt.setTime=function(t,e){return t&&null!=e&&this.status(t,R(e,t.ms)/t.ms),this},Xt.status=function(t,e){var i,n,r=[],s=0;if(null!=e)return v(t,this,-1,R(e,1)),this;for(i=le.length;i>s;s++)if(n=le[s],n.el.id==this.id&&(!t||n.anim==t)){if(t)return n.status;r.push({anim:n.anim,status:n.status})}return t?0:r},Xt.pause=function(t){for(var i=0;i<le.length;i++)le[i].el.id!=this.id||t&&le[i].anim!=t||!1!==e("raphael.anim.pause."+this.id,this,le[i].anim)&&(le[i].paused=!0);return this},Xt.resume=function(t){for(var i=0;i<le.length;i++)if(le[i].el.id==this.id&&(!t||le[i].anim==t)){var n=le[i];!1!==e("raphael.anim.resume."+this.id,this,n.anim)&&(delete n.paused,this.status(n.anim,n.status))}return this},Xt.stop=function(t){for(var i=0;i<le.length;i++)le[i].el.id!=this.id||t&&le[i].anim!=t||!1!==e("raphael.anim.stop."+this.id,this,le[i].anim)&&le.splice(i--,1);return this},e.on("raphael.remove",b),e.on("raphael.clear",b),Xt.toString=function(){return"Raphaël’s object"};var de=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,i=t.length;i>e;e++)!t[e]||t[e].constructor!=Xt.constructor&&t[e].constructor!=de||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},pe=de.prototype;pe.push=function(){for(var t,e,i=0,n=arguments.length;n>i;i++)!(t=arguments[i])||t.constructor!=Xt.constructor&&t.constructor!=de||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},pe.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},pe.forEach=function(t,e){for(var i=0,n=this.items.length;n>i;i++)if(!1===t.call(e,this.items[i],i))return this;return this};for(var fe in Xt)Xt[T](fe)&&(pe[fe]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t][S](i,e)})}}(fe));return pe.attr=function(t,e){if(t&&i.is(t,K)&&i.is(t[0],"object"))for(var n=0,r=t.length;r>n;n++)this.items[n].attr(t[n]);else for(var s=0,a=this.items.length;a>s;s++)this.items[s].attr(t,e);return this},pe.clear=function(){for(;this.length;)this.pop()},pe.splice=function(t,e){t=0>t?z(this.length+t,0):t,e=z(0,R(this.length-t,e));var i,n=[],r=[],s=[];for(i=2;i<arguments.length;i++)s.push(arguments[i]);for(i=0;e>i;i++)r.push(this[t+i]);for(;i<this.length-t;i++)n.push(this[t+i]);var a=s.length;for(i=0;i<a+n.length;i++)this.items[t+i]=this[t+i]=a>i?s[i]:n[i-a];for(i=this.items.length=this.length-=e-a;this[i];)delete this[i++];return new de(r)},pe.exclude=function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]==t)return this.splice(e,1),!0},pe.animate=function(t,e,n,r){(i.is(n,"function")||!n)&&(r=n||null);var s,a,o=this.items.length,l=o,c=this;if(!o)return this;r&&(a=function(){!--o&&r.call(c)}),n=i.is(n,Q)?n:a;var h=i.animation(t,e,n,a);for(s=this.items[--l].animate(h);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(s,h,h),this.items[l]&&!this.items[l].removed||o--;return this},pe.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},pe.getBBox=function(){for(var t=[],e=[],i=[],n=[],r=this.items.length;r--;)if(!this.items[r].removed){var s=this.items[r].getBBox();t.push(s.x),e.push(s.y),i.push(s.x+s.width),n.push(s.y+s.height)}return t=R[S](0,t),e=R[S](0,e),i=z[S](0,i),n=z[S](0,n),{x:t,y:e,x2:i,y2:n,width:i-t,height:n-e}},pe.clone=function(t){t=this.paper.set();for(var e=0,i=this.items.length;i>e;e++)t.push(this.items[e].clone());return t},pe.toString=function(){return"Raphaël‘s set"},pe.glow=function(t){var e=this.paper.set();return this.forEach(function(i){var n=i.glow(t);null!=n&&n.forEach(function(t){e.push(t)})}),e},pe.isPointInside=function(t,e){var i=!1;return this.forEach(function(n){return n.isPointInside(t,e)?(i=!0,!1):void 0}),i},i.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},i=t.face["font-family"];for(var n in t.face)t.face[T](n)&&(e.face[n]=t.face[n]);if(this.fonts[i]?this.fonts[i].push(e):this.fonts[i]=[e],!t.svg){e.face["units-per-em"]=tt(t.face["units-per-em"],10);for(var r in t.glyphs)if(t.glyphs[T](r)){var s=t.glyphs[r];if(e.glyphs[r]={w:s.w,k:{},d:s.d&&"M"+s.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},s.k)for(var a in s.k)s[T](a)&&(e.glyphs[r].k[a]=s.k[a])}}return t},x.getFont=function(t,e,n,r){if(r=r||"normal",n=n||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,i.fonts){var s=i.fonts[t];if(!s){var a=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,F)+"(\\s|$)","i");for(var o in i.fonts)if(i.fonts[T](o)&&a.test(o)){s=i.fonts[o];break}}var l;if(s)for(var c=0,h=s.length;h>c&&(l=s[c],l.face["font-weight"]!=e||l.face["font-style"]!=n&&l.face["font-style"]||l.face["font-stretch"]!=r);c++);return l}},x.print=function(t,e,n,r,s,a,o,l){a=a||"middle",o=z(R(o||0,1),-1),l=z(R(l||1,3),1);var c,h=N(n)[O](F),u=0,d=0,p=F;if(i.is(r,"string")&&(r=this.getFont(r)),r){c=(s||16)/r.face["units-per-em"];for(var f=r.face.bbox[O](w),g=+f[0],m=f[3]-f[1],_=0,v=+f[1]+("baseline"==a?m+ +r.face.descent:m/2),b=0,y=h.length;y>b;b++){if("\n"==h[b])u=0,k=0,d=0,_+=m*l;else{var x=d&&r.glyphs[h[b-1]]||{},k=r.glyphs[h[b]];u+=d?(x.w||r.w)+(x.k&&x.k[h[b]]||0)+r.w*o:0,d=1}k&&k.d&&(p+=i.transformPath(k.d,["t",u*c,_*c,"s",c,c,g,v,"t",(t-g)/c,(e-v)/c]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},x.add=function(t){if(i.is(t,"array"))for(var e,n=this.set(),r=0,s=t.length;s>r;r++)e=t[r]||{},k[T](e.type)&&n.push(this[e.type]().attr(e));return n},i.format=function(t,e){var n=i.is(e,K)?[0][M](e):arguments;return t&&i.is(t,Q)&&n.length-1&&(t=t.replace(C,function(t,e){return null==n[++e]?F:n[e]})),t||F},i.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(t,i,n){var r=n;return i.replace(e,function(t,e,i,n,s){e=e||n,r&&(e in r&&(r=r[e]),"function"==typeof r&&s&&(r=r()))}),r=(null==r||r==n?t:r)+""};return function(e,n){return String(e).replace(t,function(t,e){return i(t,e,n)})}}(),i.ninja=function(){return j.was?E.win.Raphael=j.is:delete Raphael,i},i.st=pe,function(t,e,n){function r(){/in/.test(t.readyState)?setTimeout(r,9):i.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener(e,n=function(){t.removeEventListener(e,n,!1),t.readyState="complete"},!1),t.readyState="loading"),r()}(document,"DOMContentLoaded"),e.on("raphael.DOMload",function(){y=!0}),function(){if(i.svg){var t="hasOwnProperty",e=String,n=parseFloat,r=parseInt,s=Math,a=s.max,o=s.abs,l=s.pow,c=/[, ]+/,h=i.eve,u="",d=" ",p="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};i.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var m=function(n,r){if(r){"string"==typeof n&&(n=m(n));for(var s in r)r[t](s)&&("xlink:"==s.substring(0,6)?n.setAttributeNS(p,s.substring(6),e(r[s])):n.setAttribute(s,e(r[s])))}else n=i._g.doc.createElementNS("http://www.w3.org/2000/svg",n),n.style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},_=function(t,r){var c="linear",h=t.id+r,d=.5,p=.5,f=t.node,g=t.paper,_=f.style,v=i._g.doc.getElementById(h);if(!v){if(r=e(r).replace(i._radial_gradient,function(t,e,i){if(c="radial",e&&i){d=n(e),p=n(i);var r=2*(p>.5)-1;l(d-.5,2)+l(p-.5,2)>.25&&(p=s.sqrt(.25-l(d-.5,2))*r+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*r)}return u}),r=r.split(/\s*\-\s*/),"linear"==c){var b=r.shift();if(b=-n(b),isNaN(b))return null;var y=[0,0,s.cos(i.rad(b)),s.sin(i.rad(b))],x=1/(a(o(y[2]),o(y[3]))||1);y[2]*=x,y[3]*=x,y[2]<0&&(y[0]=-y[2],y[2]=0),y[3]<0&&(y[1]=-y[3],y[3]=0)}var w=i._parseDots(r);if(!w)return null;if(h=h.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&h!=t.gradient.id&&(g.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){v=m(c+"Gradient",{id:h}),t.gradient=v,m(v,"radial"==c?{fx:d,fy:p}:{x1:y[0],y1:y[1],x2:y[2],y2:y[3],gradientTransform:t.matrix.invert()}),g.defs.appendChild(v);for(var k=0,C=w.length;C>k;k++)v.appendChild(m("stop",{offset:w[k].offset?w[k].offset:k?"100%":"0%","stop-color":w[k].color||"#fff"}))}}return m(f,{fill:"url(#"+h+")",opacity:1,"fill-opacity":1}),_.fill=u,_.opacity=1,_.fillOpacity=1,1},v=function(t){var e=t.getBBox(1);m(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},b=function(n,r,s){if("path"==n.type){for(var a,o,l,c,h,d=e(r).toLowerCase().split("-"),p=n.paper,_=s?"end":"start",v=n.node,b=n.attrs,y=b["stroke-width"],x=d.length,w="classic",k=3,C=3,T=5;x--;)switch(d[x]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=d[x];break;case"wide":C=5;break;case"narrow":C=2;break;case"long":k=5;break;case"short":k=2}if("open"==w?(k+=2,C+=2,T+=2,l=1,c=s?4:1,h={fill:"none",stroke:b.stroke}):(c=l=k/2,h={fill:b.stroke,stroke:"none"}),n._.arrows?s?(n._.arrows.endPath&&g[n._.arrows.endPath]--,n._.arrows.endMarker&&g[n._.arrows.endMarker]--):(n._.arrows.startPath&&g[n._.arrows.startPath]--,n._.arrows.startMarker&&g[n._.arrows.startMarker]--):n._.arrows={},"none"!=w){var E="raphael-marker-"+w,j="raphael-marker-"+_+w+k+C;i._g.doc.getElementById(E)?g[E]++:(p.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:f[w],id:E})),g[E]=1);var D,S=i._g.doc.getElementById(j);S?(g[j]++,D=S.getElementsByTagName("use")[0]):(S=m(m("marker"),{id:j,markerHeight:C,markerWidth:k,orient:"auto",refX:c,refY:C/2}),D=m(m("use"),{"xlink:href":"#"+E,transform:(s?"rotate(180 "+k/2+" "+C/2+") ":u)+"scale("+k/T+","+C/T+")","stroke-width":(1/((k/T+C/T)/2)).toFixed(4)}),S.appendChild(D),p.defs.appendChild(S),g[j]=1),m(D,h);var M=l*("diamond"!=w&&"oval"!=w);s?(a=n._.arrows.startdx*y||0,o=i.getTotalLength(b.path)-M*y):(a=M*y,o=i.getTotalLength(b.path)-(n._.arrows.enddx*y||0)),h={},h["marker-"+_]="url(#"+j+")",(o||a)&&(h.d=i.getSubpath(b.path,a,o)),m(v,h),n._.arrows[_+"Path"]=E,n._.arrows[_+"Marker"]=j,n._.arrows[_+"dx"]=M,n._.arrows[_+"Type"]=w,n._.arrows[_+"String"]=r}else s?(a=n._.arrows.startdx*y||0,o=i.getTotalLength(b.path)-a):(a=0,o=i.getTotalLength(b.path)-(n._.arrows.enddx*y||0)),n._.arrows[_+"Path"]&&m(v,{d:i.getSubpath(b.path,a,o)}),delete n._.arrows[_+"Path"],delete n._.arrows[_+"Marker"],delete n._.arrows[_+"dx"],delete n._.arrows[_+"Type"],delete n._.arrows[_+"String"];for(h in g)if(g[t](h)&&!g[h]){var I=i._g.doc.getElementById(h);I&&I.parentNode.removeChild(I)}}},y={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],
"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},x=function(t,i,n){if(i=y[e(i).toLowerCase()]){for(var r=t.attrs["stroke-width"]||"1",s={round:r,square:r,butt:0}[t.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,a=[],o=i.length;o--;)a[o]=i[o]*r+(o%2?1:-1)*s;m(t.node,{"stroke-dasharray":a.join(",")})}},w=function(n,s){var l=n.node,h=n.attrs,d=l.style.visibility;l.style.visibility="hidden";for(var f in s)if(s[t](f)){if(!i._availableAttrs[t](f))continue;var g=s[f];switch(h[f]=g,f){case"blur":n.blur(g);break;case"title":var y=l.getElementsByTagName("title");if(y.length&&(y=y[0]))y.firstChild.nodeValue=g;else{y=m("title");var w=i._g.doc.createTextNode(g);y.appendChild(w),l.appendChild(y)}break;case"href":case"target":var C=l.parentNode;if("a"!=C.tagName.toLowerCase()){var T=m("a");C.insertBefore(T,l),T.appendChild(l),C=T,T.setAttribute("tabindex",-1)}"target"==f?C.setAttributeNS(p,"show","blank"==g?"new":g):C.setAttributeNS(p,f,g);break;case"cursor":l.style.cursor=g;break;case"transform":n.transform(g);break;case"arrow-start":b(n,g);break;case"arrow-end":b(n,g,1);break;case"clip-rect":var E=e(g).split(c);if(4==E.length){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var j=m("clipPath"),D=m("rect");j.id=i.createUUID(),m(D,{x:E[0],y:E[1],width:E[2],height:E[3]}),j.appendChild(D),n.paper.defs.appendChild(j),m(l,{"clip-path":"url(#"+j.id+")"}),n.clip=D}if(!g){var S=l.getAttribute("clip-path");if(S){var M=i._g.doc.getElementById(S.replace(/(^url\(#|\)$)/g,u));M&&M.parentNode.removeChild(M),m(l,{"clip-path":u}),delete n.clip}}break;case"path":"path"==n.type&&(m(l,{d:g?h.path=i._pathToAbsolute(g):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1)));break;case"width":if(l.setAttribute(f,g),n._.dirty=1,!h.fx)break;f="x",g=h.x;case"x":h.fx&&(g=-h.x-(h.width||0));case"rx":if("rx"==f&&"rect"==n.type)break;case"cx":l.setAttribute(f,g),n.pattern&&v(n),n._.dirty=1;break;case"height":if(l.setAttribute(f,g),n._.dirty=1,!h.fy)break;f="y",g=h.y;case"y":h.fy&&(g=-h.y-(h.height||0));case"ry":if("ry"==f&&"rect"==n.type)break;case"cy":l.setAttribute(f,g),n.pattern&&v(n),n._.dirty=1;break;case"r":"rect"==n.type?m(l,{rx:g,ry:g}):l.setAttribute(f,g),n._.dirty=1;break;case"src":"image"==n.type&&l.setAttributeNS(p,"href",g);break;case"stroke-width":(1!=n._.sx||1!=n._.sy)&&(g/=a(o(n._.sx),o(n._.sy))||1),n.paper._vbSize&&(g*=n.paper._vbSize),l.setAttribute(f,g),h["stroke-dasharray"]&&x(n,h["stroke-dasharray"],s),n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"stroke-dasharray":x(n,g,s);break;case"fill":var I=e(g).match(i._ISURL);if(I){j=m("pattern");var F=m("image");j.id=i.createUUID(),m(j,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(F,{x:0,y:0,"xlink:href":I[1]}),j.appendChild(F),function(t){i._preload(I[1],function(){var e=this.offsetWidth,i=this.offsetHeight;m(t,{width:e,height:i}),m(F,{width:e,height:i}),n.paper.safari()})}(j),n.paper.defs.appendChild(j),m(l,{fill:"url(#"+j.id+")"}),n.pattern=j,n.pattern&&v(n);break}var P=i.getRGB(g);if(P.error){if(("circle"==n.type||"ellipse"==n.type||"r"!=e(g).charAt())&&_(n,g)){if("opacity"in h||"fill-opacity"in h){var N=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u));if(N){var O=N.getElementsByTagName("stop");m(O[O.length-1],{"stop-opacity":("opacity"in h?h.opacity:1)*("fill-opacity"in h?h["fill-opacity"]:1)})}}h.gradient=g,h.fill="none";break}}else delete s.gradient,delete h.gradient,!i.is(h.opacity,"undefined")&&i.is(s.opacity,"undefined")&&m(l,{opacity:h.opacity}),!i.is(h["fill-opacity"],"undefined")&&i.is(s["fill-opacity"],"undefined")&&m(l,{"fill-opacity":h["fill-opacity"]});P[t]("opacity")&&m(l,{"fill-opacity":P.opacity>1?P.opacity/100:P.opacity});case"stroke":P=i.getRGB(g),l.setAttribute(f,P.hex),"stroke"==f&&P[t]("opacity")&&m(l,{"stroke-opacity":P.opacity>1?P.opacity/100:P.opacity}),"stroke"==f&&n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"gradient":("circle"==n.type||"ellipse"==n.type||"r"!=e(g).charAt())&&_(n,g);break;case"opacity":h.gradient&&!h[t]("stroke-opacity")&&m(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(h.gradient){(N=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u)))&&(O=N.getElementsByTagName("stop"),m(O[O.length-1],{"stop-opacity":g}));break}default:"font-size"==f&&(g=r(g,10)+"px");var L=f.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[L]=g,n._.dirty=1,l.setAttribute(f,g)}}k(n,s),l.style.visibility=d},k=function(n,s){if("text"==n.type&&(s[t]("text")||s[t]("font")||s[t]("font-size")||s[t]("x")||s[t]("y"))){var a=n.attrs,o=n.node,l=o.firstChild?r(i._g.doc.defaultView.getComputedStyle(o.firstChild,u).getPropertyValue("font-size"),10):10;if(s[t]("text")){for(a.text=s.text;o.firstChild;)o.removeChild(o.firstChild);for(var c,h=e(s.text).split("\n"),d=[],p=0,f=h.length;f>p;p++)c=m("tspan"),p&&m(c,{dy:1.2*l,x:a.x}),c.appendChild(i._g.doc.createTextNode(h[p])),o.appendChild(c),d[p]=c}else for(d=o.getElementsByTagName("tspan"),p=0,f=d.length;f>p;p++)p?m(d[p],{dy:1.2*l,x:a.x}):m(d[0],{dy:0});m(o,{x:a.x,y:a.y}),n._.dirty=1;var g=n._getBBox(),_=a.y-(g.y+g.height/2);_&&i.is(_,"finite")&&m(d[0],{dy:_})}},C=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=i._oid++,t.raphaelid=this.id,this.matrix=i.matrix(),this.realPath=null,this.paper=e,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},T=i.el;C.prototype=T,T.constructor=C,i._engine.path=function(t,e){var i=m("path");e.canvas&&e.canvas.appendChild(i);var n=new C(i,e);return n.type="path",w(n,{fill:"none",stroke:"#000",path:t}),n},T.rotate=function(t,i,r){if(this.removed)return this;if(t=e(t).split(c),t.length-1&&(i=n(t[1]),r=n(t[2])),t=n(t[0]),null==r&&(i=r),null==i||null==r){var s=this.getBBox(1);i=s.x+s.width/2,r=s.y+s.height/2}return this.transform(this._.transform.concat([["r",t,i,r]])),this},T.scale=function(t,i,r,s){if(this.removed)return this;if(t=e(t).split(c),t.length-1&&(i=n(t[1]),r=n(t[2]),s=n(t[3])),t=n(t[0]),null==i&&(i=t),null==s&&(r=s),null==r||null==s)var a=this.getBBox(1);return r=null==r?a.x+a.width/2:r,s=null==s?a.y+a.height/2:s,this.transform(this._.transform.concat([["s",t,i,r,s]])),this},T.translate=function(t,i){return this.removed?this:(t=e(t).split(c),t.length-1&&(i=n(t[1])),t=n(t[0])||0,i=+i||0,this.transform(this._.transform.concat([["t",t,i]])),this)},T.transform=function(e){var n=this._;if(null==e)return n.transform;if(i._extractTransform(this,e),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&v(this),this.node&&m(this.node,{transform:this.matrix}),1!=n.sx||1!=n.sy){var r=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return this},T.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},T.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},T.remove=function(){if(!this.removed&&this.node.parentNode){var t=this.paper;t.__set__&&t.__set__.exclude(this),h.unbind("raphael.*.*."+this.id),this.gradient&&t.defs.removeChild(this.gradient),i._tear(this,t),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var e in this)this[e]="function"==typeof this[e]?i._removedFactory(e):null;this.removed=!0}},T._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(t){}finally{e=e||{}}return t&&this.hide(),e},T.attr=function(e,n){if(this.removed)return this;if(null==e){var r={};for(var s in this.attrs)this.attrs[t](s)&&(r[s]=this.attrs[s]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==n&&i.is(e,"string")){if("fill"==e&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==e)return this._.transform;for(var a=e.split(c),o={},l=0,u=a.length;u>l;l++)e=a[l],o[e]=e in this.attrs?this.attrs[e]:i.is(this.paper.customAttributes[e],"function")?this.paper.customAttributes[e].def:i._availableAttrs[e];return u-1?o:o[a[0]]}if(null==n&&i.is(e,"array")){for(o={},l=0,u=e.length;u>l;l++)o[e[l]]=this.attr(e[l]);return o}if(null!=n){var d={};d[e]=n}else null!=e&&i.is(e,"object")&&(d=e);for(var p in d)h("raphael.attr."+p+"."+this.id,this,d[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&d[t](p)&&i.is(this.paper.customAttributes[p],"function")){var f=this.paper.customAttributes[p].apply(this,[].concat(d[p]));this.attrs[p]=d[p];for(var g in f)f[t](g)&&(d[g]=f[g])}return w(this,d),this},T.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var t=this.paper;return t.top!=this&&i._tofront(this,t),this},T.toBack=function(){if(this.removed)return this;var t=this.node.parentNode;return"a"==t.tagName.toLowerCase()?t.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):t.firstChild!=this.node&&t.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper),this.paper,this},T.insertAfter=function(t){if(this.removed)return this;var e=t.node||t[t.length-1].node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode.appendChild(this.node),i._insertafter(this,t,this.paper),this},T.insertBefore=function(t){if(this.removed)return this;var e=t.node||t[0].node;return e.parentNode.insertBefore(this.node,e),i._insertbefore(this,t,this.paper),this},T.blur=function(t){var e=this;if(0!=+t){var n=m("filter"),r=m("feGaussianBlur");e.attrs.blur=t,n.id=i.createUUID(),m(r,{stdDeviation:+t||1.5}),n.appendChild(r),e.paper.defs.appendChild(n),e._blur=n,m(e.node,{filter:"url(#"+n.id+")"})}else e._blur&&(e._blur.parentNode.removeChild(e._blur),delete e._blur,delete e.attrs.blur),e.node.removeAttribute("filter");return e},i._engine.circle=function(t,e,i,n){var r=m("circle");t.canvas&&t.canvas.appendChild(r);var s=new C(r,t);return s.attrs={cx:e,cy:i,r:n,fill:"none",stroke:"#000"},s.type="circle",m(r,s.attrs),s},i._engine.rect=function(t,e,i,n,r,s){var a=m("rect");t.canvas&&t.canvas.appendChild(a);var o=new C(a,t);return o.attrs={x:e,y:i,width:n,height:r,r:s||0,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},o.type="rect",m(a,o.attrs),o},i._engine.ellipse=function(t,e,i,n,r){var s=m("ellipse");t.canvas&&t.canvas.appendChild(s);var a=new C(s,t);return a.attrs={cx:e,cy:i,rx:n,ry:r,fill:"none",stroke:"#000"},a.type="ellipse",m(s,a.attrs),a},i._engine.image=function(t,e,i,n,r,s){var a=m("image");m(a,{x:i,y:n,width:r,height:s,preserveAspectRatio:"none"}),a.setAttributeNS(p,"href",e),t.canvas&&t.canvas.appendChild(a);var o=new C(a,t);return o.attrs={x:i,y:n,width:r,height:s,src:e},o.type="image",o},i._engine.text=function(t,e,n,r){var s=m("text");t.canvas&&t.canvas.appendChild(s);var a=new C(s,t);return a.attrs={x:e,y:n,"text-anchor":"middle",text:r,font:i._availableAttrs.font,stroke:"none",fill:"#000"},a.type="text",w(a,a.attrs),a},i._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},i._engine.create=function(){var t=i._getContainer.apply(0,arguments),e=t&&t.container,n=t.x,r=t.y,s=t.width,a=t.height;if(!e)throw new Error("SVG container not found.");var o,l=m("svg"),c="overflow:hidden;";return n=n||0,r=r||0,s=s||512,a=a||342,m(l,{height:a,version:1.1,width:s,xmlns:"http://www.w3.org/2000/svg"}),1==e?(l.style.cssText=c+"position:absolute;left:"+n+"px;top:"+r+"px",i._g.doc.body.appendChild(l),o=1):(l.style.cssText=c+"position:relative",e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l)),e=new i._Paper,e.width=s,e.height=a,e.canvas=l,e.clear(),e._left=e._top=0,o&&(e.renderfix=function(){}),e.renderfix(),e},i._engine.setViewBox=function(t,e,i,n,r){h("raphael.setViewBox",this,this._viewBox,[t,e,i,n,r]);var s,o,l=a(i/this.width,n/this.height),c=this.top,u=r?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,s="0 0 "+this.width+d+this.height):(this._vbSize=l,s=t+d+e+d+i+d+n),m(this.canvas,{viewBox:s,preserveAspectRatio:u});l&&c;)o="stroke-width"in c.attrs?c.attrs["stroke-width"]:1,c.attr({"stroke-width":o}),c._.dirty=1,c._.dirtyT=1,c=c.prev;return this._viewBox=[t,e,i,n,!!r],this},i.prototype.renderfix=function(){var t,e=this.canvas,i=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(i){t=e.createSVGMatrix()}var n=-t.e%1,r=-t.f%1;(n||r)&&(n&&(this._left=(this._left+n)%1,i.left=this._left+"px"),r&&(this._top=(this._top+r)%1,i.top=this._top+"px"))},i.prototype.clear=function(){i.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(i._g.doc.createTextNode("Created with Raphaël "+i.version)),t.appendChild(this.desc),t.appendChild(this.defs=m("defs"))},i.prototype.remove=function(){h("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]="function"==typeof this[t]?i._removedFactory(t):null};var E=i.st;for(var j in T)T[t](j)&&!E[t](j)&&(E[j]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(j))}}(),function(){if(i.vml){var t="hasOwnProperty",e=String,n=parseFloat,r=Math,s=r.round,a=r.max,o=r.min,l=r.abs,c="fill",h=/[, ]+/,u=i.eve,d=" ",p="",f={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},g=/([clmz]),?([^clmz]*)/gi,m=/ progid:\S+Blur\([^\)]+\)/g,_=/-?[^,\s-]+/g,v="position:absolute;left:0;top:0;width:1px;height:1px",b=21600,y={path:1,rect:1,image:1},x={circle:1,ellipse:1},w=function(t){var n=/[ahqstv]/gi,r=i._pathToAbsolute;if(e(t).match(n)&&(r=i._path2curve),n=/[clmz]/g,r==i._pathToAbsolute&&!e(t).match(n)){var a=e(t).replace(g,function(t,e,i){var n=[],r="m"==e.toLowerCase(),a=f[e];return i.replace(_,function(t){r&&2==n.length&&(a+=n+f["m"==e?"l":"L"],n=[]),n.push(s(t*b))}),a+n});return a}var o,l,c=r(t);a=[];for(var h=0,u=c.length;u>h;h++){o=c[h],"z"==(l=c[h][0].toLowerCase())&&(l="x");for(var m=1,v=o.length;v>m;m++)l+=s(o[m]*b)+(m!=v-1?",":p);a.push(l)}return a.join(d)},k=function(t,e,n){var r=i.matrix();return r.rotate(-t,.5,.5),{dx:r.x(e,n),dy:r.y(e,n)}},C=function(t,e,i,n,r,s){var a=t._,o=t.matrix,h=a.fillpos,u=t.node,p=u.style,f=1,g="",m=b/e,_=b/i;if(p.visibility="hidden",e&&i){if(u.coordsize=l(m)+d+l(_),p.rotation=s*(0>e*i?-1:1),s){var v=k(s,n,r);n=v.dx,r=v.dy}if(0>e&&(g+="x"),0>i&&(g+=" y")&&(f=-1),p.flip=g,u.coordorigin=n*-m+d+r*-_,h||a.fillsize){var y=u.getElementsByTagName(c);y=y&&y[0],u.removeChild(y),h&&(v=k(s,o.x(h[0],h[1]),o.y(h[0],h[1])),y.position=v.dx*f+d+v.dy*f),a.fillsize&&(y.size=a.fillsize[0]*l(e)+d+a.fillsize[1]*l(i)),u.appendChild(y)}p.visibility="visible"}};i.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var T=function(t,i,n){for(var r=e(i).toLowerCase().split("-"),s=n?"end":"start",a=r.length,o="classic",l="medium",c="medium";a--;)switch(r[a]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":o=r[a];break;case"wide":case"narrow":c=r[a];break;case"long":case"short":l=r[a]}var h=t.node.getElementsByTagName("stroke")[0];h[s+"arrow"]=o,h[s+"arrowlength"]=l,h[s+"arrowwidth"]=c},E=function(r,l){r.attrs=r.attrs||{};var u=r.node,f=r.attrs,g=u.style,m=y[r.type]&&(l.x!=f.x||l.y!=f.y||l.width!=f.width||l.height!=f.height||l.cx!=f.cx||l.cy!=f.cy||l.rx!=f.rx||l.ry!=f.ry||l.r!=f.r),_=x[r.type]&&(f.cx!=l.cx||f.cy!=l.cy||f.r!=l.r||f.rx!=l.rx||f.ry!=l.ry),v=r;for(var k in l)l[t](k)&&(f[k]=l[k]);if(m&&(f.path=i._getPath[r.type](r),r._.dirty=1),l.href&&(u.href=l.href),l.title&&(u.title=l.title),l.target&&(u.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&r.blur(l.blur),(l.path&&"path"==r.type||m)&&(u.path=w(~e(f.path).toLowerCase().indexOf("r")?i._pathToAbsolute(f.path):f.path),"image"==r.type&&(r._.fillpos=[f.x,f.y],r._.fillsize=[f.width,f.height],C(r,1,1,0,0,0))),"transform"in l&&r.transform(l.transform),_){var E=+f.cx,D=+f.cy,S=+f.rx||+f.r||0,I=+f.ry||+f.r||0;u.path=i.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",s((E-S)*b),s((D-I)*b),s((E+S)*b),s((D+I)*b),s(E*b)),r._.dirty=1}if("clip-rect"in l){var F=e(l["clip-rect"]).split(h);if(4==F.length){F[2]=+F[2]+ +F[0],F[3]=+F[3]+ +F[1];var P=u.clipRect||i._g.doc.createElement("div"),N=P.style;N.clip=i.format("rect({1}px {2}px {3}px {0}px)",F),u.clipRect||(N.position="absolute",N.top=0,N.left=0,N.width=r.paper.width+"px",N.height=r.paper.height+"px",u.parentNode.insertBefore(P,u),P.appendChild(u),u.clipRect=P)}l["clip-rect"]||u.clipRect&&(u.clipRect.style.clip="auto")}if(r.textpath){var O=r.textpath.style;l.font&&(O.font=l.font),l["font-family"]&&(O.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,p)+'"'),l["font-size"]&&(O.fontSize=l["font-size"]),l["font-weight"]&&(O.fontWeight=l["font-weight"]),l["font-style"]&&(O.fontStyle=l["font-style"])}if("arrow-start"in l&&T(v,l["arrow-start"]),"arrow-end"in l&&T(v,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var L=u.getElementsByTagName(c);if(L=L&&L[0],!L&&(L=M(c)),"image"==r.type&&l.src&&(L.src=l.src),l.fill&&(L.on=!0),(null==L.on||"none"==l.fill||null===l.fill)&&(L.on=!1),L.on&&l.fill){var B=e(l.fill).match(i._ISURL);if(B){L.parentNode==u&&u.removeChild(L),L.rotate=!0,L.src=B[1],L.type="tile";var H=r.getBBox(1);L.position=H.x+d+H.y,r._.fillpos=[H.x,H.y],i._preload(B[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})}else L.color=i.getRGB(l.fill).hex,L.src=p,L.type="solid",i.getRGB(l.fill).error&&(v.type in{circle:1,ellipse:1}||"r"!=e(l.fill).charAt())&&j(v,l.fill,L)&&(f.fill="none",f.gradient=l.fill,L.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var A=((+f["fill-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+i.getRGB(l.fill).o+1||2)-1);A=o(a(A,0),1),L.opacity=A,L.src&&(L.color="none")}u.appendChild(L);var z=u.getElementsByTagName("stroke")&&u.getElementsByTagName("stroke")[0],R=!1;!z&&(R=z=M("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(z.on=!0),("none"==l.stroke||null===l.stroke||null==z.on||0==l.stroke||0==l["stroke-width"])&&(z.on=!1);var G=i.getRGB(l.stroke);z.on&&l.stroke&&(z.color=G.hex),A=((+f["stroke-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+G.o+1||2)-1);var $=.75*(n(l["stroke-width"])||1);if(A=o(a(A,0),1),null==l["stroke-width"]&&($=f["stroke-width"]),l["stroke-width"]&&(z.weight=$),$&&1>$&&(A*=$)&&(z.weight=1),z.opacity=A,l["stroke-linejoin"]&&(z.joinstyle=l["stroke-linejoin"]||"miter"),z.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(z.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var W={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};z.dashstyle=W[t](l["stroke-dasharray"])?W[l["stroke-dasharray"]]:p}R&&u.appendChild(z)}if("text"==v.type){v.paper.canvas.style.display=p;var q=v.paper.span,Q=f.font&&f.font.match(/\d+(?:\.\d*)?(?=px)/);g=q.style,f.font&&(g.font=f.font),f["font-family"]&&(g.fontFamily=f["font-family"]),f["font-weight"]&&(g.fontWeight=f["font-weight"]),f["font-style"]&&(g.fontStyle=f["font-style"]),Q=n(f["font-size"]||Q&&Q[0])||10,g.fontSize=100*Q+"px",v.textpath.string&&(q.innerHTML=e(v.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var K=q.getBoundingClientRect();v.W=f.w=(K.right-K.left)/100,v.H=f.h=(K.bottom-K.top)/100,v.X=f.x,v.Y=f.y+v.H/2,("x"in l||"y"in l)&&(v.path.v=i.format("m{0},{1}l{2},{1}",s(f.x*b),s(f.y*b),s(f.x*b)+1));for(var V=["x","y","text","font","font-family","font-weight","font-style","font-size"],J=0,U=V.length;U>J;J++)if(V[J]in l){v._.dirty=1;break}switch(f["text-anchor"]){case"start":v.textpath.style["v-text-align"]="left",v.bbx=v.W/2;break;case"end":v.textpath.style["v-text-align"]="right",v.bbx=-v.W/2;break;default:v.textpath.style["v-text-align"]="center",v.bbx=0}v.textpath.style["v-text-kern"]=!0}},j=function(t,s,a){t.attrs=t.attrs||{};var o=(t.attrs,Math.pow),l="linear",c=".5 .5";if(t.attrs.gradient=s,s=e(s).replace(i._radial_gradient,function(t,e,i){return l="radial",e&&i&&(e=n(e),i=n(i),o(e-.5,2)+o(i-.5,2)>.25&&(i=r.sqrt(.25-o(e-.5,2))*(2*(i>.5)-1)+.5),c=e+d+i),p}),s=s.split(/\s*\-\s*/),"linear"==l){var h=s.shift();if(h=-n(h),isNaN(h))return null}var u=i._parseDots(s);if(!u)return null;if(t=t.shape||t.node,u.length){t.removeChild(a),a.on=!0,a.method="none",a.color=u[0].color,a.color2=u[u.length-1].color;for(var f=[],g=0,m=u.length;m>g;g++)u[g].offset&&f.push(u[g].offset+d+u[g].color);a.colors=f.length?f.join():"0% "+a.color,"radial"==l?(a.type="gradientTitle",a.focus="100%",a.focussize="0 0",a.focusposition=c,a.angle=0):(a.type="gradient",a.angle=(270-h)%360),t.appendChild(a)}return 1},D=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=i._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=e,this.matrix=i.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},S=i.el;D.prototype=S,S.constructor=D,S.transform=function(t){if(null==t)return this._.transform;var n,r=this.paper._viewBoxShift,s=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:p;r&&(n=t=e(t).replace(/\.{3}|\u2026/g,this._.transform||p)),i._extractTransform(this,s+t);var a,o=this.matrix.clone(),l=this.skew,c=this.node,h=~e(this.attrs.fill).indexOf("-"),u=!e(this.attrs.fill).indexOf("url(");if(o.translate(1,1),u||h||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",a=o.split(),h&&a.noRotation||!a.isSimple){c.style.filter=o.toFilter();var f=this.getBBox(),g=this.getBBox(1),m=f.x-g.x,_=f.y-g.y;c.coordorigin=m*-b+d+_*-b,C(this,1,1,m,_,0)}else c.style.filter=p,C(this,a.scalex,a.scaley,a.dx,a.dy,a.rotate);else c.style.filter=p,l.matrix=e(o),l.offset=o.offset();return n&&(this._.transform=n),this},S.rotate=function(t,i,r){if(this.removed)return this;if(null!=t){if(t=e(t).split(h),t.length-1&&(i=n(t[1]),r=n(t[2])),t=n(t[0]),null==r&&(i=r),null==i||null==r){var s=this.getBBox(1);i=s.x+s.width/2,r=s.y+s.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,i,r]])),this}},S.translate=function(t,i){return this.removed?this:(t=e(t).split(h),t.length-1&&(i=n(t[1])),t=n(t[0])||0,i=+i||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=i),this.transform(this._.transform.concat([["t",t,i]])),this)},S.scale=function(t,i,r,s){if(this.removed)return this;if(t=e(t).split(h),t.length-1&&(i=n(t[1]),r=n(t[2]),s=n(t[3]),isNaN(r)&&(r=null),isNaN(s)&&(s=null)),t=n(t[0]),null==i&&(i=t),null==s&&(r=s),null==r||null==s)var a=this.getBBox(1);return r=null==r?a.x+a.width/2:r,s=null==s?a.y+a.height/2:s,this.transform(this._.transform.concat([["s",t,i,r,s]])),this._.dirtyT=1,this},S.hide=function(){return!this.removed&&(this.node.style.display="none"),this},S.show=function(){return!this.removed&&(this.node.style.display=p),this},S._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},S.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),i.eve.unbind("raphael.*.*."+this.id),i._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)this[t]="function"==typeof this[t]?i._removedFactory(t):null;this.removed=!0}},S.attr=function(e,n){if(this.removed)return this;if(null==e){var r={};for(var s in this.attrs)this.attrs[t](s)&&(r[s]=this.attrs[s]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==n&&i.is(e,"string")){if(e==c&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var a=e.split(h),o={},l=0,d=a.length;d>l;l++)e=a[l],o[e]=e in this.attrs?this.attrs[e]:i.is(this.paper.customAttributes[e],"function")?this.paper.customAttributes[e].def:i._availableAttrs[e];return d-1?o:o[a[0]]}if(this.attrs&&null==n&&i.is(e,"array")){for(o={},l=0,d=e.length;d>l;l++)o[e[l]]=this.attr(e[l]);return o}var p;null!=n&&(p={},p[e]=n),null==n&&i.is(e,"object")&&(p=e);for(var f in p)u("raphael.attr."+f+"."+this.id,this,p[f]);if(p){for(f in this.paper.customAttributes)if(this.paper.customAttributes[t](f)&&p[t](f)&&i.is(this.paper.customAttributes[f],"function")){var g=this.paper.customAttributes[f].apply(this,[].concat(p[f]));this.attrs[f]=p[f];for(var m in g)g[t](m)&&(p[m]=g[m])}p.text&&"text"==this.type&&(this.textpath.string=p.text),E(this,p)}return this},S.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&i._tofront(this,this.paper),this},S.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper)),this)},S.insertAfter=function(t){return this.removed?this:(t.constructor==i.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),i._insertafter(this,t,this.paper),this)},S.insertBefore=function(t){return this.removed?this:(t.constructor==i.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),i._insertbefore(this,t,this.paper),this)},S.blur=function(t){var e=this.node.runtimeStyle,n=e.filter;return n=n.replace(m,p),0!=+t?(this.attrs.blur=t,e.filter=n+d+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+t||1.5)+")",e.margin=i.format("-{0}px 0 0 -{0}px",s(+t||1.5))):(e.filter=n,e.margin=0,delete this.attrs.blur),this},i._engine.path=function(t,e){var i=M("shape");i.style.cssText=v,i.coordsize=b+d+b,i.coordorigin=e.coordorigin;var n=new D(i,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),n.type="path",n.path=[],n.Path=p,E(n,r),e.canvas.appendChild(i);var s=M("skew");return s.on=!0,i.appendChild(s),n.skew=s,n.transform(p),n},i._engine.rect=function(t,e,n,r,s,a){var o=i._rectPath(e,n,r,s,a),l=t.path(o),c=l.attrs;return l.X=c.x=e,l.Y=c.y=n,l.W=c.width=r,l.H=c.height=s,c.r=a,c.path=o,l.type="rect",l},i._engine.ellipse=function(t,e,i,n,r){var s=t.path();return s.attrs,s.X=e-n,s.Y=i-r,s.W=2*n,s.H=2*r,s.type="ellipse",E(s,{cx:e,cy:i,rx:n,ry:r}),s},i._engine.circle=function(t,e,i,n){var r=t.path();return r.attrs,r.X=e-n,r.Y=i-n,r.W=r.H=2*n,r.type="circle",E(r,{cx:e,cy:i,r:n}),r},i._engine.image=function(t,e,n,r,s,a){var o=i._rectPath(n,r,s,a),l=t.path(o).attr({stroke:"none"}),h=l.attrs,u=l.node,d=u.getElementsByTagName(c)[0];return h.src=e,l.X=h.x=n,l.Y=h.y=r,l.W=h.width=s,l.H=h.height=a,h.path=o,l.type="image",d.parentNode==u&&u.removeChild(d),d.rotate=!0,d.src=e,d.type="tile",l._.fillpos=[n,r],l._.fillsize=[s,a],u.appendChild(d),C(l,1,1,0,0,0),l},i._engine.text=function(t,n,r,a){var o=M("shape"),l=M("path"),c=M("textpath");n=n||0,r=r||0,a=a||"",l.v=i.format("m{0},{1}l{2},{1}",s(n*b),s(r*b),s(n*b)+1),l.textpathok=!0,c.string=e(a),c.on=!0,o.style.cssText=v,o.coordsize=b+d+b,o.coordorigin="0 0";var h=new D(o,t),u={fill:"#000",stroke:"none",font:i._availableAttrs.font,text:a};h.shape=o,h.path=l,h.textpath=c,h.type="text",h.attrs.text=e(a),h.attrs.x=n,h.attrs.y=r,h.attrs.w=1,h.attrs.h=1,E(h,u),o.appendChild(c),o.appendChild(l),t.canvas.appendChild(o);var f=M("skew");return f.on=!0,o.appendChild(f),h.skew=f,h.transform(p),h},i._engine.setSize=function(t,e){var n=this.canvas.style;return this.width=t,this.height=e,t==+t&&(t+="px"),e==+e&&(e+="px"),n.width=t,n.height=e,n.clip="rect(0 "+t+" "+e+" 0)",this._viewBox&&i._engine.setViewBox.apply(this,this._viewBox),this},i._engine.setViewBox=function(t,e,n,r,s){i.eve("raphael.setViewBox",this,this._viewBox,[t,e,n,r,s]);var o,l,c=this.width,h=this.height,u=1/a(n/c,r/h);return s&&(o=h/r,l=c/n,c>n*o&&(t-=(c-n*o)/2/o),h>r*l&&(e-=(h-r*l)/2/l)),this._viewBox=[t,e,n,r,!!s],this._viewBoxShift={dx:-t,dy:-e,scale:u},this.forEach(function(t){t.transform("...")}),this};var M;i._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),M=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){M=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},i._engine.initWin(i._g.win),i._engine.create=function(){var t=i._getContainer.apply(0,arguments),e=t.container,n=t.height,r=t.width,s=t.x,a=t.y;if(!e)throw new Error("VML container not found.");var o=new i._Paper,l=o.canvas=i._g.doc.createElement("div"),c=l.style;return s=s||0,a=a||0,r=r||512,n=n||342,o.width=r,o.height=n,r==+r&&(r+="px"),n==+n&&(n+="px"),o.coordsize=216e5+d+216e5,o.coordorigin="0 0",o.span=i._g.doc.createElement("span"),o.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(o.span),c.cssText=i.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,n),1==e?(i._g.doc.body.appendChild(l),c.left=s+"px",c.top=a+"px",c.position="absolute"):e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l),o.renderfix=function(){},o},i.prototype.clear=function(){i.eve("raphael.clear",this),this.canvas.innerHTML=p,this.span=i._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},i.prototype.remove=function(){i.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]="function"==typeof this[t]?i._removedFactory(t):null;return!0};var I=i.st;for(var F in S)S[t](F)&&!I[t](F)&&(I[F]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(F))}}(),j.was?E.win.Raphael=i:Raphael=i,i}),Raphael.el.popup=function(t,e,i,n){var r,s,a,o,l=this.paper||this[0].paper;if(l){switch(this.type){case"text":case"circle":case"ellipse":s=!0;break;default:s=!1}return t=null==t?"up":t,e=e||5,r=this.getBBox(),i="number"==typeof i?i:s?r.x+r.width/2:r.x,n="number"==typeof n?n:s?r.y+r.height/2:r.y,a=Math.max(r.width/2-e,0),o=Math.max(r.height/2-e,0),this.translate(i-r.x-(s?r.width/2:0),n-r.y-(s?r.height/2:0)),r=this.getBBox(),i={up:["M",i,n,"l",-e,-e,-a,0,"a",e,e,0,0,1,-e,-e,"l",0,-r.height,"a",e,e,0,0,1,e,-e,"l",2*e+2*a,0,"a",e,e,0,0,1,e,e,"l",0,r.height,"a",e,e,0,0,1,-e,e,"l",-a,0,"z"].join(),down:["M",i,n,"l",e,e,a,0,"a",e,e,0,0,1,e,e,"l",0,r.height,"a",e,e,0,0,1,-e,e,"l",-(2*e+2*a),0,"a",e,e,0,0,1,-e,-e,"l",0,-r.height,"a",e,e,0,0,1,e,-e,"l",a,0,"z"].join(),left:["M",i,n,"l",-e,e,0,o,"a",e,e,0,0,1,-e,e,"l",-r.width,0,"a",e,e,0,0,1,-e,-e,"l",0,-(2*e+2*o),"a",e,e,0,0,1,e,-e,"l",r.width,0,"a",e,e,0,0,1,e,e,"l",0,o,"z"].join(),right:["M",i,n,"l",e,-e,0,-o,"a",e,e,0,0,1,e,-e,"l",r.width,0,"a",e,e,0,0,1,e,e,"l",0,2*e+2*o,"a",e,e,0,0,1,-e,e,"l",-r.width,0,"a",e,e,0,0,1,-e,-e,"l",0,-o,"z"].join()},
e={up:{x:-!s*(r.width/2),y:2*-e-(s?r.height/2:r.height)},down:{x:-!s*(r.width/2),y:2*e+(s?r.height/2:r.height)},left:{x:2*-e-(s?r.width/2:r.width),y:-!s*(r.height/2)},right:{x:2*e+(s?r.width/2:r.width),y:-!s*(r.height/2)}}[t],this.translate(e.x,e.y),l.path(i[t]).attr({fill:"#000",stroke:"none"}).insertBefore(this.node?this:this[0])}},Raphael.el.tag=function(t,e,i,n){var r=this.paper||this[0].paper;if(r){var s,a,o,r=r.path().attr({fill:"#000",stroke:"#000"}),l=this.getBBox();switch(this.type){case"text":case"circle":case"ellipse":o=!0;break;default:o=!1}return t=t||0,i="number"==typeof i?i:o?l.x+l.width/2:l.x,n="number"==typeof n?n:o?l.y+l.height/2:l.y,e=null==e?5:e,a=.5522*e,l.height>=2*e?r.attr({path:["M",i,n+e,"a",e,e,0,1,1,0,2*-e,e,e,0,1,1,0,2*e,"m",0,2*-e-3,"a",e+3,e+3,0,1,0,0,2*(e+3),"L",i+e+3,n+l.height/2+3,"l",l.width+6,0,0,-l.height-6,-l.width-6,0,"L",i,n-e-3].join()}):(s=Math.sqrt(Math.pow(e+3,2)-Math.pow(l.height/2+3,2)),r.attr({path:["M",i,n+e,"c",-a,0,-e,a-e,-e,-e,0,-a,e-a,-e,e,-e,a,0,e,e-a,e,e,0,a,a-e,e,-e,e,"M",i+s,n-l.height/2-3,"a",e+3,e+3,0,1,0,0,l.height+6,"l",e+3-s+l.width+6,0,0,-l.height-6,"L",i+s,n-l.height/2-3].join()})),t=360-t,r.rotate(t,i,n),this.attrs?(this.attr(this.attrs.x?"x":"cx",i+e+3+(o?l.width/2:"text"==this.type?l.width:0)).attr("y",o?n:n-l.height/2),this.rotate(t,i,n),90<t&&270>t&&this.attr(this.attrs.x?"x":"cx",i-e-3-(o?l.width/2:l.width)).rotate(180,i,n)):90<t&&270>t?(this.translate(i-l.x-l.width-e-3,n-l.y-l.height/2),this.rotate(t-180,l.x+l.width+e+3,l.y+l.height/2)):(this.translate(i-l.x+e+3,n-l.y-l.height/2),this.rotate(t,l.x-e-3,l.y+l.height/2)),r.insertBefore(this.node?this:this[0])}},Raphael.el.drop=function(t,e,i){var n,r,s=this.getBBox(),a=this.paper||this[0].paper;if(a){switch(this.type){case"text":case"circle":case"ellipse":n=!0;break;default:n=!1}return t=t||0,e="number"==typeof e?e:n?s.x+s.width/2:s.x,i="number"==typeof i?i:n?s.y+s.height/2:s.y,r=Math.max(s.width,s.height)+Math.min(s.width,s.height),a=a.path(["M",e,i,"l",r,0,"A",.4*r,.4*r,0,1,0,e+.7*r,i-.7*r,"z"]).attr({fill:"#000",stroke:"none"}).rotate(22.5-t,e,i),t=(t+90)*Math.PI/180,e=e+r*Math.sin(t)-(n?0:s.width/2),t=i+r*Math.cos(t)-(n?0:s.height/2),this.attrs?this.attr(this.attrs.x?"x":"cx",e).attr(this.attrs.y?"y":"cy",t):this.translate(e-s.x,t-s.y),a.insertBefore(this.node?this:this[0])}},Raphael.el.flag=function(t,e,i){var n=this.paper||this[0].paper;if(n){var r,n=n.path().attr({fill:"#000",stroke:"#000"}),s=this.getBBox(),a=s.height/2;switch(this.type){case"text":case"circle":case"ellipse":r=!0;break;default:r=!1}return t=t||0,e="number"==typeof e?e:r?s.x+s.width/2:s.x,i="number"==typeof i?i:r?s.y+s.height/2:s.y,n.attr({path:["M",e,i,"l",a+3,-a-3,s.width+6,0,0,s.height+6,-s.width-6,0,"z"].join()}),t=360-t,n.rotate(t,e,i),this.attrs?(this.attr(this.attrs.x?"x":"cx",e+a+3+(r?s.width/2:"text"==this.type?s.width:0)).attr("y",r?i:i-s.height/2),this.rotate(t,e,i),90<t&&270>t&&this.attr(this.attrs.x?"x":"cx",e-a-3-(r?s.width/2:s.width)).rotate(180,e,i)):90<t&&270>t?(this.translate(e-s.x-s.width-a-3,i-s.y-s.height/2),this.rotate(t-180,s.x+s.width+a+3,s.y+s.height/2)):(this.translate(e-s.x+a+3,i-s.y-s.height/2),this.rotate(t,s.x-a-3,s.y+s.height/2)),n.insertBefore(this.node?this:this[0])}},Raphael.el.label=function(){var t=this.getBBox(),e=this.paper||this[0].paper,i=Math.min(20,t.width+10,t.height+10)/2;if(e)return e.rect(t.x-i/2,t.y-i/2,t.width+i,t.height+i,i).attr({stroke:"none",fill:"#000"}).insertBefore(this.node?this:this[0])},Raphael.el.blob=function(t,e,i){var n,r,s=this.getBBox(),a=Math.PI/180,o=this.paper||this[0].paper;if(o){switch(this.type){case"text":case"circle":case"ellipse":n=!0;break;default:n=!1}o=o.path().attr({fill:"#000",stroke:"none"}),t=(+t+1?t:45)+90,r=Math.min(s.height,s.width);var e="number"==typeof e?e:n?s.x+s.width/2:s.x,i="number"==typeof i?i:n?s.y+s.height/2:s.y,l=Math.max(s.width+r,25*r/12),c=Math.max(s.height+r,25*r/12);n=e+r*Math.sin((t-22.5)*a);var h=i+r*Math.cos((t-22.5)*a),u=e+r*Math.sin((t+22.5)*a),t=i+r*Math.cos((t+22.5)*a),a=(u-n)/2;r=(t-h)/2;var l=l/2,c=c/2,d=-Math.sqrt(Math.abs(l*l*c*c-l*l*r*r-c*c*a*a)/(l*l*r*r+c*c*a*a));return r=d*l*r/c+(u+n)/2,a=d*-c*a/l+(t+h)/2,o.attr({x:r,y:a,path:["M",e,i,"L",u,t,"A",l,c,0,1,1,n,h,"z"].join()}),this.translate(r-s.x-s.width/2,a-s.y-s.height/2),o.insertBefore(this.node?this:this[0])}},Raphael.fn.label=function(t,e,i){var n=this.set(),i=this.text(t,e,i).attr(Raphael.g.txtattr);return n.push(i.label(),i)},Raphael.fn.popup=function(t,e,i,n,r){var s=this.set(),i=this.text(t,e,i).attr(Raphael.g.txtattr);return s.push(i.popup(n,r),i)},Raphael.fn.tag=function(t,e,i,n,r){var s=this.set(),i=this.text(t,e,i).attr(Raphael.g.txtattr);return s.push(i.tag(n,r),i)},Raphael.fn.flag=function(t,e,i,n){var r=this.set(),i=this.text(t,e,i).attr(Raphael.g.txtattr);return r.push(i.flag(n),i)},Raphael.fn.drop=function(t,e,i,n){var r=this.set(),i=this.text(t,e,i).attr(Raphael.g.txtattr);return r.push(i.drop(n),i)},Raphael.fn.blob=function(t,e,i,n){var r=this.set(),i=this.text(t,e,i).attr(Raphael.g.txtattr);return r.push(i.blob(n),i)},Raphael.el.lighter=function(t){var t=t||2,e=[this.attrs.fill,this.attrs.stroke];return this.fs=this.fs||[e[0],e[1]],e[0]=Raphael.rgb2hsb(Raphael.getRGB(e[0]).hex),e[1]=Raphael.rgb2hsb(Raphael.getRGB(e[1]).hex),e[0].b=Math.min(e[0].b*t,1),e[0].s/=t,e[1].b=Math.min(e[1].b*t,1),e[1].s/=t,this.attr({fill:"hsb("+[e[0].h,e[0].s,e[0].b]+")",stroke:"hsb("+[e[1].h,e[1].s,e[1].b]+")"}),this},Raphael.el.darker=function(t){var t=t||2,e=[this.attrs.fill,this.attrs.stroke];return this.fs=this.fs||[e[0],e[1]],e[0]=Raphael.rgb2hsb(Raphael.getRGB(e[0]).hex),e[1]=Raphael.rgb2hsb(Raphael.getRGB(e[1]).hex),e[0].s=Math.min(e[0].s*t,1),e[0].b/=t,e[1].s=Math.min(e[1].s*t,1),e[1].b/=t,this.attr({fill:"hsb("+[e[0].h,e[0].s,e[0].b]+")",stroke:"hsb("+[e[1].h,e[1].s,e[1].b]+")"}),this},Raphael.el.resetBrightness=function(){return this.fs&&(this.attr({fill:this.fs[0],stroke:this.fs[1]}),delete this.fs),this},function(){var t,e=["lighter","darker","resetBrightness"],i="popup tag flag label drop blob".split(" ");for(t in i)!function(t){Raphael.st[t]=function(){return Raphael.el[t].apply(this,arguments)}}(i[t]);for(t in e)!function(t){Raphael.st[t]=function(){for(var e=0;e<this.length;e++)this[e][t].apply(this[e],arguments);return this}}(e[t])}(),Raphael.g={shim:{stroke:"none",fill:"#000","fill-opacity":0},txtattr:{font:"12px Arial, sans-serif",fill:"#fff"},colors:function(){for(var t=[.6,.2,.05,.1333,.75,0],e=[],i=0;10>i;i++)i<t.length?e.push("hsb("+t[i]+",.75, .75)"):e.push("hsb("+t[i-t.length]+", 1, .5)");return e}(),snapEnds:function(t,e,i){function n(t){return.25>Math.abs(t-.5)?.5+~~t:Math.round(t)}var r=t,s=e;if(r==s)return{from:r,to:s,power:0};var r=(s-r)/i,a=s=~~r,i=0;if(s){for(;a;)i--,a=~~(r*Math.pow(10,i))/Math.pow(10,i);i++}else{if(0!=r&&isFinite(r))for(;!s;)i=i||1,s=~~(r*Math.pow(10,i))/Math.pow(10,i),i++;else i=1;i&&i--}return s=n(e*Math.pow(10,i))/Math.pow(10,i),s<e&&(s=n((e+.5)*Math.pow(10,i))/Math.pow(10,i)),r=n((t-(0<i?0:.5))*Math.pow(10,i))/Math.pow(10,i),{from:r,to:s,power:i}},axis:function(t,e,i,n,r,s,a,o,l,c,h){var c=null==c?2:c,l=l||"t",s=s||10,h=arguments[arguments.length-1],u="|"==l||" "==l?["M",t+.5,e,"l",0,.001]:1==a||3==a?["M",t+.5,e,"l",0,-i]:["M",t,e+.5,"l",i,0],d=this.snapEnds(n,r,s),p=d.from,f=d.to,g=d.power,m=0,_={font:"11px 'Fontin Sans', Fontin-Sans, sans-serif"},d=h.set(),f=(f-p)/s,v=p,b=0<g?g:0,y=i/s;if(1==+a||3==+a){for(g=e,p=(a-1?1:-1)*(c+3+!!(a-1));g>=e-i;)"-"!=l&&" "!=l&&(u=u.concat(["M",t-("+"==l||"|"==l?c:2*!(a-1)*c),g+.5,"l",2*c+1,0])),d.push(h.text(t+p,g,o&&o[m++]||(Math.round(v)==v?v:+v.toFixed(b))).attr(_).attr({"text-anchor":a-1?"start":"end"})),v+=f,g-=y;Math.round(g+y-(e-i))&&("-"!=l&&" "!=l&&(u=u.concat(["M",t-("+"==l||"|"==l?c:2*!(a-1)*c),e-i+.5,"l",2*c+1,0])),d.push(h.text(t+p,e-i,o&&o[m]||(Math.round(v)==v?v:+v.toFixed(b))).attr(_).attr({"text-anchor":a-1?"start":"end"})))}else{for(var v=p,b=(0<g)*g,p=(a?-1:1)*(c+9+!a),g=t,y=i/s,x=0,w=0;g<=t+i;)"-"!=l&&" "!=l&&(u=u.concat(["M",g+.5,e-("+"==l?c:2*!!a*c),"l",0,2*c+1])),d.push(x=h.text(g,e+p,o&&o[m++]||(Math.round(v)==v?v:+v.toFixed(b))).attr(_)),x=x.getBBox(),w>=x.x-5?d.pop(d.length-1).remove():w=x.x+x.width,v+=f,g+=y;Math.round(g-y-t-i)&&("-"!=l&&" "!=l&&(u=u.concat(["M",t+i+.5,e-("+"==l?c:2*!!a*c),"l",0,2*c+1])),d.push(h.text(t+i,e+p,o&&o[m]||(Math.round(v)==v?v:+v.toFixed(b))).attr(_)))}return u=h.path(u),u.text=d,u.all=h.set([u,d]),u.remove=function(){this.text.remove(),this.constructor.prototype.remove.call(this)},u},labelise:function(t,e,i){return t?(t+"").replace(/(##+(?:\.#+)?)|(%%+(?:\.%+)?)/g,function(t,n,r){return n?(+e).toFixed(n.replace(/^#+\.?/g,"").length):r?(100*e/i).toFixed(r.replace(/^%+\.?/g,"").length)+"%":void 0}):(+e).toFixed(0)}},function(){function t(t,e,i,n,r,s){function a(t,e,i,n,r,s){var a=Math.PI/180,o=t+i*Math.cos(-n*a),l=t+i*Math.cos(-r*a),c=t+i/2*Math.cos(-(n+(r-n)/2)*a),h=e+i*Math.sin(-n*a),u=e+i*Math.sin(-r*a),d=e+i/2*Math.sin(-(n+(r-n)/2)*a),p=["M",t,e,"L",o,h,"A",i,i,0,+(Math.abs(r-n)>180),1,l,u,"z"];return p.middle={x:c,y:d},p}s=s||{};var o=this,l=[],c=t.set(),h=t.set(),u=t.set(),d=r.length,p=0,f=0,g=0,m=9,_=!0,v=s.donut||!1,b=s.donutDiameter||.5,y=s.donutFill||"#FFFFFF";if(h.covers=c,1==d)u.push(t.circle(e,i,n).attr({fill:o.colors[0],stroke:s.stroke||"#fff","stroke-width":null==s.strokewidth?1:s.strokewidth})),c.push(t.circle(e,i,n).attr(o.shim)),f=r[0],r[0]={value:r[0],order:0,valueOf:function(){return this.value}},u[0].middle={x:e,y:i},u[0].mangle=180;else{for(var x=0;x<d;x++)f+=r[x],r[x]={value:r[x],order:x,valueOf:function(){return this.value}};for(r.sort(function(t,e){return e.value-t.value}),x=0;x<d;x++)_&&360*r[x]/f<=1.5&&(m=x,_=!1),x>m&&(_=!1,r[m].value+=r[x],r[m].others=!0,g=r[m].value);for(d=Math.min(m+1,r.length),g&&r.splice(d)&&(r[m].others=!0),x=0;x<d;x++){var w=p-360*r[x]/f/2;if(x||(p=90-w,w=p-360*r[x]/f/2),s.init)var k=a(e,i,1,p,p-360*r[x]/f).join(",");var C=a(e,i,n,p,p-=360*r[x]/f),T=t.path(s.init?k:C).attr({fill:s.colors&&s.colors[x]||o.colors[x]||"#666",stroke:s.stroke||"#fff","stroke-width":null==s.strokewidth?1:s.strokewidth,"stroke-linejoin":"round"});T.value=r[x],T.middle=C.middle,T.mangle=w,l.push(T),u.push(T),s.init&&T.animate({path:C.join(",")},+s.init-1||1e3,">")}for(x=0;x<d;x++)T=t.path(l[x].attr("path")).attr(o.shim),s.href&&s.href[x]&&T.attr({href:s.href[x]}),T.attr=function(){},c.push(T),u.push(T)}if(v){var E=n*b;u.push(t.circle(e,i,E).attr({fill:y,stroke:s.stroke||y}))}h.hover=function(t,s){s=s||function(){};for(var a=this,o=0;o<d;o++)!function(o,l,c){var h={sector:o,cover:l,cx:e,cy:i,mx:o.middle.x,my:o.middle.y,mangle:o.mangle,r:n,value:r[c],total:f,label:a.labels&&a.labels[c]};l.mouseover(function(){t.call(h)}).mouseout(function(){s.call(h)})}(u[o],c[o],o);return this},h.each=function(t){for(var s=this,a=0;a<d;a++)!function(a,o,l){var c={sector:a,cover:o,cx:e,cy:i,x:a.middle.x,y:a.middle.y,mangle:a.mangle,r:n,value:r[l],total:f,label:s.labels&&s.labels[l]};t.call(c)}(u[a],c[a],a);return this},h.click=function(t){for(var s=this,a=0;a<d;a++)!function(a,o,l){var c={sector:a,cover:o,cx:e,cy:i,mx:a.middle.x,my:a.middle.y,mangle:a.mangle,r:n,value:r[l],total:f,label:s.labels&&s.labels[l]};o.click(function(){t.call(c)})}(u[a],c[a],a);return this},h.inject=function(t){t.insertBefore(c[0])};return s.legend&&function(a,l,p,g){var m=e+n+n/5,_=i,v=_+10;a=a||[],g=g&&g.toLowerCase&&g.toLowerCase()||"east",p=t[p&&p.toLowerCase()]||"circle",h.labels=t.set();for(var b=0;b<d;b++){var y,x=u[b].attr("fill"),w=r[b].order;r[b].others&&(a[w]=l||"Others"),a[w]=o.labelise(a[w],r[b],f),h.labels.push(t.set()),h.labels[b].push(t[p](m+5,v,5).attr({fill:x,stroke:"none"})),h.labels[b].push(y=t.text(m+20,v,a[w]||r[w]).attr(o.txtattr).attr({fill:s.legendcolor||"#000","text-anchor":"start"})),c[b].label=h.labels[b],v+=1.2*y.getBBox().height}var k=h.labels.getBBox(),C={east:[0,-k.height/2],west:[-k.width-2*n-20,-k.height/2],north:[-n-k.width/2,-n-k.height-10],south:[-n-k.width/2,n+10],"south-west":[-2*h,n+10]}[g];h.labels.translate.apply(h.labels,C),h.push(h.labels)}(s.legend,s.legendothers,s.legendmark,s.legendpos),h.push(u,c),h.series=u,h.covers=c,h}var e=function(){};e.prototype=Raphael.g,t.prototype=new e,Raphael.fn.piechart=function(e,i,n,r,s){return new t(this,e,i,n,r,s)}}(),function(t){"function"==typeof define&&define.amd?"undefined"!=typeof jQuery?define(["jquery"],t):define([],t):"undefined"!=typeof jQuery?t(jQuery):t()}(function(t,e){function i(t,e){for(var i=decodeURI(t),n=_[e?"strict":"loose"].exec(i),r={attr:{},param:{},seg:{}},s=14;s--;)r.attr[g[s]]=n[s]||"";return r.param.query=o(r.attr.query),r.param.fragment=o(r.attr.fragment),r.seg.path=r.attr.path.replace(/^\/+|\/+$/g,"").split("/"),r.seg.fragment=r.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),r.attr.base=r.attr.host?(r.attr.protocol?r.attr.protocol+"://"+r.attr.host:r.attr.host)+(r.attr.port?":"+r.attr.port:""):"",r}function n(t){var e=t.tagName;return void 0!==e?f[e.toLowerCase()]:e}function r(t,e){if(0==t[e].length)return t[e]={};var i={};for(var n in t[e])i[n]=t[e][n];return t[e]=i,i}function s(t,e,i,n){var a=t.shift();if(a){var o=e[i]=e[i]||[];"]"==a?u(o)?""!=n&&o.push(n):"object"==typeof o?o[d(o).length]=n:o=e[i]=[e[i],n]:~a.indexOf("]")?(a=a.substr(0,a.length-1),!v.test(a)&&u(o)&&(o=r(e,i)),s(t,o,a,n)):(!v.test(a)&&u(o)&&(o=r(e,i)),s(t,o,a,n))}else u(e[i])?e[i].push(n):"object"==typeof e[i]?e[i]=n:void 0===e[i]?e[i]=n:e[i]=[e[i],n]}function a(t,e,i){if(~e.indexOf("]")){var n=e.split("[");n.length;s(n,t,"base",i)}else{if(!v.test(e)&&u(t.base)){var r={};for(var a in t.base)r[a]=t.base[a];t.base=r}l(t.base,e,i)}return t}function o(t){return h(String(t).split(/&|;/),function(t,e){try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(t){}var i=e.indexOf("="),n=c(e),r=e.substr(0,n||i),s=e.substr(n||i,e.length),s=s.substr(s.indexOf("=")+1,s.length);return""==r&&(r=e,s=""),a(t,r,s)},{base:{}}).base}function l(t,i,n){var r=t[i];e===r?t[i]=n:u(r)?r.push(n):t[i]=[r,n]}function c(t){for(var e,i,n=t.length,r=0;r<n;++r)if(i=t[r],"]"==i&&(e=!1),"["==i&&(e=!0),"="==i&&!e)return r}function h(t,i){for(var n=0,r=t.length>>0,s=arguments[2];n<r;)n in t&&(s=i.call(e,s,t[n],n,t)),++n;return s}function u(t){return"[object Array]"===Object.prototype.toString.call(t)}function d(t){var e=[];for(prop in t)t.hasOwnProperty(prop)&&e.push(prop);return e}function p(t,n){return 1===arguments.length&&!0===t&&(n=!0,t=e),n=n||!1,t=t||window.location.toString(),{data:i(t,n),attr:function(t){return t=m[t]||t,void 0!==t?this.data.attr[t]:this.data.attr},param:function(t){return void 0!==t?this.data.param.query[t]:this.data.param.query},fparam:function(t){return void 0!==t?this.data.param.fragment[t]:this.data.param.fragment},segment:function(t){return void 0===t?this.data.seg.path:(t=t<0?this.data.seg.path.length+t:t-1,this.data.seg.path[t])},fsegment:function(t){return void 0===t?this.data.seg.fragment:(t=t<0?this.data.seg.fragment.length+t:t-1,this.data.seg.fragment[t])}}}var f={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},g=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],m={anchor:"fragment"},_={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},v=(Object.prototype.toString,/^[0-9]+$/);void 0!==t?(t.fn.url=function(e){var i="";return this.length&&(i=t(this).attr(n(this[0]))||""),p(i,e)},t.url=p):window.purl=p}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";function e(e){return!e.nodeName||-1!==t.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])}function i(e){return t.isFunction(e)||t.isPlainObject(e)?e:{top:e,left:e}}var n=t.scrollTo=function(e,i,n){return t(window).scrollTo(e,i,n)};return n.defaults={axis:"xy",duration:0,limit:!0},t.fn.scrollTo=function(r,s,a){"object"==typeof s&&(a=s,s=0),"function"==typeof a&&(a={onAfter:a}),"max"===r&&(r=9e9),a=t.extend({},n.defaults,a),s=s||a.duration;var o=a.queue&&1<a.axis.length;return o&&(s/=2),a.offset=i(a.offset),a.over=i(a.over),this.each(function(){function l(e){var i=t.extend({},a,{queue:!0,duration:s,complete:e&&function(){e.call(u,p,a)}});d.animate(f,i)}if(null!==r){var c,h=e(this),u=h?this.contentWindow||window:this,d=t(u),p=r,f={};switch(typeof p){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(p)){p=i(p);break}p=h?t(p):t(p,u);case"object":if(0===p.length)return;(p.is||p.style)&&(c=(p=t(p)).offset())}var g=t.isFunction(a.offset)&&a.offset(u,p)||a.offset;t.each(a.axis.split(""),function(t,e){var i="x"===e?"Left":"Top",r=i.toLowerCase(),s="scroll"+i,m=d[s](),_=n.max(u,e);c?(f[s]=c[r]+(h?0:m-d.offset()[r]),a.margin&&(f[s]-=parseInt(p.css("margin"+i),10)||0,f[s]-=parseInt(p.css("border"+i+"Width"),10)||0),f[s]+=g[r]||0,a.over[r]&&(f[s]+=p["x"===e?"width":"height"]()*a.over[r])):(i=p[r],f[s]=i.slice&&"%"===i.slice(-1)?parseFloat(i)/100*_:i),a.limit&&/^\d+$/.test(f[s])&&(f[s]=0>=f[s]?0:Math.min(f[s],_)),!t&&1<a.axis.length&&(m===f[s]?f={}:o&&(l(a.onAfterFirst),f={}))}),l(a.onAfter)}})},n.max=function(i,n){var r="x"===n?"Width":"Height",s="scroll"+r;if(!e(i))return i[s]-t(i)[r.toLowerCase()]();var r="client"+r,a=i.ownerDocument||i.document,o=a.documentElement,a=a.body;return Math.max(o[s],a[s])-Math.min(o[r],a[r])},t.Tween.propHooks.scrollLeft=t.Tween.propHooks.scrollTop={get:function(e){return t(e.elem)[e.prop]()},set:function(e){var i=this.get(e);if(e.options.interrupt&&e._last&&e._last!==i)return t(e.elem).stop();var n=Math.round(e.now);i!==n&&(t(e.elem)[e.prop](n),e._last=this.get(e))}},n}),function(t){var e=t(window);t.fn.visible=function(i,n,r,s){if(!(this.length<1)){r=r||"both";var a=this.length>1?this.eq(0):this,o=void 0!==s&&null!==s,l=o?t(s):e,c=o?l.position():0,h=a.get(0),u=l.outerWidth(),d=l.outerHeight(),p=!0!==n||h.offsetWidth*h.offsetHeight;if("function"==typeof h.getBoundingClientRect){var f=h.getBoundingClientRect(),g=o?f.top-c.top>=0&&f.top<d+c.top:f.top>=0&&f.top<d,m=o?f.bottom-c.top>0&&f.bottom<=d+c.top:f.bottom>0&&f.bottom<=d,_=o?f.left-c.left>=0&&f.left<u+c.left:f.left>=0&&f.left<u,v=o?f.right-c.left>0&&f.right<u+c.left:f.right>0&&f.right<=u,b=i?g||m:g&&m,y=i?_||v:_&&v,b=f.top<0&&f.bottom>d||b,y=f.left<0&&f.right>u||y;if("both"===r)return p&&b&&y;if("vertical"===r)return p&&b;if("horizontal"===r)return p&&y}else{var x=o?0:c,w=x+d,k=l.scrollLeft(),C=k+u,T=a.position(),E=T.top,j=E+a.height(),D=T.left,S=D+a.width(),M=!0===i?j:E,I=!0===i?E:j,F=!0===i?S:D,P=!0===i?D:S;if("both"===r)return!!p&&I<=w&&M>=x&&P<=C&&F>=k;if("vertical"===r)return!!p&&I<=w&&M>=x;if("horizontal"===r)return!!p&&P<=C&&F>=k}}}}(jQuery),window.matchMedia=window.matchMedia||function(t,e){var i=t.documentElement,n=i.firstElementChild||i.firstChild,r=t.createElement("body"),s=t.createElement("div");s.id="mq-test-1",s.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(s);var a,o=function(t){return s.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(r,n),bool=42===s.offsetWidth,i.removeChild(r),{matches:bool,media:t}},l=function(){var e=i.body,n=!1;return s.style.cssText="position:absolute;font-size:1em;width:1em",e||(e=n=t.createElement("body"),e.style.background="none"),e.appendChild(s),i.insertBefore(e,i.firstChild),n?i.removeChild(e):e.removeChild(s),a=parseFloat(s.offsetWidth)},c=o("(min-width: 0px)").matches;return function(e){if(c)return o(e);var i=e.match(/\(min\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),n=e.match(/\(max\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),r=null===i,s=null===n,h=t.body.offsetWidth;return i&&(i=parseFloat(i)*(i.indexOf("em")>-1?a||l():1)),n&&(n=parseFloat(n)*(n.indexOf("em")>-1?a||l():1)),bool=(!r||!s)&&(r||h>=i)&&(s||h<=n),{matches:bool,media:e}}}(document),function(t){"use strict";function e(t){t.condition()||("function"==typeof t.exit&&t.exit(),t.is_active=!1)}function i(t){t.condition()&&("function"==typeof t.first_enter&&(t.first_enter(),delete t.first_enter),"function"==typeof t.enter&&t.enter(),t.is_active=!0)}function n(t){t.is_active?e(t):i(t)}function r(){var n=t.grep(s,function(t){return t.is_active}),r=t.grep(s,function(t){return!t.is_active});t.each(n,function(t,i){e(i)}),t.each(r,function(t,e){i(e)})}var s=[];t.breakpoint=function(e,i){i=t.extend(!0,{},t.breakpoint.defaults,i),s.push(e),1===s.length&&t(window).on("resize orientationchange",function(){r()}),n(e)},t.breakpoint.breakpoints=s,t.breakpoint.defaults={}}(jQuery),function(t){t.fn.hoverIntent=function(e,i,n){var r={interval:100,sensitivity:7,timeout:0};r="object"==typeof e?t.extend(r,e):t.isFunction(i)?t.extend(r,{over:e,out:i,selector:n}):t.extend(r,{over:e,out:e,selector:i});var s,a,o,l,c=function(t){s=t.pageX,a=t.pageY},h=function(e,i){if(i.hoverIntent_t=clearTimeout(i.hoverIntent_t),Math.abs(o-s)+Math.abs(l-a)<r.sensitivity)return t(i).off("mousemove.hoverIntent",c),i.hoverIntent_s=1,r.over.apply(i,[e]);o=s,l=a,i.hoverIntent_t=setTimeout(function(){h(e,i)},r.interval)},u=function(t,e){return e.hoverIntent_t=clearTimeout(e.hoverIntent_t),e.hoverIntent_s=0,r.out.apply(e,[t])},d=function(e){var i=jQuery.extend({},e),n=this;n.hoverIntent_t&&(n.hoverIntent_t=clearTimeout(n.hoverIntent_t)),"mouseenter"==e.type?(o=i.pageX,l=i.pageY,t(n).on("mousemove.hoverIntent",c),1!=n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){h(i,n)},r.interval))):(t(n).off("mousemove.hoverIntent",c),1==n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){u(i,n)},r.timeout)))};return this.on({"mouseenter.hoverIntent":d,"mouseleave.hoverIntent":d},r.selector)}}(jQuery),function(t,e,i){function n(t){var e={},n=/^jQuery\d+$/;return i.each(t.attributes,function(t,i){i.specified&&!n.test(i.name)&&(e[i.name]=i.value)}),e}function r(t,n){var r=this,s=i(r);if(r.value==s.attr("placeholder")&&s.hasClass("placeholder"))if(s.data("placeholder-password")){if(s=s.hide().next().show().attr("id",s.removeAttr("id").data("placeholder-id")),!0===t)return s[0].value=n;s.focus()}else r.value="",s.removeClass("placeholder"),r==e.activeElement&&r.select()}function s(){var t,e=this,s=i(e),a=this.id;if(""==e.value){if("password"==e.type){if(!s.data("placeholder-textinput")){try{t=s.clone().attr({type:"text"})}catch(e){t=i("<input>").attr(i.extend(n(this),{type:"text"}))}t.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":a}).bind("focus.placeholder",r),s.data({"placeholder-textinput":t,"placeholder-id":a}).before(t)}s=s.removeAttr("id").hide().prev().attr("id",a).show()}s.addClass("placeholder"),s[0].value=s.attr("placeholder")}else s.removeClass("placeholder")}var a,o,l="placeholder"in e.createElement("input"),c="placeholder"in e.createElement("textarea"),h=i.fn,u=i.valHooks;l&&c?(o=h.placeholder=function(){return this},o.input=o.textarea=!0):(o=h.placeholder=function(){var t=this;return t.filter((l?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":r,"blur.placeholder":s}).data("placeholder-enabled",!0).trigger("blur.placeholder"),t},o.input=l,o.textarea=c,a={get:function(t){var e=i(t);return e.data("placeholder-enabled")&&e.hasClass("placeholder")?"":t.value},set:function(t,n){var a=i(t);return a.data("placeholder-enabled")?(""==n?(t.value=n,t!=e.activeElement&&s.call(t)):a.hasClass("placeholder")?r.call(t,!0,n)||(t.value=n):t.value=n,a):t.value=n}},l||(u.input=a),c||(u.textarea=a),i(function(){i(e).delegate("form","submit.placeholder",function(){var t=i(".placeholder",this).each(r);setTimeout(function(){t.each(s)},10)})}),i(t).bind("beforeunload.placeholder",function(){i(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(t){function e(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=c),e||(e={}),e=t.extend({},t.fn.swipe.defaults,e),this.each(function(){var n=t(this),r=n.data(w);r||(r=new i(this,e),n.data(w,r))})}function i(e,i){function k(e){if(!(W()||t(e.target).closest(i.excludedElements,bt).length>0)){var n,r=e.originalEvent,s=x?r.touches[0]:r;if(yt=_,x?xt=r.touches.length:e.preventDefault(),dt=0,pt=null,vt=null,ft=0,gt=0,mt=0,_t=1,pinchDistance=0,wt=J(),G(),!x||xt===i.fingers||i.fingers===m||B()?(Q(0,s),kt=nt(),2==xt&&(Q(1,r.touches[1]),gt=mt=Y(wt[0].start,wt[1].start)),(i.swipeStatus||i.pinchStatus)&&(n=M(r,yt))):n=!1,!1===n)return yt=y,M(r,yt),n;q(!0)}}function C(t){var e=t.originalEvent;if(yt!==b&&yt!==y&&!$()){var n,r=x?e.touches[0]:e,s=K(r);if(Ct=nt(),x&&(xt=e.touches.length),yt=v,2==xt&&(0==gt?(Q(1,e.touches[1]),gt=mt=Y(wt[0].start,wt[1].start)):(K(e.touches[1]),mt=Y(wt[0].end,wt[1].end),vt=Z(wt[0].end,wt[1].end)),_t=X(gt,mt),pinchDistance=Math.abs(gt-mt)),xt===i.fingers||i.fingers===m||!x||B()){if(pt=it(s.start,s.end),O(t,pt),dt=tt(s.start,s.end),ft=U(),(i.swipeStatus||i.pinchStatus)&&(n=M(e,yt)),!i.triggerOnTouchEnd||i.triggerOnTouchLeave){var a=!0;if(i.triggerOnTouchLeave){var o=rt(this);a=st(s.end,o)}!i.triggerOnTouchEnd&&a?yt=S(v):i.triggerOnTouchLeave&&!a&&(yt=S(b)),yt!=y&&yt!=b||M(e,yt)}}else yt=y,M(e,yt);!1===n&&(yt=y,M(e,yt))}}function T(t){var e=t.originalEvent;if(x&&e.touches.length>0)return R(),!0;if($()&&(xt=Et),t.preventDefault(),Ct=nt(),i.triggerOnTouchEnd||0==i.triggerOnTouchEnd&&yt===v){yt=b;var n=xt===i.fingers||i.fingers===m||!x,r=0!==wt[0].end.x;n&&r&&(L()||H())?M(e,yt):(yt=y,M(e,yt))}else yt===v&&(yt=y,M(e,yt));q(!1)}function E(){xt=0,Ct=0,kt=0,gt=0,mt=0,_t=1,G(),q(!1)}function j(t){var e=t.originalEvent;i.triggerOnTouchLeave&&(yt=S(b),M(e,yt))}function D(){bt.unbind(ot,k),bt.unbind(ut,E),bt.unbind(lt,C),bt.unbind(ct,T),ht&&bt.unbind(ht,j),q(!1)}function S(t){var e=t,n=N(),r=F();return n?!r||t!=v||i.triggerOnTouchEnd&&!i.triggerOnTouchLeave?!r&&t==b&&i.triggerOnTouchLeave&&(e=y):e=b:e=y,e}function M(t,e){var i=void 0;return A()&&(i=I(t,e,u)),B()&&!1!==i&&(i=I(t,e,d)),z()&&!1!==i&&(i=I(t,e,p)),e===y&&E(t),e===b&&(x?0==t.touches.length&&E(t):E(t)),i}function I(t,e,c){var h=void 0;if(c==u){if(i.swipeStatus&&!1===(h=i.swipeStatus.call(bt,t,e,pt||null,dt||0,ft||0,xt)))return!1;if(e==b&&H()){if(i.swipe&&!1===(h=i.swipe.call(bt,t,pt,dt,ft,xt)))return!1;switch(pt){case n:i.swipeLeft&&(h=i.swipeLeft.call(bt,t,pt,dt,ft,xt));break;case r:i.swipeRight&&(h=i.swipeRight.call(bt,t,pt,dt,ft,xt));break;case s:i.swipeUp&&(h=i.swipeUp.call(bt,t,pt,dt,ft,xt));break;case a:i.swipeDown&&(h=i.swipeDown.call(bt,t,pt,dt,ft,xt))}}}if(c==d){if(i.pinchStatus&&!1===(h=i.pinchStatus.call(bt,t,e,vt||null,pinchDistance||0,ft||0,xt,_t)))return!1;if(e==b&&L())switch(vt){case o:i.pinchIn&&(h=i.pinchIn.call(bt,t,vt||null,pinchDistance||0,ft||0,xt,_t));break;case l:i.pinchOut&&(h=i.pinchOut.call(bt,t,vt||null,pinchDistance||0,ft||0,xt,_t))}}return c==p&&e===y&&(!i.click||1!==xt&&x||!isNaN(dt)&&0!==dt||(h=i.click.call(bt,t,t.target))),h}function F(){return null===i.threshold||dt>=i.threshold}function P(){return null===i.pinchThreshold||pinchDistance>=i.pinchThreshold}function N(){return!i.maxTimeThreshold||!(ft>=i.maxTimeThreshold)}function O(t,e){if(i.allowPageScroll===c||B())t.preventDefault();else{var o=i.allowPageScroll===h;switch(e){case n:(i.swipeLeft&&o||!o&&i.allowPageScroll!=f)&&t.preventDefault();break;case r:(i.swipeRight&&o||!o&&i.allowPageScroll!=f)&&t.preventDefault();break;case s:(i.swipeUp&&o||!o&&i.allowPageScroll!=g)&&t.preventDefault();break;case a:(i.swipeDown&&o||!o&&i.allowPageScroll!=g)&&t.preventDefault()}}}function L(){return P()}function B(){return!!(i.pinchStatus||i.pinchIn||i.pinchOut)}function H(){var t=N();return F()&&t}function A(){return!!(i.swipe||i.swipeStatus||i.swipeLeft||i.swipeRight||i.swipeUp||i.swipeDown)}function z(){return!!i.click}function R(){Tt=nt(),Et=event.touches.length+1}function G(){Tt=0,Et=0}function $(){var t=!1;if(Tt){nt()-Tt<=i.fingerReleaseThreshold&&(t=!0)}return t}function W(){return!(!0!==bt.data(w+"_intouch"))}function q(t){!0===t?(bt.bind(lt,C),bt.bind(ct,T),ht&&bt.bind(ht,j)):(bt.unbind(lt,C,!1),bt.unbind(ct,T,!1),ht&&bt.unbind(ht,j,!1)),bt.data(w+"_intouch",!0===t)}function Q(t,e){var i=void 0!==e.identifier?e.identifier:0;return wt[t].identifier=i,wt[t].start.x=wt[t].end.x=e.pageX||e.clientX,wt[t].start.y=wt[t].end.y=e.pageY||e.clientY,wt[t]}function K(t){var e=void 0!==t.identifier?t.identifier:0,i=V(e);return i.end.x=t.pageX||t.clientX,i.end.y=t.pageY||t.clientY,i}function V(t){for(var e=0;e<wt.length;e++)if(wt[e].identifier==t)return wt[e]}function J(){for(var t=[],e=0;e<=5;e++)t.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return t}function U(){return Ct-kt}function Y(t,e){var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return Math.round(Math.sqrt(i*i+n*n))}function X(t,e){return(e/t*1).toFixed(2)}function Z(){return _t<1?l:o}function tt(t,e){return Math.round(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)))}function et(t,e){var i=t.x-e.x,n=e.y-t.y,r=Math.atan2(n,i),s=Math.round(180*r/Math.PI);return s<0&&(s=360-Math.abs(s)),s}function it(t,e){var i=et(t,e);return i<=45&&i>=0?n:i<=360&&i>=315?n:i>=135&&i<=225?r:i>45&&i<135?a:s}function nt(){return(new Date).getTime()}function rt(e){e=t(e);var i=e.offset();return{left:i.left,right:i.left+e.outerWidth(),top:i.top,bottom:i.top+e.outerHeight()}}function st(t,e){return t.x>e.left&&t.x<e.right&&t.y>e.top&&t.y<e.bottom}var at=x||!i.fallbackToMouseEvents,ot=at?"touchstart":"mousedown",lt=at?"touchmove":"mousemove",ct=at?"touchend":"mouseup",ht=at?null:"mouseleave",ut="touchcancel",dt=0,pt=null,ft=0,gt=0,mt=0,_t=1,vt=0,bt=t(e),yt="start",xt=0,wt=null,kt=0,Ct=0,Tt=0,Et=0;try{bt.bind(ot,k),bt.bind(ut,E)}catch(e){t.error("events not supported "+ot+","+ut+" on jQuery.swipe")}this.enable=function(){return bt.bind(ot,k),bt.bind(ut,E),bt},this.disable=function(){return D(),bt},this.destroy=function(){return D(),bt.data(w,null),bt}}var n="left",r="right",s="up",a="down",o="in",l="out",c="none",h="auto",u="swipe",d="pinch",p="click",f="horizontal",g="vertical",m="all",_="start",v="move",b="end",y="cancel",x="ontouchstart"in window,w="TouchSwipe",k={fingers:1,threshold:75,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"button, input, select, textarea, a, .noSwipe"};t.fn.swipe=function(i){var n=t(this),r=n.data(w);if(r&&"string"==typeof i){if(r[i])return r[i].apply(this,Array.prototype.slice.call(arguments,1));t.error("Method "+i+" does not exist on jQuery.swipe")}else if(!(r||"object"!=typeof i&&i))return e.apply(this,arguments);return n},t.fn.swipe.defaults=k,t.fn.swipe.phases={PHASE_START:_,PHASE_MOVE:v,PHASE_END:b,PHASE_CANCEL:y},t.fn.swipe.directions={LEFT:n,RIGHT:r,UP:s,DOWN:a,IN:o,OUT:l},t.fn.swipe.pageScroll={NONE:c,HORIZONTAL:f,VERTICAL:g,AUTO:h},t.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:m}}(jQuery),function(t){function e(t){if(t in h.style)return t;var e=["Moz","Webkit","O","ms"],i=t.charAt(0).toUpperCase()+t.substr(1);if(t in h.style)return t;for(var n=0;n<e.length;++n){var r=e[n]+i;if(r in h.style)return r}}function i(t){return"string"==typeof t&&this.parse(t),this}function n(t,e,i){!0===e?t.queue(i):e?t.queue(e,i):i()}function r(e){var i=[];return t.each(e,function(e){e=t.camelCase(e),e=t.transit.propertyMap[e]||t.cssProps[e]||e,e=o(e),-1===t.inArray(e,i)&&i.push(e)}),i}function s(e,i,n,s){var a=r(e);t.cssEase[n]&&(n=t.cssEase[n]);var o=c(i)+" "+n;parseInt(s,10)>0&&(o+=" "+c(s));var l=[]
;return t.each(a,function(t,e){l.push(e+" "+o)}),l.join(", ")}function a(e,i){i||(t.cssNumber[e]=!0),t.transit.propertyMap[e]=u.transform,t.cssHooks[e]={get:function(i){return t(i).css("transit:transform").get(e)},set:function(i,n){var r=t(i).css("transit:transform");r.setFromString(e,n),t(i).css({"transit:transform":r})}}}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function l(t,e){return"string"!=typeof t||t.match(/^[\-0-9\.]+$/)?""+t+e:t}function c(e){var i=e;return t.fx.speeds[i]&&(i=t.fx.speeds[i]),l(i,"ms")}t.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var h=document.createElement("div"),u={},d=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;u.transition=e("transition"),u.transitionDelay=e("transitionDelay"),u.transform=e("transform"),u.transformOrigin=e("transformOrigin"),u.transform3d=function(){return h.style[u.transform]="",h.style[u.transform]="rotateY(90deg)",""!==h.style[u.transform]}();var p={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},f=u.transitionEnd=p[u.transition]||null;for(var g in u)u.hasOwnProperty(g)&&void 0===t.support[g]&&(t.support[g]=u[g]);h=null,t.cssEase={_default:"ease",in:"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},t.cssHooks["transit:transform"]={get:function(e){return t(e).data("transform")||new i},set:function(e,n){var r=n;r instanceof i||(r=new i(r)),"WebkitTransform"!==u.transform||d?e.style[u.transform]=r.toString():e.style[u.transform]=r.toString(!0),t(e).data("transform",r)}},t.cssHooks.transform={set:t.cssHooks["transit:transform"].set},t.fn.jquery<"1.8"&&(t.cssHooks.transformOrigin={get:function(t){return t.style[u.transformOrigin]},set:function(t,e){t.style[u.transformOrigin]=e}},t.cssHooks.transition={get:function(t){return t.style[u.transition]},set:function(t,e){t.style[u.transition]=e}}),a("scale"),a("translate"),a("rotate"),a("rotateX"),a("rotateY"),a("rotate3d"),a("perspective"),a("skewX"),a("skewY"),a("x",!0),a("y",!0),i.prototype={setFromString:function(t,e){var n="string"==typeof e?e.split(","):e.constructor===Array?e:[e];n.unshift(t),i.prototype.set.apply(this,n)},set:function(t){var e=Array.prototype.slice.apply(arguments,[1]);this.setter[t]?this.setter[t].apply(this,e):this[t]=e.join(",")},get:function(t){return this.getter[t]?this.getter[t].apply(this):this[t]||0},setter:{rotate:function(t){this.rotate=l(t,"deg")},rotateX:function(t){this.rotateX=l(t,"deg")},rotateY:function(t){this.rotateY=l(t,"deg")},scale:function(t,e){void 0===e&&(e=t),this.scale=t+","+e},skewX:function(t){this.skewX=l(t,"deg")},skewY:function(t){this.skewY=l(t,"deg")},perspective:function(t){this.perspective=l(t,"px")},x:function(t){this.set("translate",t,null)},y:function(t){this.set("translate",null,t)},translate:function(t,e){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==t&&void 0!==t&&(this._translateX=l(t,"px")),null!==e&&void 0!==e&&(this._translateY=l(e,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var t=(this.scale||"1,1").split(",");return t[0]&&(t[0]=parseFloat(t[0])),t[1]&&(t[1]=parseFloat(t[1])),t[0]===t[1]?t[0]:t},rotate3d:function(){for(var t=(this.rotate3d||"0,0,0,0deg").split(","),e=0;e<=3;++e)t[e]&&(t[e]=parseFloat(t[e]));return t[3]&&(t[3]=l(t[3],"deg")),t}},parse:function(t){var e=this;t.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(t,i,n){e.setFromString(i,n)})},toString:function(t){var e=[];for(var i in this)if(this.hasOwnProperty(i)){if(!u.transform3d&&("rotateX"===i||"rotateY"===i||"perspective"===i||"transformOrigin"===i))continue;"_"!==i[0]&&(t&&"scale"===i?e.push(i+"3d("+this[i]+",1)"):t&&"translate"===i?e.push(i+"3d("+this[i]+",0)"):e.push(i+"("+this[i]+")"))}return e.join(" ")}},t.fn.transition=t.fn.transit=function(e,i,r,a){var o=this,l=0,h=!0;"function"==typeof i&&(a=i,i=void 0),"function"==typeof r&&(a=r,r=void 0),void 0!==e.easing&&(r=e.easing,delete e.easing),void 0!==e.duration&&(i=e.duration,delete e.duration),void 0!==e.complete&&(a=e.complete,delete e.complete),void 0!==e.queue&&(h=e.queue,delete e.queue),void 0!==e.delay&&(l=e.delay,delete e.delay),void 0===i&&(i=t.fx.speeds._default),void 0===r&&(r=t.cssEase._default),i=c(i);var d=s(e,i,r,l),p=t.transit.enabled&&u.transition,g=p?parseInt(i,10)+parseInt(l,10):0;if(0===g){return n(o,h,function(t){o.css(e),a&&a.apply(o),t&&t()}),o}var m={},_=function(i){var n=!1,r=function(){n&&o.unbind(f,r),g>0&&o.each(function(){this.style[u.transition]=m[this]||null}),"function"==typeof a&&a.apply(o),"function"==typeof i&&i()};g>0&&f&&t.transit.useTransitionEnd?(n=!0,o.bind(f,r)):window.setTimeout(r,g),o.each(function(){g>0&&(this.style[u.transition]=d),t(this).css(e)})};return n(o,h,function(t){this.offsetWidth,_(t)}),this},t.transit.getTransitionValue=s}(jQuery),eval(function(t,e,i,n,r,s){if(r=function(t){return(t<62?"":r(parseInt(t/62)))+((t%=62)>35?String.fromCharCode(t+29):t.toString(36))},!"".replace(/^/,String)){for(;i--;)s[r(i)]=n[i]||r(i);n=[function(t){return s[t]}],r=function(){return"\\w+"},i=1}for(;i--;)n[i]&&(t=t.replace(new RegExp("\\b"+r(i)+"\\b","g"),n[i]));return t
}("(D($){8($.1s.1v){H}$.1s.6i=$.1s.1v=D(u,w){8(1l.S==0){18(J,'6j 55 6k 1j \"'+1l.4o+'\".');H 1l}8(1l.S>1){H 1l.1W(D(){$(1l).1v(u,w)})}F y=1l,$12=1l[0],56=L;8(y.1q('57')){56=y.1P('3o','4p');y.T('3o',['4q',J])}F z={};z.59=D(o,a,b){o=3S($12,o);o.E=6l($12,o.E);o.1K=6m($12,o.1K);o.N=6n($12,o.N);o.14=5a($12,o.14);o.16=5a($12,o.16);o.1b=6o($12,o.1b);o.1r=6p($12,o.1r);o.1Q=6q($12,o.1Q);8(a){31=$.1L(J,{},$.1s.1v.5b,o)}7=$.1L(J,{},$.1s.1v.5b,o);7.d=6r(7);A.2l=(7.2l=='5c'||7.2l=='1m')?'16':'14';F c=y.13(),2m=5d($1n,7,'P');8(3p(7.25)){7.25='7Q'+G.3T}7.3U=5e(7,2m);7.E=6s(7.E,7,c,b);7[7.d['P']]=6t(7[7.d['P']],7,c);7[7.d['1e']]=6u(7[7.d['1e']],7,c);8(7.2H){8(!3V(7[7.d['P']])){7[7.d['P']]='2I%'}}8(3V(7[7.d['P']])){A.6v=J;A.4r=7[7.d['P']];7[7.d['P']]=4s(2m,A.4r);8(!7.E.M){7.E.U.1d=J}}8(7.2H){7.1R=L;7.1i=[0,0,0,0];7.1B=L;7.E.U.1d=L}O{8(!7.E.M){7=6w(7,2m)}8(!7[7.d['P']]){8(!7.E.U.1d&&Y(7.E[7.d['P']])&&7.E.1t=='*'){7[7.d['P']]=7.E.M*7.E[7.d['P']];7.1B=L}O{7[7.d['P']]='1d'}}8(1z(7.1B)){7.1B=(Y(7[7.d['P']]))?'5f':L}8(7.E.U.1d){7.E.M=32(c,7,0)}}8(7.E.1t!='*'&&!7.E.U.1d){7.E.U.4t=7.E.M;7.E.M=3W(c,7,0)}7.E.M=2x(7.E.M,7,7.E.U.2c,$12);7.E.U.20=7.E.M;8(7.2H){8(!7.E.U.34){7.E.U.34=7.E.M}8(!7.E.U.1X){7.E.U.1X=7.E.M}7=5g(7,c,2m)}O{7.1i=6x(7.1i);8(7.1B=='3q'){7.1B='1m'}O 8(7.1B=='5h'){7.1B='35'}1F(7.1B){R'5f':R'1m':R'35':8(7[7.d['P']]!='1d'){7=5i(7,c);7.1R=J}17;2J:7.1B=L;7.1R=(7.1i[0]==0&&7.1i[1]==0&&7.1i[2]==0&&7.1i[3]==0)?L:J;17}}8(!Y(7.1K.1M)){7.1K.1M=6y}8(1z(7.1K.E)){7.1K.E=(7.2H||7.E.U.1d||7.E.1t!='*')?'M':7.E.M}7.N=$.1L(J,{},7.1K,7.N);7.14=$.1L(J,{},7.1K,7.14);7.16=$.1L(J,{},7.1K,7.16);7.1b=$.1L(J,{},7.1K,7.1b);7.N=6z($12,7.N);7.14=5j($12,7.14);7.16=5j($12,7.16);7.1b=6A($12,7.1b);7.1r=6B($12,7.1r);7.1Q=6C($12,7.1Q);8(7.2n){7.2n=5k(7.2n)}8(7.N.5l){7.N.4u=7.N.5l;3X('N.5l','N.4u')}8(7.N.5m){7.N.4v=7.N.5m;3X('N.5m','N.4v')}8(7.N.5n){7.N.4w=7.N.5n;3X('N.5n','N.4w')}8(7.N.5o){7.N.2K=7.N.5o;3X('N.5o','N.2K')}};z.6D=D(){y.1q('57',J);F a=y.13(),3Y=6E(y,['6F','6G','3r','3q','35','5h','1m','3Z','P','1e','6H','1S','5p','6I']),5q='7R';1F(3Y.3r){R'6J':R'7S':5q=3Y.3r;17}8(G.3s=='36'){41($1n)}O{$1n.Z(3Y)}$1n.Z({'7T':'3t','3r':5q});41(y);y.1q('6K',3Y.3Z);y.Z({'6F':'1m','6G':'42','3r':'6J','3q':0,'35':'N','5h':'N','1m':0,'6H':0,'1S':0,'5p':0,'6I':0});4x(a,7);41(a);8(7.2H){5r(7,a)}};z.6L=D(){z.5s();y.11(I('6M',G),D(e,a){e.1g();8(!A.2d){8(7.N.W){7.N.W.3a(2y('4y',G))}}A.2d=J;8(7.N.1G){7.N.1G=L;y.T(I('3b',G),a)}H J});y.11(I('5t',G),D(e){e.1g();8(A.26){43(V)}H J});y.11(I('3b',G),D(e,a,b){e.1g();1u=3u(1u);8(a&&A.26){V.2d=J;F c=2o()-V.2L;V.1M-=c;8(V.4z){V.4z.1M-=c}8(V.4A){V.4A.1M-=c}43(V,L)}8(!A.27&&!A.26){8(b){1u.3v+=2o()-1u.2L}}8(!A.27){8(7.N.W){7.N.W.3a(2y('6N',G))}}A.27=J;8(7.N.4v){F d=7.N.2K-1u.3v,3c=2I-1H.2z(d*2I/7.N.2K);7.N.4v.1h($12,3c,d)}H J});y.11(I('1G',G),D(e,b,c,d){e.1g();1u=3u(1u);F v=[b,c,d],t=['2M','28','3d'],a=3e(v,t);b=a[0];c=a[1];d=a[2];8(b!='14'&&b!='16'){b=A.2l}8(!Y(c)){c=0}8(!1k(d)){d=L}8(d){A.2d=L;7.N.1G=J}8(!7.N.1G){e.2e();H 18(G,'3w 4y: 2p 3f.')}8(A.27){8(7.N.W){7.N.W.2N(2y('4y',G));7.N.W.2N(2y('6N',G))}}A.27=L;1u.2L=2o();F f=7.N.2K+c;44=f-1u.3v;3c=2I-1H.2z(44*2I/f);8(7.N.1f){1u.1f=7U(D(){F a=2o()-1u.2L+1u.3v,3c=1H.2z(a*2I/f);7.N.1f.4B.1h(7.N.1f.2q[0],3c)},7.N.1f.5u)}1u.N=7V(D(){8(7.N.1f){7.N.1f.4B.1h(7.N.1f.2q[0],2I)}8(7.N.4w){7.N.4w.1h($12,3c,44)}8(A.26){y.T(I('1G',G),b)}O{y.T(I(b,G),7.N)}},44);8(7.N.4u){7.N.4u.1h($12,3c,44)}H J});y.11(I('3g',G),D(e){e.1g();8(V.2d){V.2d=L;A.27=L;A.26=J;V.2L=2o();3x(V,G)}O{y.T(I('1G',G))}H J});y.11(I('14',G)+' '+I('16',G),D(e,b,f,g,h){e.1g();8(A.2d||y.2f(':3t')){e.2e();H 18(G,'3w 4y 7W 3t: 2p 3f.')}F i=(Y(7.E.4C))?7.E.4C:7.E.M+1;8(i>K.Q){e.2e();H 18(G,'2p 6O E ('+K.Q+' Q, '+i+' 6P): 2p 3f.')}F v=[b,f,g,h],t=['2A','28/2M','D','3d'],a=3e(v,t);b=a[0];f=a[1];g=a[2];h=a[3];F k=e.5v.19(G.3y.45.S);8(!1T(b)){b={}}8(1o(g)){b.3h=g}8(1k(h)){b.2O=h}b=$.1L(J,{},7[k],b);8(b.5w&&!b.5w.1h($12,k)){e.2e();H 18(G,'7X \"5w\" 7Y L.')}8(!Y(f)){8(7.E.1t!='*'){f='M'}O{F m=[f,b.E,7[k].E];1j(F a=0,l=m.S;a<l;a++){8(Y(m[a])||m[a]=='6Q'||m[a]=='M'){f=m[a];17}}}1F(f){R'6Q':e.2e();H y.1P(I(k+'7Z',G),[b,g]);17;R'M':8(!7.E.U.1d&&7.E.1t=='*'){f=7.E.M}17}}8(V.2d){y.T(I('3g',G));y.T(I('2O',G),[k,[b,f,g]]);e.2e();H 18(G,'3w 80 3f.')}8(b.1M>0){8(A.26){8(b.2O){8(b.2O=='2P'){2g=[]}8(b.2O!='X'||2g.S==0){y.T(I('2O',G),[k,[b,f,g]])}}e.2e();H 18(G,'3w 81 3f.')}}1u.3v=0;y.T(I('6R'+k,G),[b,f]);8(7.2n){F s=7.2n,c=[b,f];1j(F j=0,l=s.S;j<l;j++){F d=k;8(!s[j][2]){d=(d=='14')?'16':'14'}8(!s[j][1]){c[0]=s[j][0].1P('3o',['6S',d])}c[1]=f+s[j][3];s[j][0].T('3o',['6R'+d,c])}}H J});y.11(I('82',G),D(e,b,c){e.1g();F d=y.13();8(!7.1U){8(K.X==0){8(7.3z){y.T(I('16',G),K.Q-1)}H e.2e()}}1Y(d,7);8(!Y(c)){8(7.E.U.1d){c=4D(d,7,K.Q-1)}O 8(7.E.1t!='*'){F f=(Y(b.E))?b.E:5x(y,7);c=6T(d,7,K.Q-1,f)}O{c=7.E.M}c=4E(c,7,b.E,$12)}8(!7.1U){8(K.Q-c<K.X){c=K.Q-K.X}}7.E.U.20=7.E.M;8(7.E.U.1d){F g=2x(32(d,7,K.Q-c),7,7.E.U.2c,$12);8(7.E.M+c<=g&&c<K.Q){c++;g=2x(32(d,7,K.Q-c),7,7.E.U.2c,$12)}7.E.M=g}O 8(7.E.1t!='*'){F g=3W(d,7,K.Q-c);7.E.M=2x(g,7,7.E.U.2c,$12)}1Y(d,7,J);8(c==0){e.2e();H 18(G,'0 E 46 1K: 2p 3f.')}18(G,'6U '+c+' E 5y.');K.X+=c;2h(K.X>=K.Q){K.X-=K.Q}8(!7.1U){8(K.X==0&&b.4F){b.4F.1h($12,'14')}8(!7.3z){3A(7,K.X,G)}}y.13().19(K.Q-c,K.Q).83(y);8(K.Q<7.E.M+c){y.13().19(0,(7.E.M+c)-K.Q).4G(J).47(y)}F d=y.13(),3i=6V(d,7,c),2i=6W(d,7),1Z=d.1N(c-1),21=3i.2P(),2r=2i.2P();1Y(d,7);F h=0,2B=0;8(7.1B){F p=4H(2i,7);h=p[0];2B=p[1]}F i=(h<0)?7.1i[7.d[3]]:0;F j=L,2Q=$();8(7.E.M<c){2Q=d.19(7.E.U.20,c);8(b.1V=='6X'){F k=7.E[7.d['P']];j=2Q;1Z=2r;5z(j);7.E[7.d['P']]='1d'}}F l=L,3B=2R(d.19(0,c),7,'P'),2j=4I(4J(2i,7,J),7,!7.1R),3C=0,29={},4K={},2s={},2S={},4L={},2T={},5A={},2U=5B(b,7,c,3B);1F(b.1V){R'1I':R'1I-1w':3C=2R(d.19(0,7.E.M),7,'P');17}8(j){7.E[7.d['P']]=k}1Y(d,7,J);8(2B>=0){1Y(21,7,7.1i[7.d[1]])}8(h>=0){1Y(1Z,7,7.1i[7.d[3]])}8(7.1B){7.1i[7.d[1]]=2B;7.1i[7.d[3]]=h}2T[7.d['1m']]=-(3B-i);5A[7.d['1m']]=-(3C-i);4K[7.d['1m']]=2j[7.d['P']];F m=D(){},1O=D(){},1C=D(){},3D=D(){},2C=D(){},5C=D(){},1D=D(){},3E=D(){},1x=D(){},1y=D(){},1J=D(){};1F(b.1V){R'3j':R'1I':R'1I-1w':R'22':R'22-1w':l=y.4G(J).47($1n);17}1F(b.1V){R'3j':R'22':R'22-1w':l.13().19(0,c).2t();l.13().19(7.E.U.20).2t();17;R'1I':R'1I-1w':l.13().19(7.E.M).2t();l.Z(5A);17}y.Z(2T);V=48(2U,b.2u,G);29[7.d['1m']]=(7.1R)?7.1i[7.d[3]]:0;8(7[7.d['P']]=='1d'||7[7.d['1e']]=='1d'){m=D(){$1n.Z(2j)};1O=D(){V.1a.1c([$1n,2j])}}8(7.1R){8(2r.4M(1Z).S){2s[7.d['1S']]=1Z.1q('2a');8(h<0){1Z.Z(2s)}O{1D=D(){1Z.Z(2s)};3E=D(){V.1a.1c([1Z,2s])}}}1F(b.1V){R'1I':R'1I-1w':l.13().1N(c-1).Z(2s);17}8(2r.4M(21).S){2S[7.d['1S']]=21.1q('2a');1C=D(){21.Z(2S)};3D=D(){V.1a.1c([21,2S])}}8(2B>=0){4L[7.d['1S']]=2r.1q('2a')+7.1i[7.d[1]];2C=D(){2r.Z(4L)};5C=D(){V.1a.1c([2r,4L])}}}1J=D(){y.Z(29)};F n=7.E.M+c-K.Q;1y=D(){8(n>0){y.13().19(K.Q).2t();3i=$(y.13().19(K.Q-(7.E.M-n)).3F().6Y(y.13().19(0,n).3F()))}5D(j);8(7.1R){F a=y.13().1N(7.E.M+c-1);a.Z(7.d['1S'],a.1q('2a'))}};F o=5E(3i,2Q,2i,c,'14',2U,2j);1x=D(){5F(y,l,b);A.26=L;2b.3h=4a($12,b,'3h',o,2b);2g=5G(y,2g,G);8(!A.27){y.T(I('1G',G))}};A.26=J;1u=3u(1u);2b.3G=4a($12,b,'3G',o,2b);1F(b.1V){R'42':y.Z(29);m();1C();2C();1D();1J();1y();1x();17;R'1w':V.1a.1c([y,{'1E':0},D(){m();1C();2C();1D();1J();1y();V=48(2U,b.2u,G);V.1a.1c([y,{'1E':1},1x]);3x(V,G)}]);17;R'3j':y.Z({'1E':0});V.1a.1c([l,{'1E':0}]);V.1a.1c([y,{'1E':1},1x]);1O();1C();2C();1D();1J();1y();17;R'1I':V.1a.1c([l,29,D(){1C();2C();1D();1J();1y();1x()}]);1O();17;R'1I-1w':V.1a.1c([y,{'1E':0}]);V.1a.1c([l,29,D(){y.Z({'1E':1});1C();2C();1D();1J();1y();1x()}]);1O();17;R'22':V.1a.1c([l,4K,1x]);1O();1C();2C();1D();1J();1y();17;R'22-1w':y.Z({'1E':0});V.1a.1c([y,{'1E':1}]);V.1a.1c([l,4K,1x]);1O();1C();2C();1D();1J();1y();17;2J:V.1a.1c([y,29,D(){1y();1x()}]);1O();3D();5C();3E();17}3x(V,G);5H(7.25,y,G);y.T(I('3H',G),[L,2j]);H J});y.11(I('84',G),D(e,c,d){e.1g();F f=y.13();8(!7.1U){8(K.X==7.E.M){8(7.3z){y.T(I('14',G),K.Q-1)}H e.2e()}}1Y(f,7);8(!Y(d)){8(7.E.1t!='*'){F g=(Y(c.E))?c.E:5x(y,7);d=6Z(f,7,0,g)}O{d=7.E.M}d=4E(d,7,c.E,$12)}F h=(K.X==0)?K.Q:K.X;8(!7.1U){8(7.E.U.1d){F i=32(f,7,d),g=4D(f,7,h-1)}O{F i=7.E.M,g=7.E.M}8(d+i>h){d=h-g}}7.E.U.20=7.E.M;8(7.E.U.1d){F i=2x(5I(f,7,d,h),7,7.E.U.2c,$12);2h(7.E.M-d>=i&&d<K.Q){d++;i=2x(5I(f,7,d,h),7,7.E.U.2c,$12)}7.E.M=i}O 8(7.E.1t!='*'){F i=3W(f,7,d);7.E.M=2x(i,7,7.E.U.2c,$12)}1Y(f,7,J);8(d==0){e.2e();H 18(G,'0 E 46 1K: 2p 3f.')}18(G,'6U '+d+' E 70.');K.X-=d;2h(K.X<0){K.X+=K.Q}8(!7.1U){8(K.X==7.E.M&&c.4F){c.4F.1h($12,'16')}8(!7.3z){3A(7,K.X,G)}}8(K.Q<7.E.M+d){y.13().19(0,(7.E.M+d)-K.Q).4G(J).47(y)}F f=y.13(),3i=71(f,7),2i=72(f,7,d),1Z=f.1N(d-1),21=3i.2P(),2r=2i.2P();1Y(f,7);F j=0,2B=0;8(7.1B){F p=4H(2i,7);j=p[0];2B=p[1]}F k=L,2Q=$();8(7.E.U.20<d){2Q=f.19(7.E.U.20,d);8(c.1V=='6X'){F l=7.E[7.d['P']];k=2Q;1Z=21;5z(k);7.E[7.d['P']]='1d'}}F m=L,3B=2R(f.19(0,d),7,'P'),2j=4I(4J(2i,7,J),7,!7.1R),3C=0,29={},4N={},2s={},2S={},2T={},2U=5B(c,7,d,3B);1F(c.1V){R'22':R'22-1w':3C=2R(f.19(0,7.E.U.20),7,'P');17}8(k){7.E[7.d['P']]=l}8(7.1B){8(7.1i[7.d[1]]<0){7.1i[7.d[1]]=0}}1Y(f,7,J);1Y(21,7,7.1i[7.d[1]]);8(7.1B){7.1i[7.d[1]]=2B;7.1i[7.d[3]]=j}2T[7.d['1m']]=(7.1R)?7.1i[7.d[3]]:0;F n=D(){},1O=D(){},1C=D(){},3D=D(){},1D=D(){},3E=D(){},1x=D(){},1y=D(){},1J=D(){};1F(c.1V){R'3j':R'1I':R'1I-1w':R'22':R'22-1w':m=y.4G(J).47($1n);m.13().19(7.E.U.20).2t();17}1F(c.1V){R'3j':R'1I':R'1I-1w':y.Z('3Z',1);m.Z('3Z',0);17}V=48(2U,c.2u,G);29[7.d['1m']]=-3B;4N[7.d['1m']]=-3C;8(j<0){29[7.d['1m']]+=j}8(7[7.d['P']]=='1d'||7[7.d['1e']]=='1d'){n=D(){$1n.Z(2j)};1O=D(){V.1a.1c([$1n,2j])}}8(7.1R){F o=2r.1q('2a');8(2B>=0){o+=7.1i[7.d[1]]}2r.Z(7.d['1S'],o);8(1Z.4M(21).S){2S[7.d['1S']]=21.1q('2a')}1C=D(){21.Z(2S)};3D=D(){V.1a.1c([21,2S])};F q=1Z.1q('2a');8(j>0){q+=7.1i[7.d[3]]}2s[7.d['1S']]=q;1D=D(){1Z.Z(2s)};3E=D(){V.1a.1c([1Z,2s])}}1J=D(){y.Z(2T)};F r=7.E.M+d-K.Q;1y=D(){8(r>0){y.13().19(K.Q).2t()}F a=y.13().19(0,d).47(y).2P();8(r>0){2i=3I(f,7)}5D(k);8(7.1R){8(K.Q<7.E.M+d){F b=y.13().1N(7.E.M-1);b.Z(7.d['1S'],b.1q('2a')+7.1i[7.d[1]])}a.Z(7.d['1S'],a.1q('2a'))}};F s=5E(3i,2Q,2i,d,'16',2U,2j);1x=D(){y.Z('3Z',y.1q('6K'));5F(y,m,c);A.26=L;2b.3h=4a($12,c,'3h',s,2b);2g=5G(y,2g,G);8(!A.27){y.T(I('1G',G))}};A.26=J;1u=3u(1u);2b.3G=4a($12,c,'3G',s,2b);1F(c.1V){R'42':y.Z(29);n();1C();1D();1J();1y();1x();17;R'1w':V.1a.1c([y,{'1E':0},D(){n();1C();1D();1J();1y();V=48(2U,c.2u,G);V.1a.1c([y,{'1E':1},1x]);3x(V,G)}]);17;R'3j':y.Z({'1E':0});V.1a.1c([m,{'1E':0}]);V.1a.1c([y,{'1E':1},1x]);1O();1C();1D();1J();1y();17;R'1I':y.Z(7.d['1m'],$1n[7.d['P']]());V.1a.1c([y,2T,1x]);1O();1C();1D();1y();17;R'1I-1w':y.Z(7.d['1m'],$1n[7.d['P']]());V.1a.1c([m,{'1E':0}]);V.1a.1c([y,2T,1x]);1O();1C();1D();1y();17;R'22':V.1a.1c([m,4N,1x]);1O();1C();1D();1J();1y();17;R'22-1w':y.Z({'1E':0});V.1a.1c([y,{'1E':1}]);V.1a.1c([m,4N,1x]);1O();1C();1D();1J();1y();17;2J:V.1a.1c([y,29,D(){1J();1y();1x()}]);1O();3D();3E();17}3x(V,G);5H(7.25,y,G);y.T(I('3H',G),[L,2j]);H J});y.11(I('3k',G),D(e,b,c,d,f,g,h){e.1g();F v=[b,c,d,f,g,h],t=['2M/28/2A','28','3d','2A','2M','D'],a=3e(v,t);f=a[3];g=a[4];h=a[5];b=3J(a[0],a[1],a[2],K,y);8(b==0){H L}8(!1T(f)){f=L}8(g!='14'&&g!='16'){8(7.1U){g=(b<=K.Q/2)?'16':'14'}O{g=(K.X==0||K.X>b)?'16':'14'}}8(g=='14'){b=K.Q-b}y.T(I(g,G),[f,b,h]);H J});y.11(I('85',G),D(e,a,b){e.1g();F c=y.1P(I('4b',G));H y.1P(I('5J',G),[c-1,a,'14',b])});y.11(I('86',G),D(e,a,b){e.1g();F c=y.1P(I('4b',G));H y.1P(I('5J',G),[c+1,a,'16',b])});y.11(I('5J',G),D(e,a,b,c,d){e.1g();8(!Y(a)){a=y.1P(I('4b',G))}F f=7.1b.E||7.E.M,1X=1H.2z(K.Q/f)-1;8(a<0){a=1X}8(a>1X){a=0}H y.1P(I('3k',G),[a*f,0,J,b,c,d])});y.11(I('73',G),D(e,s){e.1g();8(s){s=3J(s,0,J,K,y)}O{s=0}s+=K.X;8(s!=0){8(K.Q>0){2h(s>K.Q){s-=K.Q}}y.87(y.13().19(s,K.Q))}H J});y.11(I('2n',G),D(e,s){e.1g();8(s){s=5k(s)}O 8(7.2n){s=7.2n}O{H 18(G,'6j 88 46 2n.')}F n=y.1P(I('4p',G)),x=J;1j(F j=0,l=s.S;j<l;j++){8(!s[j][0].1P(I('3k',G),[n,s[j][3],J])){x=L}}H x});y.11(I('2O',G),D(e,a,b){e.1g();8(1o(a)){a.1h($12,2g)}O 8(2V(a)){2g=a}O 8(!1z(a)){2g.1c([a,b])}H 2g});y.11(I('89',G),D(e,b,c,d,f){e.1g();F v=[b,c,d,f],t=['2M/2A','2M/28/2A','3d','28'],a=3e(v,t);b=a[0];c=a[1];d=a[2];f=a[3];8(1T(b)&&!2v(b)){b=$(b)}O 8(1p(b)){b=$(b)}8(!2v(b)||b.S==0){H 18(G,'2p a 5K 2A.')}8(1z(c)){c='4c'}4x(b,7);41(b);F g=c,4d='4d';8(c=='4c'){8(d){8(K.X==0){c=K.Q-1;4d='74'}O{c=K.X;K.X+=b.S}8(c<0){c=0}}O{c=K.Q-1;4d='74'}}O{c=3J(c,f,d,K,y)}F h=y.13().1N(c);8(h.S){h[4d](b)}O{18(G,'8a 8b-3r 4M 6k! 8c 8d 46 75 4c.');y.76(b)}8(g!='4c'&&!d){8(c<K.X){K.X+=b.S}}K.Q=y.13().S;8(K.X>=K.Q){K.X-=K.Q}y.T(I('4O',G));y.T(I('5L',G));H J});y.11(I('77',G),D(e,c,d,f){e.1g();F v=[c,d,f],t=['2M/28/2A','3d','28'],a=3e(v,t);c=a[0];d=a[1];f=a[2];F g=L;8(c 2W $&&c.S>1){h=$();c.1W(D(i,a){F b=y.T(I('77',G),[$(1l),d,f]);8(b){h=h.8e(b)}});H h}8(1z(c)||c=='4c'){h=y.13().2P()}O{c=3J(c,f,d,K,y);F h=y.13().1N(c);8(h.S){8(c<K.X){K.X-=h.S}}}8(h&&h.S){h.8f();K.Q=y.13().S;y.T(I('4O',G))}H h});y.11(I('3G',G)+' '+I('3h',G),D(e,a){e.1g();F b=e.5v.19(G.3y.45.S);8(2V(a)){2b[b]=a}8(1o(a)){2b[b].1c(a)}H 2b[b]});y.11(I('4p',G),D(e,a){e.1g();8(K.X==0){F b=0}O{F b=K.Q-K.X}8(1o(a)){a.1h($12,b)}H b});y.11(I('4b',G),D(e,a){e.1g();F b=7.1b.E||7.E.M,1X=1H.2z(K.Q/b-1),2k;8(K.X==0){2k=0}O 8(K.X<K.Q%b){2k=0}O 8(K.X==b&&!7.1U){2k=1X}O{2k=1H.78((K.Q-K.X)/b)}8(2k<0){2k=0}8(2k>1X){2k=1X}8(1o(a)){a.1h($12,2k)}H 2k});y.11(I('8g',G),D(e,a){e.1g();F b=3I(y.13(),7);8(1o(a)){a.1h($12,b)}H b});y.11(I('19',G),D(e,f,l,b){e.1g();8(K.Q==0){H L}F v=[f,l,b],t=['28','28','D'],a=3e(v,t);f=(Y(a[0]))?a[0]:0;l=(Y(a[1]))?a[1]:K.Q;b=a[2];f+=K.X;l+=K.X;8(E.Q>0){2h(f>K.Q){f-=K.Q}2h(l>K.Q){l-=K.Q}2h(f<0){f+=K.Q}2h(l<0){l+=K.Q}}F c=y.13(),$i;8(l>f){$i=c.19(f,l)}O{$i=$(c.19(f,K.Q).3F().6Y(c.19(0,l).3F()))}8(1o(b)){b.1h($12,$i)}H $i});y.11(I('27',G)+' '+I('2d',G)+' '+I('26',G),D(e,a){e.1g();F b=e.5v.19(G.3y.45.S),5M=A[b];8(1o(a)){a.1h($12,5M)}H 5M});y.11(I('6S',G),D(e,a,b,c){e.1g();F d=L;8(1o(a)){a.1h($12,7)}O 8(1T(a)){31=$.1L(J,{},31,a);8(b!==L)d=J;O 7=$.1L(J,{},7,a)}O 8(!1z(a)){8(1o(b)){F f=4P('7.'+a);8(1z(f)){f=''}b.1h($12,f)}O 8(!1z(b)){8(2X c!=='3d')c=J;4P('31.'+a+' = b');8(c!==L)d=J;O 4P('7.'+a+' = b')}O{H 4P('7.'+a)}}8(d){1Y(y.13(),7);z.59(31);z.5N();F g=4Q(y,7);y.T(I('3H',G),[J,g])}H 7});y.11(I('5L',G),D(e,a,b){e.1g();8(1z(a)){a=$('8h')}O 8(1p(a)){a=$(a)}8(!2v(a)||a.S==0){H 18(G,'2p a 5K 2A.')}8(!1p(b)){b='a.6i'}a.8i(b).1W(D(){F h=1l.79||'';8(h.S>0&&y.13().7a($(h))!=-1){$(1l).23('5O').5O(D(e){e.2D();y.T(I('3k',G),h)})}});H J});y.11(I('3H',G),D(e,b,c){e.1g();8(!7.1b.1A){H}F d=7.1b.E||7.E.M,4R=1H.2z(K.Q/d);8(b){8(7.1b.3K){7.1b.1A.13().2t();7.1b.1A.1W(D(){1j(F a=0;a<4R;a++){F i=y.13().1N(3J(a*d,0,J,K,y));$(1l).76(7.1b.3K.1h(i[0],a+1))}})}7.1b.1A.1W(D(){$(1l).13().23(7.1b.3L).1W(D(a){$(1l).11(7.1b.3L,D(e){e.2D();y.T(I('3k',G),[a*d,-7.1b.4S,J,7.1b])})})})}F f=y.1P(I('4b',G))+7.1b.4S;8(f>=4R){f=0}8(f<0){f=4R-1}7.1b.1A.1W(D(){$(1l).13().2N(2y('7b',G)).1N(f).3a(2y('7b',G))});H J});y.11(I('4O',G),D(e){F a=7.E.M,2E=y.13(),2m=5d($1n,7,'P');K.Q=2E.S;8(A.4r){7.3U=2m;7[7.d['P']]=4s(2m,A.4r)}O{7.3U=5e(7,2m)}8(7.2H){7.E.P=7.E.3M.P;7.E.1e=7.E.3M.1e;7=5g(7,2E,2m);a=7.E.M;5r(7,2E)}O 8(7.E.U.1d){a=32(2E,7,0)}O 8(7.E.1t!='*'){a=3W(2E,7,0)}8(!7.1U&&K.X!=0&&a>K.X){8(7.E.U.1d){F b=4D(2E,7,K.X)-K.X}O 8(7.E.1t!='*'){F b=7c(2E,7,K.X)-K.X}O{F b=7.E.M-K.X}18(G,'8j 8k-1U: 8l '+b+' E 5y.');y.T(I('14',G),b)}7.E.M=2x(a,7,7.E.U.2c,$12);7.E.U.20=7.E.M;7=5i(7,2E);F c=4Q(y,7);y.T(I('3H',G),[J,c]);4T(7,K.Q,G);3A(7,K.X,G);H c});y.11(I('4q',G),D(e,a){e.1g();1u=3u(1u);y.1q('57',L);y.T(I('5t',G));8(a){y.T(I('73',G))}4U(y.13());4U(y);z.5s();z.5P();8(G.3s=='36'){4U($1n)}O{$1n.8m(y)}H J});y.11(I('18',G),D(e){18(G,'3w P: '+7.P);18(G,'3w 1e: '+7.1e);18(G,'7d 8n: '+7.E.P);18(G,'7d 8o: '+7.E.1e);18(G,'4e 4f E M: '+7.E.M);8(7.N.1G){18(G,'4e 4f E 5Q 8p: '+7.N.E)}8(7.14.W){18(G,'4e 4f E 5Q 5y: '+7.14.E)}8(7.16.W){18(G,'4e 4f E 5Q 70: '+7.16.E)}H G.18});y.11('3o',D(e,n,o){e.1g();H y.1P(I(n,G),o)})};z.5s=D(){y.23(I('',G));y.23(I('',G,L));y.23('3o')};z.5N=D(){z.5P();4T(7,K.Q,G);3A(7,K.X,G);8(7.N.2F){F b=3N(7.N.2F);$1n.11(I('4V',G,L),D(){y.T(I('3b',G),b)}).11(I('4W',G,L),D(){y.T(I('3g',G))})}8(7.N.W){7.N.W.11(I(7.N.3L,G,L),D(e){e.2D();F a=L,b=3O;8(A.27){a='1G'}O 8(7.N.4X){a='3b';b=3N(7.N.4X)}8(a){y.T(I(a,G),b)}})}8(7.14.W){7.14.W.11(I(7.14.3L,G,L),D(e){e.2D();y.T(I('14',G))});8(7.14.2F){F b=3N(7.14.2F);7.14.W.11(I('4V',G,L),D(){y.T(I('3b',G),b)}).11(I('4W',G,L),D(){y.T(I('3g',G))})}}8(7.16.W){7.16.W.11(I(7.16.3L,G,L),D(e){e.2D();y.T(I('16',G))});8(7.16.2F){F b=3N(7.16.2F);7.16.W.11(I('4V',G,L),D(){y.T(I('3b',G),b)}).11(I('4W',G,L),D(){y.T(I('3g',G))})}}8(7.1b.1A){8(7.1b.2F){F b=3N(7.1b.2F);7.1b.1A.11(I('4V',G,L),D(){y.T(I('3b',G),b)}).11(I('4W',G,L),D(){y.T(I('3g',G))})}}8(7.14.2Y||7.16.2Y){$(4g).11(I('7e',G,L,J,J),D(e){F k=e.7f;8(k==7.16.2Y){e.2D();y.T(I('16',G))}8(k==7.14.2Y){e.2D();y.T(I('14',G))}})}8(7.1b.4Y){$(4g).11(I('7e',G,L,J,J),D(e){F k=e.7f;8(k>=49&&k<58){k=(k-49)*7.E.M;8(k<=K.Q){e.2D();y.T(I('3k',G),[k,0,J,7.1b])}}})}8($.1s.1r){F c='8q'8r 3l;8((c&&7.1r.4h)||(!c&&7.1r.5R)){F d=$.1L(J,{},7.14,7.1r),7g=$.1L(J,{},7.16,7.1r),5S=D(){y.T(I('14',G),[d])},5T=D(){y.T(I('16',G),[7g])};1F(7.2l){R'5c':R'7h':7.1r.2G.8s=5T;7.1r.2G.8t=5S;17;2J:7.1r.2G.8u=5T;7.1r.2G.8v=5S}8(A.1r){y.1r('4q')}$1n.1r(7.1r.2G);$1n.Z('7i','8w');A.1r=J}}8($.1s.1Q){8(7.1Q){F f=$.1L(J,{},7.14,7.1Q),7j=$.1L(J,{},7.16,7.1Q);8(A.1Q){$1n.23(I('1Q',G,L))}$1n.11(I('1Q',G,L),D(e,a){e.2D();8(a>0){y.T(I('14',G),[f])}O{y.T(I('16',G),[7j])}});A.1Q=J}}8(7.N.1G){y.T(I('1G',G),7.N.5U)}8(A.6v){F g=D(e){y.T(I('5t',G));8(7.N.5V&&!A.27){y.T(I('1G',G))}1Y(y.13(),7);y.T(I('4O',G))};F h=$(3l),4i=3O;8($.5W&&G.5X=='5W'){4i=$.5W(8x,g)}O 8($.4Z&&G.5X=='4Z'){4i=$.4Z(8y,g)}O{F i=0,5Y=0;4i=D(){F a=h.P(),5Z=h.1e();8(a!=i||5Z!=5Y){g();i=a;5Y=5Z}}}h.11(I('8z',G,L,J,J),4i)}};z.5P=D(){F a=I('',G),3P=I('',G,L);61=I('',G,L,J,J);$(4g).23(61);$(3l).23(61);$1n.23(3P);8(7.N.W){7.N.W.23(3P)}8(7.14.W){7.14.W.23(3P)}8(7.16.W){7.16.W.23(3P)}8(7.1b.1A){7.1b.1A.23(3P);8(7.1b.3K){7.1b.1A.13().2t()}}8(A.1r){y.1r('4q');$1n.Z('7i','2J');A.1r=L}8(A.1Q){A.1Q=L}4T(7,'4j',G);3A(7,'2N',G)};8(1k(w)){w={'18':w}}F A={'2l':'16','27':J,'26':L,'2d':L,'1Q':L,'1r':L},K={'Q':y.13().S,'X':0},1u={'N':3O,'1f':3O,'2L':2o(),'3v':0},V={'2d':L,'1M':0,'2L':0,'2u':'','1a':[]},2b={'3G':[],'3h':[]},2g=[],G=$.1L(J,{},$.1s.1v.7k,w),7={},31=$.1L(J,{},u),$1n=(G.3s=='36')?y.36():y.8A('<'+G.3s.55+' 8B=\"'+G.3s.7l+'\" />').36();G.4o=y.4o;G.3T=$.1s.1v.3T++;G.2Z=(G.2Z&&$.1s.2Z)?'2Z':'8C';z.59(31,J,56);z.6D();z.6L();z.5N();8(2V(7.E.3m)){F B=7.E.3m}O{F B=[];8(7.E.3m!=0){B.1c(7.E.3m)}}8(7.25){B.8D(4k(7m(7.25),10))}8(B.S>0){1j(F a=0,l=B.S;a<l;a++){F s=B[a];8(s==0){62}8(s===J){s=3l.8E.79;8(s.S<1){62}}O 8(s==='7n'){s=1H.4l(1H.7n()*K.Q)}8(y.1P(I('3k',G),[s,0,J,{1V:'42'}])){17}}}F C=4Q(y,7),7o=3I(y.13(),7);8(7.7p){7.7p.1h($12,{'P':C.P,'1e':C.1e,'E':7o})}y.T(I('3H',G),[J,C]);y.T(I('5L',G));8(G.18){y.T(I('18',G))}H y};$.1s.1v.3T=1;$.1s.1v.5b={'2n':L,'3z':J,'1U':J,'2H':L,'2l':'1m','E':{'3m':0},'1K':{'2u':'7q','1M':6y,'2F':L,'3L':'5O','2O':L}};$.1s.1v.7k={'18':L,'2Z':L,'5X':'4Z','3y':{'45':'','7r':'8F'},'3s':{'55':'8G','7l':'8H'},'63':{}};$.1s.1v.7s=D(a){H'<a 8I=\"#\"><7t>'+a+'</7t></a>'};$.1s.1v.7u=D(a){$(1l).Z('P',a+'%')};$.1s.1v.25={3F:D(n){n+='=';F b=4g.25.3Q(';');1j(F a=0,l=b.S;a<l;a++){F c=b[a];2h(c.8J(0)==' '){c=c.19(1)}8(c.3R(n)==0){H c.19(n.S)}}H 0},64:D(n,v,d){F e=\"\";8(d){F a=7v 7w();a.8K(a.2o()+(d*24*60*60*8L));e=\"; 8M=\"+a.8N()}4g.25=n+'='+v+e+'; 8O=/'},2t:D(n){$.1s.1v.25.64(n,\"\",-1)}};D 48(d,e,c){8(c.2Z=='2Z'){8(e=='7q'){e='8P'}}H{1a:[],1M:d,8Q:d,2u:e,2L:2o()}}D 3x(s,c){1j(F a=0,l=s.1a.S;a<l;a++){F b=s.1a[a];8(!b){62}b[0][c.2Z](b[1],s.1M,s.2u,b[2])}}D 43(s,c){8(!1k(c)){c=J}8(1T(s.4z)){43(s.4z,c)}1j(F a=0,l=s.1a.S;a<l;a++){F b=s.1a[a];b[0].6M(J);8(c){b[0].Z(b[1]);8(1o(b[2])){b[2]()}}}8(1T(s.4A)){43(s.4A,c)}}D 5F(a,b,o){8(b){b.2t()}1F(o.1V){R'1w':R'3j':R'1I-1w':R'22-1w':a.Z('1t','');a.Z('1E',1);17}}D 4a(d,o,b,a,c){8(o[b]){o[b].1h(d,a)}8(c[b].S){1j(F i=0,l=c[b].S;i<l;i++){c[b][i].1h(d,a)}}H[]}D 5G(a,q,c){8(q.S){a.T(I(q[0][0],c),q[0][1]);q.8R()}H q}D 5z(b){b.1W(D(){F a=$(1l);a.1q('7x',a.2f(':3t')).4j()})}D 5D(b){8(b){b.1W(D(){F a=$(1l);8(!a.1q('7x')){a.4m()}})}}D 3u(t){8(t.N){8S(t.N)}8(t.1f){8T(t.1f)}H t}D 5E(a,b,c,d,e,f,g){H{'P':g.P,'1e':g.1e,'E':{'20':a,'8U':b,'M':c},'1K':{'E':d,'2l':e,'1M':f}}}D 5B(a,o,b,c){F d=a.1M;8(a.1V=='42'){H 0}8(d=='N'){d=o.1K.1M/o.1K.E*b}O 8(d<10){d=c/d}8(d<1){H 0}8(a.1V=='1w'){d=d/2}H 1H.78(d)}D 4T(o,t,c){F a=(Y(o.E.4C))?o.E.4C:o.E.M+1;8(t=='4m'||t=='4j'){F f=t}O 8(a>t){18(c,'2p 6O E ('+t+' Q, '+a+' 6P): 8V 8W.');F f='4j'}O{F f='4m'}F s=(f=='4m')?'2N':'3a',h=2y('3t',c);8(o.N.W){o.N.W[f]()[s](h)}8(o.14.W){o.14.W[f]()[s](h)}8(o.16.W){o.16.W[f]()[s](h)}8(o.1b.1A){o.1b.1A[f]()[s](h)}}D 3A(o,f,c){8(o.1U||o.3z)H;F a=(f=='2N'||f=='3a')?f:L,51=2y('8X',c);8(o.N.W&&a){o.N.W[a](51)}8(o.14.W){F b=a||(f==0)?'3a':'2N';o.14.W[b](51)}8(o.16.W){F b=a||(f==o.E.M)?'3a':'2N';o.16.W[b](51)}}D 3S(a,b){8(1o(b)){b=b.1h(a)}O 8(1z(b)){b={}}H b}D 6l(a,b){b=3S(a,b);8(Y(b)){b={'M':b}}O 8(b=='1d'){b={'M':b,'P':b,'1e':b}}O 8(!1T(b)){b={}}H b}D 6m(a,b){b=3S(a,b);8(Y(b)){8(b<=50){b={'E':b}}O{b={'1M':b}}}O 8(1p(b)){b={'2u':b}}O 8(!1T(b)){b={}}H b}D 52(a,b){b=3S(a,b);8(1p(b)){F c=65(b);8(c==-1){b=$(b)}O{b=c}}H b}D 6n(a,b){b=52(a,b);8(2v(b)){b={'W':b}}O 8(1k(b)){b={'1G':b}}O 8(Y(b)){b={'2K':b}}8(b.1f){8(1p(b.1f)||2v(b.1f)){b.1f={'2q':b.1f}}}H b}D 6z(a,b){8(1o(b.W)){b.W=b.W.1h(a)}8(1p(b.W)){b.W=$(b.W)}8(!1k(b.1G)){b.1G=J}8(!Y(b.5U)){b.5U=0}8(1z(b.4X)){b.4X=J}8(!1k(b.5V)){b.5V=J}8(!Y(b.2K)){b.2K=(b.1M<10)?8Y:b.1M*5}8(b.1f){8(1o(b.1f.2q)){b.1f.2q=b.1f.2q.1h(a)}8(1p(b.1f.2q)){b.1f.2q=$(b.1f.2q)}8(b.1f.2q){8(!1o(b.1f.4B)){b.1f.4B=$.1s.1v.7u}8(!Y(b.1f.5u)){b.1f.5u=50}}O{b.1f=L}}H b}D 5a(a,b){b=52(a,b);8(2v(b)){b={'W':b}}O 8(Y(b)){b={'2Y':b}}H b}D 5j(a,b){8(1o(b.W)){b.W=b.W.1h(a)}8(1p(b.W)){b.W=$(b.W)}8(1p(b.2Y)){b.2Y=65(b.2Y)}H b}D 6o(a,b){b=52(a,b);8(2v(b)){b={'1A':b}}O 8(1k(b)){b={'4Y':b}}H b}D 6A(a,b){8(1o(b.1A)){b.1A=b.1A.1h(a)}8(1p(b.1A)){b.1A=$(b.1A)}8(!Y(b.E)){b.E=L}8(!1k(b.4Y)){b.4Y=L}8(!1o(b.3K)&&!53(b.3K)){b.3K=$.1s.1v.7s}8(!Y(b.4S)){b.4S=0}H b}D 6p(a,b){8(1o(b)){b=b.1h(a)}8(1z(b)){b={'4h':L}}8(3p(b)){b={'4h':b}}O 8(Y(b)){b={'E':b}}H b}D 6B(a,b){8(!1k(b.4h)){b.4h=J}8(!1k(b.5R)){b.5R=L}8(!1T(b.2G)){b.2G={}}8(!1k(b.2G.7y)){b.2G.7y=L}H b}D 6q(a,b){8(1o(b)){b=b.1h(a)}8(3p(b)){b={}}O 8(Y(b)){b={'E':b}}O 8(1z(b)){b=L}H b}D 6C(a,b){H b}D 3J(a,b,c,d,e){8(1p(a)){a=$(a,e)}8(1T(a)){a=$(a,e)}8(2v(a)){a=e.13().7a(a);8(!1k(c)){c=L}}O{8(!1k(c)){c=J}}8(!Y(a)){a=0}8(!Y(b)){b=0}8(c){a+=d.X}a+=b;8(d.Q>0){2h(a>=d.Q){a-=d.Q}2h(a<0){a+=d.Q}}H a}D 4D(i,o,s){F t=0,x=0;1j(F a=s;a>=0;a--){F j=i.1N(a);t+=(j.2f(':M'))?j[o.d['2w']](J):0;8(t>o.3U){H x}8(a==0){a=i.S}x++}}D 7c(i,o,s){H 66(i,o.E.1t,o.E.U.4t,s)}D 6T(i,o,s,m){H 66(i,o.E.1t,m,s)}D 66(i,f,m,s){F t=0,x=0;1j(F a=s,l=i.S;a>=0;a--){x++;8(x==l){H x}F j=i.1N(a);8(j.2f(f)){t++;8(t==m){H x}}8(a==0){a=l}}}D 5x(a,o){H o.E.U.4t||a.13().19(0,o.E.M).1t(o.E.1t).S}D 32(i,o,s){F t=0,x=0;1j(F a=s,l=i.S-1;a<=l;a++){F j=i.1N(a);t+=(j.2f(':M'))?j[o.d['2w']](J):0;8(t>o.3U){H x}x++;8(x==l+1){H x}8(a==l){a=-1}}}D 5I(i,o,s,l){F v=32(i,o,s);8(!o.1U){8(s+v>l){v=l-s}}H v}D 3W(i,o,s){H 68(i,o.E.1t,o.E.U.4t,s,o.1U)}D 6Z(i,o,s,m){H 68(i,o.E.1t,m+1,s,o.1U)-1}D 68(i,f,m,s,c){F t=0,x=0;1j(F a=s,l=i.S-1;a<=l;a++){x++;8(x>=l){H x}F j=i.1N(a);8(j.2f(f)){t++;8(t==m){H x}}8(a==l){a=-1}}}D 3I(i,o){H i.19(0,o.E.M)}D 6V(i,o,n){H i.19(n,o.E.U.20+n)}D 6W(i,o){H i.19(0,o.E.M)}D 71(i,o){H i.19(0,o.E.U.20)}D 72(i,o,n){H i.19(n,o.E.M+n)}D 4x(i,o,d){8(o.1R){8(!1p(d)){d='2a'}i.1W(D(){F j=$(1l),m=4k(j.Z(o.d['1S']),10);8(!Y(m)){m=0}j.1q(d,m)})}}D 1Y(i,o,m){8(o.1R){F x=(1k(m))?m:L;8(!Y(m)){m=0}4x(i,o,'7z');i.1W(D(){F j=$(1l);j.Z(o.d['1S'],((x)?j.1q('7z'):m+j.1q('2a')))})}}D 41(i){i.1W(D(){F j=$(1l);j.1q('7A',j.7B('7C')||'')})}D 4U(i){i.1W(D(){F j=$(1l);j.7B('7C',j.1q('7A')||'')})}D 5r(o,b){F c=o.E.M,7D=o.E[o.d['P']],69=o[o.d['1e']],7E=3V(69);b.1W(D(){F a=$(1l),6a=7D-7F(a,o,'8Z');a[o.d['P']](6a);8(7E){a[o.d['1e']](4s(6a,69))}})}D 4Q(a,o){F b=a.36(),$i=a.13(),$v=3I($i,o),54=4I(4J($v,o,J),o,L);b.Z(54);8(o.1R){F p=o.1i,r=p[o.d[1]];8(o.1B&&r<0){r=0}F c=$v.2P();c.Z(o.d['1S'],c.1q('2a')+r);a.Z(o.d['3q'],p[o.d[0]]);a.Z(o.d['1m'],p[o.d[3]])}a.Z(o.d['P'],54[o.d['P']]+(2R($i,o,'P')*2));a.Z(o.d['1e'],6b($i,o,'1e'));H 54}D 4J(i,o,a){H[2R(i,o,'P',a),6b(i,o,'1e',a)]}D 6b(i,o,a,b){8(!1k(b)){b=L}8(Y(o[o.d[a]])&&b){H o[o.d[a]]}8(Y(o.E[o.d[a]])){H o.E[o.d[a]]}a=(a.6c().3R('P')>-1)?'2w':'3n';H 4n(i,o,a)}D 4n(i,o,b){F s=0;1j(F a=0,l=i.S;a<l;a++){F j=i.1N(a);F m=(j.2f(':M'))?j[o.d[b]](J):0;8(s<m){s=m}}H s}D 2R(i,o,b,c){8(!1k(c)){c=L}8(Y(o[o.d[b]])&&c){H o[o.d[b]]}8(Y(o.E[o.d[b]])){H o.E[o.d[b]]*i.S}F d=(b.6c().3R('P')>-1)?'2w':'3n',s=0;1j(F a=0,l=i.S;a<l;a++){F j=i.1N(a);s+=(j.2f(':M'))?j[o.d[d]](J):0}H s}D 5d(a,o,d){F b=a.2f(':M');8(b){a.4j()}F s=a.36()[o.d[d]]();8(b){a.4m()}H s}D 5e(o,a){H(Y(o[o.d['P']]))?o[o.d['P']]:a}D 6d(i,o,b){F s=L,v=L;1j(F a=0,l=i.S;a<l;a++){F j=i.1N(a);F c=(j.2f(':M'))?j[o.d[b]](J):0;8(s===L){s=c}O 8(s!=c){v=J}8(s==0){v=J}}H v}D 7F(i,o,d){H i[o.d['90'+d]](J)-i[o.d[d.6c()]]()}D 4s(s,o){8(3V(o)){o=4k(o.19(0,-1),10);8(!Y(o)){H s}s*=o/2I}H s}D I(n,c,a,b,d){8(!1k(a)){a=J}8(!1k(b)){b=J}8(!1k(d)){d=L}8(a){n=c.3y.45+n}8(b){n=n+'.'+c.3y.7r}8(b&&d){n+=c.3T}H n}D 2y(n,c){H(1p(c.63[n]))?c.63[n]:n}D 4I(a,o,p){8(!1k(p)){p=J}F b=(o.1R&&p)?o.1i:[0,0,0,0];F c={};c[o.d['P']]=a[0]+b[1]+b[3];c[o.d['1e']]=a[1]+b[0]+b[2];H c}D 3e(c,d){F e=[];1j(F a=0,7G=c.S;a<7G;a++){1j(F b=0,7H=d.S;b<7H;b++){8(d[b].3R(2X c[a])>-1&&1z(e[b])){e[b]=c[a];17}}}H e}D 6x(p){8(1z(p)){H[0,0,0,0]}8(Y(p)){H[p,p,p,p]}8(1p(p)){p=p.3Q('91').7I('').3Q('92').7I('').3Q(' ')}8(!2V(p)){H[0,0,0,0]}1j(F i=0;i<4;i++){p[i]=4k(p[i],10)}1F(p.S){R 0:H[0,0,0,0];R 1:H[p[0],p[0],p[0],p[0]];R 2:H[p[0],p[1],p[0],p[1]];R 3:H[p[0],p[1],p[2],p[1]];2J:H[p[0],p[1],p[2],p[3]]}}D 4H(a,o){F x=(Y(o[o.d['P']]))?1H.2z(o[o.d['P']]-2R(a,o,'P')):0;1F(o.1B){R'1m':H[0,x];R'35':H[x,0];R'5f':2J:H[1H.2z(x/2),1H.4l(x/2)]}}D 6r(o){F a=[['P','7J','2w','1e','7K','3n','1m','3q','1S',0,1,2,3],['1e','7K','3n','P','7J','2w','3q','1m','5p',3,2,1,0]];F b=a[0].S,7L=(o.2l=='35'||o.2l=='1m')?0:1;F c={};1j(F d=0;d<b;d++){c[a[0][d]]=a[7L][d]}H c}D 4E(x,o,a,b){F v=x;8(1o(a)){v=a.1h(b,v)}O 8(1p(a)){F p=a.3Q('+'),m=a.3Q('-');8(m.S>p.S){F c=J,6e=m[0],30=m[1]}O{F c=L,6e=p[0],30=p[1]}1F(6e){R'93':v=(x%2==1)?x-1:x;17;R'94':v=(x%2==0)?x-1:x;17;2J:v=x;17}30=4k(30,10);8(Y(30)){8(c){30=-30}v+=30}}8(!Y(v)||v<1){v=1}H v}D 2x(x,o,a,b){H 6f(4E(x,o,a,b),o.E.U)}D 6f(v,i){8(Y(i.34)&&v<i.34){v=i.34}8(Y(i.1X)&&v>i.1X){v=i.1X}8(v<1){v=1}H v}D 5k(s){8(!2V(s)){s=[[s]]}8(!2V(s[0])){s=[s]}1j(F j=0,l=s.S;j<l;j++){8(1p(s[j][0])){s[j][0]=$(s[j][0])}8(!1k(s[j][1])){s[j][1]=J}8(!1k(s[j][2])){s[j][2]=J}8(!Y(s[j][3])){s[j][3]=0}}H s}D 65(k){8(k=='35'){H 39}8(k=='1m'){H 37}8(k=='5c'){H 38}8(k=='7h'){H 40}H-1}D 5H(n,a,c){8(n){F v=a.1P(I('4p',c));$.1s.1v.25.64(n,v)}}D 7m(n){F c=$.1s.1v.25.3F(n);H(c=='')?0:c}D 6E(a,b){F c={};1j(F p=0,l=b.S;p<l;p++){c[b[p]]=a.Z(b[p])}H c}D 6s(a,b,c,d){8(!1T(a.U)){a.U={}}8(!1T(a.3M)){a.3M={}}8(a.3m==0&&Y(d)){a.3m=d}8(1T(a.M)){a.U.34=a.M.34;a.U.1X=a.M.1X;a.M=L}O 8(1p(a.M)){8(a.M=='1d'){a.U.1d=J}O{a.U.2c=a.M}a.M=L}O 8(1o(a.M)){a.U.2c=a.M;a.M=L}8(!1p(a.1t)){a.1t=(c.1t(':3t').S>0)?':M':'*'}8(!a[b.d['P']]){8(b.2H){18(J,'7M a '+b.d['P']+' 1j 75 E!');a[b.d['P']]=4n(c,b,'2w')}O{a[b.d['P']]=(6d(c,b,'2w'))?'1d':c[b.d['2w']](J)}}8(!a[b.d['1e']]){a[b.d['1e']]=(6d(c,b,'3n'))?'1d':c[b.d['3n']](J)}a.3M.P=a.P;a.3M.1e=a.1e;H a}D 6w(a,b){8(a.E[a.d['P']]=='1d'){a.E.U.1d=J}8(!a.E.U.1d){8(Y(a[a.d['P']])){a.E.M=1H.4l(a[a.d['P']]/a.E[a.d['P']])}O{a.E.M=1H.4l(b/a.E[a.d['P']]);a[a.d['P']]=a.E.M*a.E[a.d['P']];8(!a.E.U.2c){a.1B=L}}8(a.E.M=='95'||a.E.M<1){18(J,'2p a 5K 28 4f M E: 7M 46 \"1d\".');a.E.U.1d=J}}H a}D 6t(a,b,c){8(a=='N'){a=4n(c,b,'2w')}H a}D 6u(a,b,c){8(a=='N'){a=4n(c,b,'3n')}8(!a){a=b.E[b.d['1e']]}H a}D 5i(o,a){F p=4H(3I(a,o),o);o.1i[o.d[1]]=p[1];o.1i[o.d[3]]=p[0];H o}D 5g(o,a,b){F c=6f(1H.2z(o[o.d['P']]/o.E[o.d['P']]),o.E.U);8(c>a.S){c=a.S}F d=1H.4l(o[o.d['P']]/c);o.E.M=c;o.E[o.d['P']]=d;o[o.d['P']]=c*d;H o}D 3N(p){8(1p(p)){F i=(p.3R('96')>-1)?J:L,r=(p.3R('3g')>-1)?J:L}O{F i=r=L}H[i,r]}D 97(a){H(Y(a))?a:3O}D 6g(a){H(a===3O)}D 1z(a){H(6g(a)||2X a=='7N'||a===''||a==='7N')}D 2V(a){H(a 2W 98)}D 2v(a){H(a 2W 7O)}D 1T(a){H((a 2W 99||2X a=='2A')&&!6g(a)&&!2v(a)&&!2V(a))}D Y(a){H((a 2W 4e||2X a=='28')&&!9a(a))}D 1p(a){H((a 2W 9b||2X a=='2M')&&!1z(a)&&!3p(a)&&!53(a))}D 1o(a){H(a 2W 9c||2X a=='D')}D 1k(a){H(a 2W 9d||2X a=='3d'||3p(a)||53(a))}D 3p(a){H(a===J||a==='J')}D 53(a){H(a===L||a==='L')}D 3V(x){H(1p(x)&&x.19(-1)=='%')}D 2o(){H 7v 7w().2o()}D 3X(o,n){18(J,o+' 2f 9e, 9f 1j 9g 9h 9i 9j. 9k '+n+' 9l.')}D 18(d,m){8(!1z(3l.6h)&&!1z(3l.6h.7P)){8(1T(d)){F s=' ('+d.4o+')';d=d.18}O{F s=''}8(!d){H L}8(1p(m)){m='1v'+s+': '+m}O{m=['1v'+s+':',m]}3l.6h.7P(m)}H L}$.1L($.2u,{'9m':D(t){F a=t*t;H t*(-a*t+4*a-6*t+4)},'9n':D(t){H t*(4*t*t-9*t+6)},'9o':D(t){F a=t*t;H t*(33*a*a-9p*a*t+9q*a-67*t+15)}})})(7O);",0,585,"|||||||opts|if|||||||||||||||||||||||||||||||function|items|var|conf|return|cf_e|true|itms|false|visible|auto|else|width|total|case|length|trigger|visibleConf|scrl|button|first|is_number|css||bind|tt0|children|prev||next|break|debug|slice|anims|pagination|push|variable|height|progress|stopPropagation|call|padding|for|is_boolean|this|left|wrp|is_function|is_string|data|swipe|fn|filter|tmrs|carouFredSel|fade|_onafter|_moveitems|is_undefined|container|align|_s_paddingold|_s_paddingcur|opacity|switch|play|Math|cover|_position|scroll|extend|duration|eq|_a_wrapper|triggerHandler|mousewheel|usePadding|marginRight|is_object|circular|fx|each|max|sz_resetMargin|i_cur_l|old|i_old_l|uncover|unbind||cookie|isScrolling|isPaused|number|a_cfs|_cfs_origCssMargin|clbk|adjust|isStopped|stopImmediatePropagation|is|queu|while|i_new|w_siz|nr|direction|avail_primary|synchronise|getTime|Not|bar|i_new_l|a_cur|remove|easing|is_jquery|outerWidth|cf_getItemsAdjust|cf_c|ceil|object|pR|_s_paddingnew|preventDefault|a_itm|pauseOnHover|options|responsive|100|default|timeoutDuration|startTime|string|removeClass|queue|last|i_skp|ms_getTotalSize|a_old|a_lef|a_dur|is_array|instanceof|typeof|key|transition|adj|opts_orig|gn_getVisibleItemsNext||min|right|parent||||addClass|pause|perc|boolean|cf_sortParams|scrolling|resume|onAfter|i_old|crossfade|slideTo|window|start|outerHeight|_cfs_triggerEvent|is_true|top|position|wrapper|hidden|sc_clearTimers|timePassed|Carousel|sc_startScroll|events|infinite|nv_enableNavi|i_siz|i_siz_vis|_a_paddingold|_a_paddingcur|get|onBefore|updatePageStatus|gi_getCurrentItems|gn_getItemIndex|anchorBuilder|event|sizesConf|bt_pauseOnHoverConfig|null|ns2|split|indexOf|go_getObject|serialNumber|maxDimension|is_percentage|gn_getVisibleItemsNextFilter|deprecated|orgCSS|zIndex||sz_storeOrigCss|none|sc_stopScroll|dur2|prefix|to|appendTo|sc_setScroll||sc_fireCallbacks|currentPage|end|before|Number|of|document|onTouch|onResize|hide|parseInt|floor|show|ms_getTrueLargestSize|selector|currentPosition|destroy|primarySizePercentage|ms_getPercentage|org|onTimeoutStart|onTimeoutPause|onTimeoutEnd|sz_storeMargin|stopped|pre|post|updater|minimum|gn_getVisibleItemsPrev|cf_getAdjust|onEnd|clone|cf_getAlignPadding|cf_mapWrapperSizes|ms_getSizes|a_wsz|a_new|not|a_cfs_vis|updateSizes|eval|sz_setSizes|pgs|deviation|nv_showNavi|sz_restoreOrigCss|mouseenter|mouseleave|pauseOnEvent|keys|throttle||di|go_getNaviObject|is_false|sz|element|starting_position|_cfs_isCarousel||_cfs_init|go_getPrevNextObject|defaults|up|ms_getParentSize|ms_getMaxDimension|center|in_getResponsiveValues|bottom|in_getAlignPadding|go_complementPrevNextObject|cf_getSynchArr|onPauseStart|onPausePause|onPauseEnd|pauseDuration|marginBottom|newPosition|sz_setResponsiveSizes|_cfs_unbind_events|finish|interval|type|conditions|gn_getVisibleOrg|backward|sc_hideHiddenItems|a_lef_vis|sc_getDuration|_a_paddingnew|sc_showHiddenItems|sc_mapCallbackArguments|sc_afterScroll|sc_fireQueue|cf_setCookie|gn_getVisibleItemsNextTestCircular|slideToPage|valid|linkAnchors|value|_cfs_bind_buttons|click|_cfs_unbind_buttons|scrolled|onMouse|swP|swN|delay|pauseOnResize|debounce|onWindowResize|_windowHeight|nh||ns3|continue|classnames|set|cf_getKeyCode|gn_getItemsPrevFilter||gn_getItemsNextFilter|seco|nw|ms_getLargestSize|toLowerCase|ms_hasVariableSizes|sta|cf_getItemAdjustMinMax|is_null|console|caroufredsel|No|found|go_getItemsObject|go_getScrollObject|go_getAutoObject|go_getPaginationObject|go_getSwipeObject|go_getMousewheelObject|cf_getDimensions|in_complementItems|in_complementPrimarySize|in_complementSecondarySize|upDateOnWindowResize|in_complementVisibleItems|cf_getPadding|500|go_complementAutoObject|go_complementPaginationObject|go_complementSwipeObject|go_complementMousewheelObject|_cfs_build|in_mapCss|textAlign|float|marginTop|marginLeft|absolute|_cfs_origCssZindex|_cfs_bind_events|stop|paused|enough|needed|page|slide_|configuration|gn_getScrollItemsPrevFilter|Scrolling|gi_getOldItemsPrev|gi_getNewItemsPrev|directscroll|concat|gn_getScrollItemsNextFilter|forward|gi_getOldItemsNext|gi_getNewItemsNext|jumpToStart|after|the|append|removeItem|round|hash|index|selected|gn_getVisibleItemsPrevFilter|Item|keyup|keyCode|scN|down|cursor|mcN|configs|classname|cf_getCookie|random|itm|onCreate|swing|namespace|pageAnchorBuilder|span|progressbarUpdater|new|Date|_cfs_isHidden|triggerOnTouchEnd|_cfs_tempCssMargin|_cfs_origCss|attr|style|newS|secp|ms_getPaddingBorderMargin|l1|l2|join|innerWidth|innerHeight|dx|Set|undefined|jQuery|log|caroufredsel_cookie_|relative|fixed|overflow|setInterval|setTimeout|or|Callback|returned|Page|resumed|currently|slide_prev|prependTo|slide_next|prevPage|nextPage|prepend|carousel|insertItem|Correct|insert|Appending|item|add|detach|currentVisible|body|find|Preventing|non|sliding|replaceWith|widths|heights|automatically|ontouchstart|in|swipeUp|swipeDown|swipeLeft|swipeRight|move|200|300|resize|wrap|class|animate|unshift|location|cfs|div|caroufredsel_wrapper|href|charAt|setTime|1000|expires|toGMTString|path|ease|orgDuration|shift|clearTimeout|clearInterval|skipped|Hiding|navigation|disabled|2500|Width|outer|px|em|even|odd|Infinity|immediate|bt_mousesheelNumber|Array|Object|isNaN|String|Function|Boolean|DEPRECATED|support|it|will|be|removed|Use|instead|quadratic|cubic|elastic|106|126".split("|"),0,{})),
function(t,e,n,r){function s(e,i){this.element=e,this.options=t.extend({},c,i),this._defaults=c,this._name=l,this.init()}function a(){return!!("ontouchstart"in e)}function o(){var t=n.body||n.documentElement,e=t.style,i="transition";if("string"==typeof e[i])return!0;v=["Moz","Webkit","Khtml","O","ms"],i=i.charAt(0).toUpperCase()+i.substr(1);for(var r=0;r<v.length;r++)if("string"==typeof e[v[r]+i])return!0;return!1}var l="tooltipster",c={animation:"fade",arrow:!0,arrowColor:"",content:"",delay:200,fixedWidth:0,maxWidth:0,functionBefore:function(t,e){e()},functionReady:function(t,e){},functionAfter:function(t){},icon:"(?)",iconDesktop:!1,iconTouch:!1,iconTheme:".tooltipster-icon",interactive:!1,interactiveTolerance:350,offsetX:0,offsetY:0,onlyOne:!0,position:"top",speed:350,timer:0,theme:".tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0},h=!0;o()||(h=!1),s.prototype={init:function(){var e=t(this.element),i=this,n=!0;if(0==i.options.touchDevices&&a()&&(n=!1),1==n){if(1==this.options.iconDesktop&&!a()||1==this.options.iconTouch&&a()){var r=e.attr("title");e.removeAttr("title");var s=i.options.iconTheme,o=t('<span class="'+s.replace(".","")+'" title="'+r+'">'+this.options.icon+"</span>");o.insertAfter(e),e.data("tooltipsterIcon",o),e=o}var l=t.trim(i.options.content).length>0?i.options.content:e.attr("title");e.data("tooltipsterContent",l),e.removeAttr("title"),1==this.options.touchDevices&&a()?e.bind("touchstart",function(t,e){i.showTooltip()}):("hover"==this.options.trigger&&(e.on("mouseenter.tooltipster",function(){i.showTooltip()}),1==this.options.interactive?e.on("mouseleave.tooltipster",function(){var t=e.data("tooltipster"),n=!1;if(void 0!==t&&""!==t){t.mouseenter(function(){n=!0}),t.mouseleave(function(){n=!1});setTimeout(function(){1==n?t.mouseleave(function(){i.hideTooltip()}):i.hideTooltip()},i.options.interactiveTolerance)}else i.hideTooltip()}):e.on("mouseleave.tooltipster",function(){i.hideTooltip()})),"click"==this.options.trigger&&e.on("click.tooltipster",function(){""==e.data("tooltipster")||void 0==e.data("tooltipster")?i.showTooltip():i.hideTooltip()}))}},showTooltip:function(e){var i=t(this.element),n=this;void 0!==i.data("tooltipsterIcon")&&(i=i.data("tooltipsterIcon")),i.hasClass("tooltipster-disable")||(t(".tooltipster-base").not(".tooltipster-dying").length>0&&1==n.options.onlyOne&&t(".tooltipster-base").not(".tooltipster-dying").not(i.data("tooltipster")).each(function(){t(this).addClass("tooltipster-kill"),t(this).data("origin").data("plugin_tooltipster").hideTooltip()}),i.clearQueue().delay(n.options.delay).queue(function(){n.options.functionBefore(i,function(){if(void 0!==i.data("tooltipster")&&""!==i.data("tooltipster")){var e=i.data("tooltipster");if(!e.hasClass("tooltipster-kill")){var r="tooltipster-"+n.options.animation;if(e.removeClass("tooltipster-dying"),1==h&&e.clearQueue().addClass(r+"-show"),n.options.timer>0){var s=e.data("tooltipsterTimer");clearTimeout(s),s=setTimeout(function(){e.data("tooltipsterTimer",void 0),n.hideTooltip()},n.options.timer),e.data("tooltipsterTimer",s)}1==n.options.touchDevices&&a()&&t("body").bind("touchstart",function(e){if(1==n.options.interactive){var i=t(e.target),r=!0;i.parents().each(function(){t(this).hasClass("tooltipster-base")&&(r=!1)}),1==r&&(n.hideTooltip(),t("body").unbind("touchstart"))}else n.hideTooltip(),t("body").unbind("touchstart")})}}else{var l=i.data("tooltipsterContent"),c=n.options.theme,u=c.replace(".",""),r="tooltipster-"+n.options.animation,d="-webkit-transition-duration: "+n.options.speed+"ms; -webkit-animation-duration: "+n.options.speed+"ms; -moz-transition-duration: "+n.options.speed+"ms; -moz-animation-duration: "+n.options.speed+"ms; -o-transition-duration: "+n.options.speed+"ms; -o-animation-duration: "+n.options.speed+"ms; -ms-transition-duration: "+n.options.speed+"ms; -ms-animation-duration: "+n.options.speed+"ms; transition-duration: "+n.options.speed+"ms; animation-duration: "+n.options.speed+"ms;",p=n.options.fixedWidth>0?"width:"+n.options.fixedWidth+"px;":"",f=n.options.maxWidth>0?"max-width:"+n.options.maxWidth+"px;":"",g=1==n.options.interactive?"pointer-events: auto;":"",e=t('<div class="tooltipster-base '+u+" "+r+'" style="'+p+" "+f+" "+g+" "+d+'"><div class="tooltipster-content">'+l+"</div></div>");e.appendTo("body"),i.data("tooltipster",e),e.data("origin",i),n.positionTooltip(),n.options.functionReady(i,e),1==h?e.addClass(r+"-show"):e.css("display","none").removeClass(r).fadeIn(n.options.speed);var m=l,_=setInterval(function(){var r=i.data("tooltipsterContent");0==t("body").find(i).length?(e.addClass("tooltipster-dying"),n.hideTooltip()):m!==r&&""!==r&&(m=r,e.find(".tooltipster-content").html(r),1==n.options.updateAnimation&&(o()?(e.css({width:"","-webkit-transition":"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){e.removeClass("tooltipster-content-changing"),setTimeout(function(){e.css({"-webkit-transition":n.options.speed+"ms","-moz-transition":n.options.speed+"ms","-o-transition":n.options.speed+"ms","-ms-transition":n.options.speed+"ms",transition:n.options.speed+"ms"})},n.options.speed)},n.options.speed)):e.fadeTo(n.options.speed,.5,function(){e.fadeTo(n.options.speed,1)})),n.positionTooltip()),0!=t("body").find(e).length&&0!=t("body").find(i).length||clearInterval(_)},200);if(n.options.timer>0){var s=setTimeout(function(){e.data("tooltipsterTimer",void 0),n.hideTooltip()},n.options.timer+n.options.speed);e.data("tooltipsterTimer",s)}1==n.options.touchDevices&&a()&&t("body").bind("touchstart",function(e){if(1==n.options.interactive){var i=t(e.target),r=!0;i.parents().each(function(){t(this).hasClass("tooltipster-base")&&(r=!1)}),1==r&&(n.hideTooltip(),t("body").unbind("touchstart"))}else n.hideTooltip(),t("body").unbind("touchstart")}),e.mouseleave(function(){n.hideTooltip()})}}),i.dequeue()}))},hideTooltip:function(e){var i=t(this.element),n=this;void 0!==i.data("tooltipsterIcon")&&(i=i.data("tooltipsterIcon"));var r=i.data("tooltipster");if(void 0==r&&(r=t(".tooltipster-dying")),i.clearQueue(),void 0!==r&&""!==r){var s=r.data("tooltipsterTimer");void 0!==s&&clearTimeout(s);var a="tooltipster-"+n.options.animation;1==h?r.clearQueue().removeClass(a+"-show").addClass("tooltipster-dying").delay(n.options.speed).queue(function(){r.remove(),i.data("tooltipster",""),t("body").css("verflow-x",""),n.options.functionAfter(i)}):r.clearQueue().addClass("tooltipster-dying").fadeOut(n.options.speed,function(){r.remove(),i.data("tooltipster",""),t("body").css("verflow-x",""),n.options.functionAfter(i)})}},positionTooltip:function(n){function r(){var i=t(e).scrollLeft();if(L-i<0){var n=L-i;L=i,l.data("arrow-reposition",n)}if(L+d-i>c){var n=L-(c+i-d);L=c+i-d,l.data("arrow-reposition",n)}}function s(i,n){m-t(e).scrollTop()-f-H-12<0&&n.indexOf("top")>-1&&(o.options.position=i,v=n),m+u+f+12+H>t(e).scrollTop()+t(e).height()&&n.indexOf("bottom")>-1&&(o.options.position=i,v=n,B=m-f-H-12)}var a=t(this.element),o=this;if(void 0!==a.data("tooltipsterIcon")&&(a=a.data("tooltipsterIcon")),void 0!==a.data("tooltipster")&&""!==a.data("tooltipster")){var l=a.data("tooltipster");l.css("width","");var c=t(e).width(),h=a.outerWidth(!1),u=a.outerHeight(!1),d=l.outerWidth(!1),p=l.innerWidth()+1,f=l.outerHeight(!1),g=a.offset(),m=g.top,_=g.left,v=void 0;if(a.is("area")){var b=a.attr("shape"),y=a.parent().attr("name"),x=t('img[usemap="#'+y+'"]'),w=x.offset().left,k=x.offset().top,C=void 0!==a.attr("coords")?a.attr("coords").split(","):void 0;if("circle"==b){var T=parseInt(C[0]),E=parseInt(C[1]),j=parseInt(C[2]);u=2*j,h=2*j,m=k+E-j,_=w+T-j}else if("rect"==b){var T=parseInt(C[0]),E=parseInt(C[1]),D=parseInt(C[2]),S=parseInt(C[3]);u=S-E,h=D-T,m=k+E,_=w+T}else if("poly"==b){var M=0,I=0,F=0,P=0,N="even";for(i=0;i<C.length;i++){var O=parseInt(C[i]);"even"==N?(O>F&&(F=O,0==i&&(M=F)),O<M&&(M=O),N="odd"):(O>P&&(P=O,1==i&&(I=P)),O<I&&(I=O),N="even")}u=P-I,h=F-M,m=k+I,_=w+M}else u=x.outerHeight(!1),h=x.outerWidth(!1),m=k,_=w}0==o.options.fixedWidth&&l.css({width:p+"px","padding-left":"0px","padding-right":"0px"});var L=0,B=0,H=parseInt(o.options.offsetY),A=parseInt(o.options.offsetX),z="";if("top"==o.options.position){var R=_+d-(_+h);L=_+A-R/2,B=m-f-H-12,r(),s("bottom","top")}if("top-left"==o.options.position&&(L=_+A,B=m-f-H-12,r(),s("bottom-left","top-left")),"top-right"==o.options.position&&(L=_+h+A-d,B=m-f-H-12,r(),s("bottom-right","top-right")),"bottom"==o.options.position){var R=_+d-(_+h);L=_-R/2+A,B=m+u+H+12,r(),s("top","bottom")}if("bottom-left"==o.options.position&&(L=_+A,B=m+u+H+12,r(),s("top-left","bottom-left")),"bottom-right"==o.options.position&&(L=_+h+A-d,B=m+u+H+12,r(),s("top-right","bottom-right")),"left"==o.options.position){L=_-A-d-12,myLeftMirror=_+A+h+12;var G=m+f-(m+a.outerHeight(!1));if(B=m-G/2-H,L<0&&myLeftMirror+d>c){var $=2*parseFloat(l.css("border-width")),W=d+L-$;l.css("width",W+"px"),f=l.outerHeight(!1),L=_-A-W-12-$,G=m+f-(m+a.outerHeight(!1)),B=m-G/2-H}else L<0&&(L=_+A+h+12,l.data("arrow-reposition","left"))}if("right"==o.options.position){L=_+A+h+12,myLeftMirror=_-A-d-12;var G=m+f-(m+a.outerHeight(!1));if(B=m-G/2-H,L+d>c&&myLeftMirror<0){var $=2*parseFloat(l.css("border-width")),W=c-L-$;l.css("width",W+"px"),f=l.outerHeight(!1),G=m+f-(m+a.outerHeight(!1)),B=m-G/2-H}else L+d>c&&(L=_-A-d-12,l.data("arrow-reposition","right"))}if(1==o.options.arrow){var q="tooltipster-arrow-"+o.options.position;if(o.options.arrowColor.length<1)var Q=l.css("background-color");else var Q=o.options.arrowColor;var K=l.data("arrow-reposition");if(K?"left"==K?(q="tooltipster-arrow-right",K=""):"right"==K?(q="tooltipster-arrow-left",K=""):K="left:"+K+"px;":K="","top"==o.options.position||"top-left"==o.options.position||"top-right"==o.options.position)var V=parseFloat(l.css("border-bottom-width")),J=l.css("border-bottom-color");else if("bottom"==o.options.position||"bottom-left"==o.options.position||"bottom-right"==o.options.position)var V=parseFloat(l.css("border-top-width")),J=l.css("border-top-color");else if("left"==o.options.position)var V=parseFloat(l.css("border-right-width")),J=l.css("border-right-color");else if("right"==o.options.position)var V=parseFloat(l.css("border-left-width")),J=l.css("border-left-color");else var V=parseFloat(l.css("border-bottom-width")),J=l.css("border-bottom-color");V>1&&V++;var U="";if(0!==V){var Y="",X="border-color: "+J+";";-1!==q.indexOf("bottom")?Y="margin-top: -"+V+"px;":-1!==q.indexOf("top")?Y="margin-bottom: -"+V+"px;":-1!==q.indexOf("left")?Y="margin-right: -"+V+"px;":-1!==q.indexOf("right")&&(Y="margin-left: -"+V+"px;"),U='<span class="tooltipster-arrow-border" style="'+Y+" "+X+';"></span>'}l.find(".tooltipster-arrow").remove(),z='<div class="'+q+' tooltipster-arrow" style="'+K+'">'+U+'<span style="border-color:'+Q+';"></span></div>',l.append(z)}l.css({top:B+"px",left:L+"px"}),void 0!==v&&(o.options.position=v)}}},t.fn[l]=function(e){if("string"==typeof e){var i=this,n=arguments[1];if(void 0==i.data("plugin_tooltipster")){var r=i.find("*");i=t(),r.each(function(){void 0!==t(this).data("plugin_tooltipster")&&i.push(t(this))})}return i.each(function(){switch(e.toLowerCase()){case"show":t(this).data("plugin_tooltipster").showTooltip();break;case"hide":t(this).data("plugin_tooltipster").hideTooltip();break;case"disable":t(this).addClass("tooltipster-disable");break;case"enable":t(this).removeClass("tooltipster-disable");break;case"destroy":t(this).data("plugin_tooltipster").hideTooltip(),t(this).data("plugin_tooltipster","").attr("title",i.data("tooltipsterContent")).data("tooltipsterContent","").data("plugin_tooltipster","").off("mouseenter.tooltipster mouseleave.tooltipster click.tooltipster");break;case"update":t(this).data("tooltipsterContent",n);break;case"reposition":t(this).data("plugin_tooltipster").positionTooltip()}}),this}return this.each(function(){t.data(this,"plugin_"+l)||t.data(this,"plugin_"+l,new s(this,e));var i=t(this).data("plugin_tooltipster").options;if(1==i.iconDesktop&&!a()||1==i.iconTouch&&a()){var n=t(this).data("plugin_tooltipster");t(this).next().data("plugin_tooltipster",n)}})},a()&&e.addEventListener("orientationchange",function(){t(".tooltipster-base").length>0&&t(".tooltipster-base").each(function(){t(this).data("origin").data("plugin_tooltipster").hideTooltip()})},!1),t(e).on("resize.tooltipster",function(){var e=t(".tooltipster-base").data("origin");null!==e&&void 0!==e&&e.tooltipster("reposition")})}(jQuery,window,document),function(t){t.fn.swipe.defaults.excludedElements=["button","input","select","textarea",".noSwipe"],t.widget("ui.cx_contentfilter",{options:{breakpointOuter:727,initClass:"initialising",bufferWidth:40,nextBtn:{label:"Next",outerClass:"next-btn",innerClass:"ico ico-paddle-right"},prevBtn:{label:"Prev",outerClass:"prev-btn",innerClass:"ico ico-paddle-left"}},_create:function(){this._self=this;var e=this._self;if(this._container=t(this.element),this._ul=this._container.find("ul"),this._li=this._container.find("li"),this._more=null,this._moreSubList=null,this._selected=null,this._select=this._container.find("select"),this._timeoutId=null,this._className="cx__content-filter__",this._windowWidth=0,!this._ul.length)throw"A <ul> is required for the ContentFilter widget";if(!this._li.length)throw"The <ul> must contain <li> elements for the ContentFilter widget";this._ul.removeClass(this.options.initClass),this._ul.wrap('<div class="'+this._className+'outer-wrapper" />').wrap('<div class="'+this._className+'inner-wrapper" />'),this._li.each(function(){var i=t(this);i.find("a,>span").addClass(e._className+"label");var n=i.closest(".ui-tabs-panel");if(n.length>0){var r=i.find("a");r.attr("href",r.attr("href")+"#"+n.attr("id"))}}),this._container.prepend('<a href="#" id="'+this._className+"next-btn"+this.uuid+'" class="'+this.options.nextBtn.outerClass+" "+this._className+'scroll-btn"><span class="'+this.options.nextBtn.innerClass+'">'+this.options.nextBtn.label+"</span></a>"),this._container.prepend('<a href="#" id="'+this._className+"prev-btn"+this.uuid+'" class="'+this.options.prevBtn.outerClass+" "+this._className+'scroll-btn"><span class="'+this.options.prevBtn.innerClass+'">'+this.options.prevBtn.label+"</span></a>"),this._container.on("click","."+this._className+"more-group__toggle",t.proxy(this._moreClick,this)),this._container.on("focus","."+this._className+"label, select",t.proxy(this._moreKeyboardFocus,this)),this._select.on("change",t.proxy(this._selectChange,this)),e.element.closest(".ui-tabs").on("cxtabsactivate",function(t,i){i.newPanel.find(e.element).length>0&&e._reflow()}),t(window).on("resize",t.proxy(this._resize,this)),setTimeout(function(){e._reflow(),e._trigger("afterCreate",{},{elem:e})},10)},_moreClick:function(e){e.preventDefault(),t(e.target).parents("."+this._className+"more-group").length&&(this._more.toggleClass("open"),this._more.removeClass("has-focus"))},_moreKeyboardFocus:function(e){this._more&&(t(e.target).parents("."+this._className+"more-group").length?this._more.addClass("has-focus"):this._more.removeClass("has-focus"))},_selectChange:function(e){t("form",this._container).trigger("submit")},_resize:function(e){var i=this._self;window.clearTimeout(this._timeoutId),this._timeoutId=window.setTimeout(function(){i._windowWidth!==t(window).width()&&(i._windowWidth=t(window).width(),i._reflow.call(i))},250)},_reflow:function(){var e,i,n,r=this._self;if(this._moreCount=0,this._ul.addClass("reflowing"),this._moreSubList&&this._moreSubList.find("li").each(function(){t(this).appendTo(r._ul)}),this._more&&(this._more.off("keyup","."+this._className+"label",this._traverseSubMenu),this._more.remove()),this._selected&&this._selected.remove(),t(window).width()>=this.options.breakpointOuter){if(this._ul.trigger("destroy"),i=this._li.length,this._li.detach().appendTo(this._ul).each(function(){t(this).data("cx-calculated-width",t(this).width())}),e=this._getWidth(),n=this._getMaxWidth(),e>n&&(this._more=t('<li class="'+this._className+'more-group"><a class="'+this._className+"label "+this._className+'more-group__toggle" href="#">More <span class="'+this._className+'result-count more-total-count"></span> <span class="ico ico-arrow-down"></span><span class="ico ico-arrow-up"></span></a></li>'),this._moreSubList=t('<ul class="'+this._className+'more-group__sub-list"></ul>'),this._ul.append(this._more),this._more.append(this._moreSubList)),n>0)for(;this._getWidth()>n&&(r._moveIntoSublist(i--),!(i<0)););this._ul.find("li."+r._className+"active-result")&&this._more&&this._more.find("li."+r._className+"active-result").each(function(){r._selected=t(this).clone(),r._selected.addClass(r._className+"selected-group").find("."+r._className+"label").append('<a href="'+window.location.pathname+'" id="'+r._className+'close-selected"><span class="ico ico-cross-small" ></span></a>'),r._ul.append(r._selected),r._more.detach(),r._getWidth()>r._getMaxWidth()&&r._moveIntoSublist(i--)}),this._more&&this._more.on("keyup","."+this._className+"label",t.proxy(this._traverseSubMenu,this))}else this._ul.trigger("destroy"),this._ul.carouFredSel({align:"left",height:"auto",scroll:2,auto:!1,next:{button:"#"+this._className+"next-btn"+this.uuid},prev:{button:"#"+this._className+"prev-btn"+this.uuid},swipe:!0},{transition:Modernizr.csstransitions}),this._ul.swipe({swipe:function(t,e,i,n,r){},click:function(e,i){window.location=t(i).attr("href")},threshold:75}),this._ul.find("li."+this._className+"active-result")&&this._ul.trigger("slideTo","li."+this._className+"active-result");this._ul.removeClass("reflowing")},_getWidth:function(){return this._ul.outerWidth()},_getMaxWidth:function(t){var e=this._container.outerWidth()-this._select.outerWidth()-this.options.bufferWidth;return e<0?0:e},_moveIntoSublist:function(t){detached=this._li.eq(t-1),this._moreCount+=detached.data("result-count"),this._moreSubList.prepend(detached),this._more.find(".more-total-count").text("("+this._moreCount+")")},_traverseSubMenu:function(e){if(e.keyCode===t.ui.keyCode.UP||e.keyCode===t.ui.keyCode.DOWN){var i=this._more.find("."+this._className+"label");focusIndex=i.index(t(e.target)),e.keyCode===t.ui.keyCode.UP&&focusIndex>0?t(i.get(--focusIndex)).focus():e.keyCode===t.ui.keyCode.DOWN&&focusIndex<i.length&&t(i.get(++focusIndex)).focus()}},destroy:function(){this._container.off("focus","."+this._className+"label, select",this._moreKeyboardFocus),this._select.off("change",this._selectChange),t(window).off("resize",this._resize),t.Widget.prototype.destroy.call(this)},_setOption:function(t,e){this._super(t,e)}})}(jQuery),function(t){t.widget("ui.cx_dropdown",{options:{hoverClass:"active",menuClass:"c-submenu",fixPosition:!1,mouseDelay:200,flushleft:!0},_create:function(){this._self=this,this._container=t(this.element),this._li=this._container.find("> li.has-popup");var e=/^\./;this.options.menuClass=e.test(this.options.menuClass)?this.options.menuClass:"."+this.options.menuClass},_init:function(){this._li.hoverIntent({over:t.proxy(this._tabOn,this),out:t.proxy(this._tabOff,this),interval:this.options.mouseDelay,timeout:200}).find("a").on("focus",t.proxy(this._tabOn,this)).on("blur",t.proxy(this._tabOff,this)),t(window).on("flyoutOpened",t.proxy(this._tabOff,this)),this._on("#main",{click:this._resetAll}),this._on(this._li,{click:this._click}),t(window).on("orientationchange",t.proxy(this._resetAll,this))},_tabOn:function(e){var i,n,r,s,a=t(e.target),o=t(window).width();if(this._resetAll(),i=this._closestListItem(a),n=i.offset().left,this.options.fixPosition&&(r=i.find(this.options.menuClass),s=r.outerWidth(!0),n>0&&s+n>o&&(s>o?r.css("left",-n):r.css("left",-(n+s-o)))),this.options.flushleft){r=i.find(this.options.menuClass),submenuparent=i.find(this.options.menuClass).parent();var l=submenuparent.prevAll(".has-popup"),c=0;l.length>0&&t(l).each(function(e){c+=t(this).width()}),mastheadwidth=t(".masthead__bottom").width(),mastheadwidth>924&&(mastheadwidth+=20),t(".c-submenu").css("width",mastheadwidth),r.css("left",-c)}i.addClass(this.options.hoverClass),t(window).trigger("flyoutOpened")},_click:function(t){this._closestListItem(t.target).hasClass(this.options.hoverClass)||t.preventDefault()},_tabOff:function(t){this._closestListItem(t.target).removeClass(this.options.hoverClass).find(this.options.menuClass).removeAttr("style")},_resetAll:function(t){this._li.removeClass(this.options.hoverClass).find(this.options.menuClass).removeAttr("style")},_closestListItem:function(e){return t(e).is("li")?t(e):t(e).closest("li.has-popup")},destroy:function(){this._li.unbind("mouseenter").unbind("mouseleave").removeProp("hoverIntent_t").removeProp("hoverIntent_s").find("a").first().off("focus",this._tabOn).on("blur",this._tabOff),t(window).off("flyoutOpened",this._tabOff),t(window).off("resize",this._resetAll),this._off(this._li,"click"),t.Widget.prototype.destroy.call(this)},_setOption:function(t,e){this._super(t,e)}})}(jQuery),function(t){t.widget("ui.cx_mobilemenu",{options:{trigger:{location:"body",openLabel:'<span class="ico ico-arrow-down"></span>',closeLabel:'<span class="ico ico-arrow-up" ></span>',className:"cx__mobilemenu__trigger"},insertType:"prepend"},_create:function(){this._self=this,this._container=t(this.element),this._triggerLocation=t(this.options.trigger.location),this._menuTrigger=t('<a class="'+this.options.trigger.className+'" href="#">'+this.options.trigger.openLabel+"</a>"),this._animating=!1,this._isOpen=!1},_init:function(){this._isOpen=!1,this._triggerLocation[this.options.insertType](this._menuTrigger),this._menuTrigger.on("click",t.proxy(this._toggleMenu,this))},_toggleMenu:function(t){if(!this._animating){var e=this._self,i=this._container.show().height(),n=this._isOpen?i:0,r=this._isOpen?0:i;this._animating=!0,e._isOpen?e._menuTrigger.removeClass("is-open").html(e.options.trigger.openLabel):e._menuTrigger.addClass("is-open").html(e.options.trigger.closeLabel),this._container.css({display:"block",height:n}).transition({height:r},400,function(){e._isOpen=!e._isOpen,e._animating=!1,e._isOpen?e._container.css("height",""):e._container.css({display:"none",height:i})})}},destroy:function(){this._menuTrigger.off("click",this._toggleMenu).detach(),this._container.removeAttr("style"),t.Widget.prototype.destroy.call(this)},_setOption:function(t,e){this._super(t,e)}})}(jQuery),function(t){t.widget("cx.autosection",{options:{delimiter:"h2",delimiterClasses:"cx_collapsibles__trigger section__title",sectionClasses:"content-longform__section is-collapsible-mobile",contentClasses:"cx_collapsibles__target article-full__body"},_create:function(){var e=this;e._container=t(e.element),e._original=e._container.clone(!0,!0),e._sections=[],e._expandLink=t('<a class="mobile-only cx_collapsibles__toggle cx_collapsibles__toggle--expand" href="#">Expand all sections</a>'),e._container.before(e._expandLink),e._delimiters=e._container.children(e.options.delimiter),e._delimiters.addClass(e.options.delimiterClasses),e._delimiters.each(function(i,n){var r,s=t(n),a=s.children("a[name]");a.length>0&&(s.attr("id",a.attr("name")),a.remove());var o=t('<section class="'+e.options.sectionClasses+'" />');e._container.before(o),r=s.nextUntil(e.options.delimiter);var l=t('<div class="'+e.options.contentClasses+'" />');l.append(r),s.add(l).appendTo(o),e._sections.push(o)})},destroy:function(){t.each(this._sections,function(e,i){t(i).remove()}),this._expandLink.remove(),this._container.replaceWith(this._original),this._super()},_setOption:function(t,e){this._super(t,e)}})}(jQuery),function(t){t.widget("ui.cx_rollup",{options:{breakout:{parents:null,match:null,width:1,left:0,right:0},title:{titleClass:null,bottom:0},content:{contentClass:null}},_create:function(){this._self=this,this._container=t(this.element),this._title=this._container.find("."+this.options.title.titleClass),this._content=this._container.find("."+this.options.content.contentClass),this._open=this._container.find(".ico-i"),this._close=null,this._width=this._content.outerWidth(),this._height=null,this._delayedCloseId=null},_init:function(){this._container.addClass("cx__rollup"),this._content.find(":last-child").addClass("last-child"),this._open.wrap('<a href="#" class="media-open" />'),this._mediaopen=this._container.find(".media-open"),this._content.append('<div class="media__attribution__close"><a href="#" class="ico ico-x">Close</a></div>'),this._close=this._container.find(".ico-x"),this._mediaopen.on("click",t.proxy(this._openRollup,this)),this._close.on("click",t.proxy(this.closeRollup,this))},_openRollup:function(e){e.preventDefault();var i,n,r=this._self,s=this.options.breakout,a=0;s.parents&&(i=this._container.parents(s.parents),i.length&&(this._container.css({left:"auto",right:s.right}),a="auto")),this._height=this._content.removeAttr("style").height(),n=parseFloat(this._title.css("bottom"))-parseFloat(this.options.title.bottom);var o=this._container.offset().top-this._height-n;t(window).scrollTop()>o&&t.scrollTo(o,300),this._content.css({display:"block",height:0,right:a,bottom:n}).transition({height:this._height},400,function(){r._delayedClose(5e3),r._content.on("mouseenter",function(){t.proxy(r._delayedClose(5e3),r)}),r._content.on("mouseleave",function(){t.proxy(r._delayedClose(500),r)})}),t(".cx__rollup").not(this._container).cx_rollup("closeRollup")},closeRollup:function(t){void 0!==t&&t.preventDefault();var e=this._self;this._content.off("mouseenter"),this._content.off("mouseleave"),this._content.transition({height:0},300,function(){e._container.removeAttr("style")})},_delayedClose:function(t){var e=this._self;clearTimeout(this._delayedCloseId),this._delayedCloseId=setTimeout(function(){e.closeRollup()},t)},destroy:function(){this._open.off("click",this._open),this._close.off("click",this.closeRollup),this._content.off("mouseleave",this.closeRollup),this._content.off("mouseenter"),this._content.off("mouseleave"),this._container.removeClass("cx__rollup"),this._content.find(":last-child").removeClass("last-child"),this._content.find(".media__attribution_this._close").remove(),t.Widget.prototype.destroy.call(this)},_setOption:function(t,e){this._super(t,e)}})}(jQuery),function(t){t.widget("ui.cx_rwdtable",{options:{idprefix:null,persist:null,checkContainer:null},_create:function(){var e=this,i=e.options;e.element.wrap('<div class="table-wrap table-wrap--responsive">');var n=e.element.parent(".table-wrap"),r=n.find("table"),s=r.find("thead"),a=r.find("tbody"),o=r.find("tfoot"),l=s.find("th"),c=a.add(o).find("tr"),h=t(i.checkContainer?i.checkContainer:'<div class="table-menu"><ul /></div>');if(this._table=r,this._container=h,this._timeoutId=null,this._windowWidth=0,r.addClass("enhanced"),n.addClass("table-menu-hidden"),l.each(function(n){var s=t(this),a=s.attr("id"),o=s.attr("class");if(n<4&&(o+=" extended"),n<2&&(o+=" essential"),a||(a=(i.idprefix?i.idprefix:"col-")+e.uuid+"-"+n,s.attr("id",a)),o||(s.addClass("unspecified"),o=s.attr("class")),c.each(function(){var e=t(this).find("th, td").eq(n);e.attr("headers",a),o&&e.addClass(o)}),!s.is("."+i.persist)){var l=t('<li><input type="checkbox" name="toggle-cols" id="toggle-'+a+'" value="'+a+'" /> <label for="toggle-'+a+'">'+s.text()+"</label></li>");h.find("ul").append(l),l.find("input").change(function(){var e=t(this),i=e.val(),n=r.find("#"+i+", [headers="+i+"]");e.is(":checked")?(n.show(),n.removeClass("rwd-hid"),n.addClass("rwd-vis")):(n.hide(),n.removeClass("rwd-vis"),n.addClass("rwd-hid")),h.trigger("inputChange")}).bind("updateCheck",function(){s.is(":visible")?t(this).prop("checked",!0):t(this).prop("checked",!1),h.trigger("inputChange")}).trigger("updateCheck")}}),this._on(this.window,{resize:this._resizeHandler,orientationchange:this._resizeHandler}),!i.checkContainer){var u=t('<div class="table-menu-wrapper" />'),d=t('<a href="#" class="table-menu-btn"><span class="label">Show columns</span> <span class="ico ico-arrow-down"></span></a>');d.click(function(){return n.toggleClass("table-menu-hidden"),!1}),u.append(d).append(h),r.before(u),h.bind("inputChange",function(){var t=h.find("[type=checkbox]").not(":checked").length,e=d.find(".label");t?e.text("Show "+t+" more columns"):e.text("Hide columns")}),t(document).click(function(e){t(e.target).is(h)||t(e.target).is(h.find("*"))||n.addClass("table-menu-hidden")})}this._resizeHandler()},_resizeHandler:function(){var e=this;this._windowWidth!==t(window).width()&&(this._windowWidth=t(window).width(),clearTimeout(this._timeoutId),this._timeoutId=setTimeout(function(){e._showHideOptional()},250))},_showHideOptional:function(){var e=this,i=t(".optional",this._table),n=t(".unspecified",this._table),r=t("input[name=toggle-cols]",this._table.parent());i.show(),i.removeClass("rwd-hid"),i.addClass("rwd-vis"),n.show(),n.removeClass("rwd-hid"),n.addClass("rwd-vis"),t(e._table).outerWidth(!0)>t(e._table).parent().width()&&(i.hide(),i.removeClass("rwd-vis"),i.addClass("rwd-hid")),t(e._table).outerWidth(!0)>t(e._table).parent().width()&&(n.hide(),n.removeClass("rwd-vis"),n.addClass("rwd-hid"),r.first().prop("checked",!0).trigger("change"),r.eq(1).prop("checked",!0).trigger("change")),r.trigger("updateCheck")},_setOption:function(t,e){this._super(t,e)}})}(jQuery),function(t){"use strict";t.widget("ui.cx_smartsearch",{options:{autocompleteOptions:null,inputSelector:"#search_term"},_create:function(){var e=this._self=this;this._container=t(this.element),this._form=this._container.is("form")?this._container:this._container.find("form"),this._input=this._container.find(this.options.inputSelector),this._iconClose=this._container.find(".ico.close"),this._searchTerm="",this._input.on("keydown",t.proxy(this._cleanListItems,this)),this._container.on("click",".see-all-results",t.proxy(this._triggerForm,this)),this._on({"click .search-result--item a":this._trackSearchEvent}),this._input.autocomplete({open:function(t,i){e._cleanList().addClass("active"),e._input.val()||e._input.autocomplete("close"),e._input.hasClass("open")||e._input.addClass("open"),e._searchTerm=e._input.val()},close:function(i,n){t(this).data().uiAutocomplete.term=null,e._cleanList().removeClass("active")},focus:function(i,n){if(e._cleanList(),!(t.root.find("#search").find(".search-results-dropdown").position().left<-9e3))return n.item&&n.item.id?(n.item.label&&e._input.val(n.item.label),t(".search-results-dropdown li").filter("[data-search-id="+n.item.id+"]").addClass("active"),!1):void 0},change:function(t,i){e._cleanList()},create:function(t,e){},response:function(i,n){e._iconClose.show();var r=e._input.val().replace(/[^a-zA-Z0-9_-\s]/gi," "),s=n.content.length>1?"Showing the top "+(n.content.length-1)+" results for <mark>"+r+"</mark>":"We&rsquo;re sorry, we couldn&rsquo;t find any results for &lsquo;<mark>"+r+"</mark>&rsquo;";t(".search-results__intro").html(s)},search:function(t,e){},select:function(i,n){if(n.item&&n.item.id){var r=t(".search-results-dropdown li").filter("[data-search-id="+n.item.id+"]").find("a");return r.hasClass("see-all-results")?e._triggerForm():e._trackSearchEvent(r.attr("href")),!1}}}).data("ui-autocomplete")._renderItem=function(e,i){this.id?this.id++:this.id=1,i.id=this.id;var n=i.result.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t.ui.autocomplete.escapeRegex(this.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<mark>$1</mark>");i.className&&-1!==i.className.indexOf("archive")&&(i.group=i.group+"_archive");var r=t.root.find("#search").find(".group-"+i.group),s="";switch(r.length&&(r.find("ul").append('<li data-value="'+i.value+'" data-label="'+i.label+'" data-search-id="'+i.id+'" class="search-result--item ui-menu-item">'+n+"</li>"),s=" search-result--shadow"),i.resultType){case"all":
return t('<article class="duo search-result" />').append('<div class="duo__side"></div><div class="duo__body"><ul><li data-search-id="'+i.id+'" class="search-result--item ui-menu-item">'+i.result+"</li></ul></div>").appendTo(e);case"none":return t(i.result).appendTo(e);default:return t('<article class="duo search-result search-result--has-marker ui-menu-item'+s+'" />').addClass(i.className).addClass("group-"+i.group).append('<div class="duo__side"><span class="marker">'+i.marker+'</span></div><div class="duo__body"><ul><li data-value="'+i.value+'" data-label="'+i.label+'" data-search-id="'+i.id+'" class="search-result--item ui-menu-item">'+n+"</li></ul></div>").appendTo(e)}},t.each(this.options.autocompleteOptions,function(t,i){e._input.autocomplete("option",t,i)}),t(".search-results-dropdown").on("mouseover",t.proxy(this._triggerValueChange,this)),t(window).on("flyoutOpened",t.proxy(this._closeAutocomplete,this)),this._iconClose.on("click",t.proxy(this._closeAutocomplete,this))},_trackSearchEvent:function(e){var i="";"string"===t.type(e)?i=e:(e.preventDefault(),i=t(e.currentTarget).attr("href"));var n=this._input.val();n.length>0&&ga("send","event","Search dropdown","Keyword",n,1),setTimeout(function(){location.href=i},100)},_cleanList:function(){return this._container.find("ul").removeAttr("style"),this._container},_cleanListItems:function(){return this._container.find(".search-results-dropdown li").removeClass("active"),this._container},_triggerForm:function(t){this._input.val(this._searchTerm),this._form.trigger("submit")},_triggerValueChange:function(e){this._cleanListItems();var i=t(e.target).closest("li").data("label");i&&this._input.val(i)},_closeAutocomplete:function(t){this._input.autocomplete("close")},_clickCloseAutocomplete:function(t){this._input.removeClass("open"),this._input.autocomplete("close")},destroy:function(){this._closeAutocomplete(),this._input.off("keydown",this._cleanListItems),this._container.off("click",this._triggerForm),t(".search-results-dropdown").off("mouseover",this._triggerValueChange),t(window).off("flyoutOpened",this._closeAutocomplete),this._iconClose.off("click",this._clickCloseAutocomplete),this._cleanList().removeClass("active"),this._input.autocomplete("destroy"),t.Widget.prototype.destroy.call(this)},_setOption:function(t,e){this._super(t,e)}})}(jQuery),function(t){"use strict";t.widget("ui.cx_teaserblocks",{options:{breakpoint_inner:565,breakpoint_outer:768,resize_throttle:50},_create:function(){var e=this;this.timeout="",e._windowWidth=0,e._reset_heights(),t.browser.msie&&t.browser.version<=8&&(e.options.resize_throttle=500),t(window).resize(function(){clearTimeout(e.timeout),t(window).width()>=e.options.breakpoint_inner?e.timeout=setTimeout(function(){e._resize(t(e.element))},e.options.resize_throttle):e.timeout=setTimeout(function(){e._reset_heights()},e.options.resize_throttle)}),t(window).bind("load",function(){t(window).width()>=e.options.breakpoint_inner&&setTimeout(function(){e._resize(t(e.element))},0)})},_resize:function(e){var i=t(window).width();if(this._windowWidth!==i){this._windowWidth=i;var n={};if(n=this._windowWidth<=this.options.breakpoint_outer&&this.element.hasClass("region--3-up")?e.find(".block").not(".block-1"):e.find(".block"),this._reset_heights(n),n.hasClass("has-inner"))return void this._resize_inner(n);n.length>1&&(this._resize_header(n),this._resize_copy(n),this._resize_block(n)),this._windowWidth>=this.options.breakpoint_outer&&this.element.hasClass("js-equal-blocks")&&this.element.find(".box__inner").height("auto")}},_reset_heights:function(){var e=this;if(e.element.hasClass("js-equal-blocks"))return void this._resize_panels(e.element);var i=e.element.find(".block");t.each(i,function(e,i){var n=t(i);n.find(".teaser__title").height("auto"),n.find("> :first-child").height("auto"),n.find(".teaser__body").height("auto"),n.find(".box__inner").height("auto")})},_resize_header:function(e){var i=0;t.each(e,function(e,n){var r=t(n);r.find(".teaser__title").innerHeight()>i&&(i=r.find(".teaser__title").innerHeight())}),0===e.find(".teaser-home").length&&0===e.find(".has-media--side").length&&t.each(e,function(e,n){t(n).find("> :first-child .teaser__title").innerHeight(i+"px")})},_resize_copy:function(e){var i=0;t.each(e,function(e,n){var r=t(n);r.find(".media").height()>i&&(i=r.find(".media").height())}),0!==e.find(".teaser-home").length&&t.each(e,function(e,n){0!==t(n).find(".teaser__body").length&&0===t(n).find(".teaser-home__text-only").length&&t(n).find(".teaser__body").innerHeight()<i&&t(n).find(".teaser__body").innerHeight(i+"px")})},_resize_block:function(e){var i=0;t.each(e,function(e,n){var r=t(n);r.find("> :first-child").innerHeight()>i&&(i=r.find("> :first-child").innerHeight())}),t.each(e,function(e,n){t(n).find("> :first-child").innerHeight(i+"px")})},_resize_panels:function(e){var i=0;e=e.find(".box__inner"),t.each(e,function(e,n){var r=t(n);t(n).height("auto"),r.innerHeight()>i&&(i=r.innerHeight())}),t.each(e,function(e,n){t(n).innerHeight(i+"px")})},_resize_inner:function(e){var i=0;t.each(e,function(e,n){var r=t(n).find(".box__inner");r.innerHeight()>i&&(i=r.innerHeight())}),t.each(e,function(e,n){t(n).find(".box__inner").innerHeight(i+"px")})},destroy:function(){t(window).unbind("resize");var e=t(this.element).find(".block");this._reset_heights(e)},_setOption:function(t,e){this._super(t,e)}})}(jQuery),function(t,e){"use strict";t.widget("cx.collapsibles",{options:{triggerSelector:".cx_collapsibles__trigger:eq(0)",targetSelector:".cx_collapsibles__target:eq(0)",expandedClass:"cx_collapsibles--is-expanded",collapsedClass:"cx_collapsibles--is-collapsed",expandingClass:"cx_collapsibles--is-expanding",collapsingClass:"cx_collapsibles--is-collaping",containerClass:"cx_collapsibles__container",effectDuration:250,template:'<p class="cx_collapsibles__trigger cx_collapsibles__trigger--left">{{text}}</p>',showLinkText:["Show more","Show less"]},_create:function(){this._self=this,this._container=t(this.element),this._first=!0,this._isShowMore=this._container.hasClass("is-show-more"),this._isShowMore&&(t.extend(this.options,{containerClass:"cx_collapsibles__containing"}),this._container.append(e.render(this.options.template,{text:this.options.showLinkText[0]}))),this._collapsible_target=this._container.find(this.options.targetSelector),this._collapsible_trigger=this._container.find(this.options.triggerSelector),this._original_collapsible_trigger=this._collapsible_trigger.clone(!0,!0);var i=t('<a href="#"></a>');i.attr("aria-expanded","false").attr("aria-haspopup","true").on("click",function(t){t.preventDefault()}),this._collapsible_trigger.wrapInner(i),this._on(this._collapsible_trigger,{click:this.toggle}),this._trigger("create")},_init:function(){this._container.hasClass(this.options.expandedClass)||this.collapse(0),this._container.addClass(this.options.containerClass)},toggle:function(t){void 0!==t&&t.preventDefault(),this._container.hasClass(this.options.expandedClass)?this.collapse():this.expand()},collapse:function(e){var i=this;void 0===e&&(e=this.options.effectDuration),i._container.addClass(i.options.collapsingClass),this._collapsible_target.slideUp(e,function(){i._container.addClass(i.options.collapsedClass).removeClass(i.options.expandedClass).removeClass(i.options.collapsingClass)}),this._isShowMore&&(this._collapsible_trigger.find("a").text(this.options.showLinkText[0]),i._container.hasClass("is-return")&&(i._first||t.scrollTo(this._container.offset().top,e),i._first=!1)),this._collapsible_trigger.find("a").attr("aria-expanded","false"),this._trigger("collapse")},expand:function(t){var e=this;void 0===t&&(t=this.options.effectDuration),e._container.addClass(e.options.expandingClass),this._isShowMore&&this._collapsible_trigger.find("a").text(this.options.showLinkText[1]),this._collapsible_target.slideDown(t,function(){e._container.addClass(e.options.expandedClass).removeClass(e.options.collapsedClass).removeClass(e.options.expandingClass)}),this._collapsible_trigger.find("a").attr("aria-expanded","true"),this._trigger("expand")},destroy:function(){this._off(this._collapsible_trigger,"click"),this._isShowMore?this._collapsible_trigger.remove():this._collapsible_trigger.replaceWith(this._original_collapsible_trigger),this._container.removeClass(this.options.containerClass).removeClass(this.options.collapsedClass).removeClass(this.options.expandedClass),this._collapsible_target.show(),this._trigger("destroy"),t.Widget.prototype.destroy.call(this)},_setOption:function(t,e){this._super(t,e)}})}(jQuery,Mustache),function(t){t.widget("ui.cxtabs",t.ui.tabs,{options:{headingSelector:".cx_tabs__heading",sectionSelector:".cx_tabs__section",preserveTitles:!1},_create:function(){var e=this;e._sections=e.element.children(e.options.sectionSelector),e._headings=e._sections.children(e.options.headingSelector),e._tabs=t("<ul></ul>"),t.each(e._sections,function(i,n){var r,s=t(n);void 0===s.attr("id")?(r="tab-"+e.uuid+"-"+s.index(),s.attr("id",r)):r=s.attr("id");var a=t(n).find(e.options.headingSelector).eq(0),o=t(document.createElement("a"));o.attr({href:window.location.search+"#"+r}).text(a.text()),o.on("click",function(t){e._trigger("click",t,{tab:o,section:n}),t.preventDefault()}),o.appendTo(e._tabs).wrap("<li />")}),e.element.prepend(e._tabs),!1===e.options.preserveTitles&&e._headings.hide(),e._super()},destroy:function(){this._tabs.remove(),this._headings.show(),t.each(this._sections,function(e,i){t(i).removeAttr("id")}),this._super(),t.Widget.prototype.destroy.call(this)}})}(jQuery),function(t){t.widget("cx.validate",{options:{labelErrorClass:"s-error",messageErrorClass:"error-message"},_create:function(){this._self=this,this._form=t(this.element)},_init:function(){var e=this._self;this._form.attr("novalidate","novalidate"),this._form.on("submit",function(t){e._validateForm()||t.preventDefault()}),t(":input",this._form).on("blur",function(i){e._validateElement(t(this))})},_validateElement:function(e){var i,n=this._self;if(!e.attr("required"))return!0;var r=e.attr("type");switch(e.is(".email")&&(r="email"),e.is("textarea")&&(r="textarea"),r){case"email":i=/^(?:[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/;break;default:i=/\w+/g}if(i.test(e.val()))return e.siblings("span."+n.options.messageErrorClass).remove(),e.parent().removeClass(n.options.labelErrorClass),!0;if(!e.siblings("span."+n.options.messageErrorClass).is("*")){var s=t(document.createElement("span")).addClass(n.options.messageErrorClass).text(e.data("errormsg"));e.parent("label").addClass(n.options.labelErrorClass).append(s)}return!1},_validateForm:function(){var e={},i=!0,n=this._self;return t(":input, textarea",this._form).each(function(r){e=t(this),n._validateElement(e)||(i=!1)}),i}})}(jQuery),function(t){function e(e){return e/parseInt(t("html").css("font-size"),10)}t.widget("cx.jumpmenu",{_create:function(){this._self=this,this._container=t(this.element),this._list=this._container.find("ul"),this._wrapper=t(".localnav__wrapper"),this._righthandmenu=!1,0==this._wrapper.length&&t(".localnav").length&&(this._righthandmenu=!0),this._link=this._container.find("a"),this._window=t(window),this._on(this._window,{scroll:this._scroll}),this._scrolldebounce=null},_getPageAnchorItems:function(){var e=[];if(t("section.t-events").length)e=t(".event-details__section");else{var i=t(".cx_collapsibles__trigger").map(function(){if(t(this)[0].hasAttribute("id"))return this}),n=t(".content-longform__section").find("h3").find("a");e=t.merge(i,n),e.sort(function(e,i){return t(e).offset().top-t(i).offset().top})}return e},_init:function(){if(this._lastScrollTop=0,this._leftHandMenuPaddingTopREM=5,this._scrollUp=!1,this._scrollDown=!1,this._righthandmenu)return void this._window.bind("load resize",function(){var e=t(".localnav ul");e.css({width:""}),e.width(e.parents(".l-gutter--right").width()),e.find("a").each(function(){t(this).removeClass("in-page").addClass("out-page"),t(this).click(function(t){t.preventDefault(),window.location.href=t.currentTarget.href})})});if(this._starting=this._container.offset().top,this._list.width(this._container.width()),t(".localnav").length){var e,i=t(".localnav"),n=i.find("a");this._pageAnchorItems=this._getPageAnchorItems();var r=this;this._window.bind("resize",function(){r._pageAnchorItems=r._getPageAnchorItems()}),this._window.bind("load resize scroll",function(){var i=t(this).scrollTop(),s=r._pageAnchorItems.map(function(){if(t(this).offset().top<=i+20)return this});if(s=s[s.length-1]){var a=s.id;e!==a&&(e=a,n.closest(".s-current").removeClass("s-current").end().filter("[href=#"+a+"]").addClass("s-current"))}})}},_scroll:function(i){var n=this;n._siteHeaderHeightREM=e(t(".jsSiteMasthead").height()),this._righthandmenu&&(n._wrapper=t('div[role="complementary"]').parents(".row"),n._container=t(".localnav").parents(".teaser")),clearTimeout(this._scrolldebounce),this._scrolldebounce=setTimeout(function(){n._window.scrollTop()+n._container.height()>n._wrapper.offset().top+n._wrapper.height()?n._container.addClass("cx_jumpmenu--reached-limit").css("position","fixed").removeClass("cx_jumpmenu--fixed").animate({top:n._wrapper.height()-n._container.height()},1):n._window.scrollTop()>=n._wrapper.offset().top?(n._container.addClass("cx_jumpmenu--fixed").css("position","fixed").removeClass("cx_jumpmenu--reached-limit"),n._window.scrollTop()<n._lastScrollTop?(n._scrollUp||n._container.css("top",n._siteHeaderHeightREM+n._leftHandMenuPaddingTopREM+"rem"),n._scrollUp=!0,n._scrollDown=!1):n._window.scrollTop()>n._lastScrollTop&&(n._scrollDown||n._container.css("top",n._leftHandMenuPaddingTopREM+"rem"),n._scrollUp=!1,n._scrollDown=!0),n._lastScrollTop=n._window.scrollTop()):n._container.removeClass("cx_jumpmenu--fixed").css("position","static").removeClass("cx_jumpmenu--reached-limit").css("top","")},1)},destroy:function(){t.Widget.prototype.destroy.call(this)},_setOption:function(t,e){this._super(t,e)}})}(jQuery),function(t){t.widget("cx.gmap",{options:{width:425,height:350,zoom:13,address:""},_create:function(){this._container=t(this.element)},destroy:function(){t(this.element).empty(),t.Widget.prototype.destroy.call(this)}}),t.widget("cx.gmap_img",t.cx.gmap,{_create:function(){var e="";this._img=t(document.createElement("img")),this._container=t(this.element),e="http://maps.googleapis.com/maps/api/staticmap?center="+this.options.address+"&zoom="+this.options.zoom+"&size="+this.options.width+"x"+this.options.height+"&sensor=false&markers="+this.options.address,this._img.attr({src:e,width:this.options.width,height:this.options.height}),this._wrapper=t(document.createElement("a")),this._wrapper.attr({href:"https://maps.google.co.uk/maps?q="+this.options.address}),this._wrapper.append(this._img),this._container.append(this._wrapper),this._container.append(this._wrapper)},_init:function(){},destroy:function(){this._super("destroy")}}),t.widget("cx.gmap_iframe",t.cx.gmap,{_create:function(){var e="";this._iframe=t(document.createElement("iframe")),this.options.container?this._container=t(this.options.container,this.element):this._container=t(this.element),e="https://maps.google.co.uk/maps?f=q&source=s_q&hl=en&geocode=&q="+this.options.address+"&aq=&ie=UTF8&hq="+this.options.address+"&t=m&z="+this.options.zoom+"&output=embed&iwloc=near",this._iframe.attr({src:e,width:this.options.width,height:this.options.height,frameborder:0,scrolling:"no",marginheight:0,marginwidth:0}),this._wrapper=t(document.createElement("div")),this._wrapper.attr({class:"iframe-responsive-wrap"}),this._wrapper.append(this._iframe),this._container.append(this._wrapper)},_init:function(){},destroy:function(){this._super("destroy")}})}(jQuery);var isOperaMini=navigator.userAgent.indexOf("Opera Mini")>-1;if(isOperaMini){var rootNode=document.documentElement;rootNode.className+=" is-operamini"}var jisc=jisc||{};jisc.breakpoint_min=465,jisc.breakpoint_inner=565,jisc.breakpoint_mid=630,jisc.breakpoint_outermid=710,jisc.breakpoint_outer=757,jisc.breakpoint_extra=850,jisc.breakpoint_max=965,function(t){jisc.setBreakpointClass=function(e,i){i?t.root.addClass("breakpoint-"+e):t.root.removeClass("breakpoint-"+e)},jisc.setupCookiebar=function(){t("#cookie-bar-main").cookiebar()},jisc.setupMainNavLarge=function(){t(".search--not-front").insertAfter("#nav")},jisc.setupMainNavSmall=function(){t(".j-giganav_primary__item__child__grandchild").css("display","none"),t(".j-giganav_primary__item__child").css("display","none"),t(".secondary-nav").insertAfter(".primary-nav"),t(".search--not-front").insertAfter("#combined-nav-wrapper"),t("#combined-nav-wrapper").cx_mobilemenu({trigger:{location:".masthead__top",openLabel:'<span class="visuallyhidden">Open navigation </span>Menu <span class="fas fa-bars" aria-hidden="true"></span>',closeLabel:'<span class="visuallyhidden">Close navigation </span>Menu <span class="fas fa-bars" aria-hidden="true"></span>',className:"cx__mobilemenu__trigger"},insertType:"append"})},jisc.destroyMainNavSmall=function(){t("#combined-nav-wrapper").is(":ui-cx_mobilemenu")&&t("#combined-nav-wrapper").cx_mobilemenu("destroy")},jisc.plainTeasers=function(){t(".teaser-plain").length&&t(".region--3-up--override").each(function(){var e=t(this),i=0;if(e.find(".teaser-plain").each(function(){t(this).find(".media").length&&i++}),0===i){t(e).find(".teaser-plain").removeClass("teaser-plain--logo")}})},jisc.setupTeaserBlocks=function(){t(".region, .js-equal-blocks").cx_teaserblocks({breakpoint_inner:jisc.breakpoint_inner,breakpoint_outer:jisc.breakpoint_outer,resize_throttle:25})},jisc.setupPlaceholders=function(){t("input, textarea").placeholder()},jisc.setupExternalLinks=function(){},jisc.setupDropdowns=function(){t(".c-primary-nav").cx_dropdown({hoverClass:"active",menuClass:"c-submenu",fixPosition:!0,mouseDelay:150})},jisc.destroyDropdowns=function(){t(".c-primary-nav").is(":ui-cx_dropdown")&&t(".c-primary-nav").cx_dropdown("destroy")},jisc.setupMediaAttribution=function(){t(".media__attribution").cx_rollup({breakout:{parents:".region--2-up, .region--3-up",match:".has-media",width:"1",left:"40",right:"0"},title:{titleClass:"media__attribution__title",bottom:0},content:{contentClass:"media__attribution__info"}})},jisc.loadDesktopImages=function(){t.root.find("[data-img-src]").each(function(){var e=t(this),i=e.attr("class"),n=e.data("img-src"),r=t("<img />").addClass(i).attr("src",n).attr("alt","");e.parent().addClass("has-media"),e.replaceWith(r)})},jisc.loadInformImages=function(e){switch($images={},e){case"mobile":$images=t.root.find(".inform").find(".mobile[data-inform-src]");break;case"desktop":default:$images=t.root.find(".inform").find("[data-inform-src]")}$images.each(function(){var e=t(this),i=e.attr("class"),n=e.data("inform-src"),r=t("<img />").addClass(i).attr("src",n).attr("alt","");e.replaceWith(r)})},jisc.setupContentFilter=function(){t(".content-filter__holder").cx_contentfilter({breakpointOuter:jisc.breakpoint_inner,initClass:"initialising",bufferWidth:40,nextBtn:{label:"Next",outerClass:"next-btn",innerClass:"ico ico-paddle-right"},prevBtn:{label:"Prev",outerClass:"prev-btn",innerClass:"ico ico-paddle-left"},afterCreate:function(e,i){window.location.hash.length>0&&($tabs=t(window.location.hash).closest(".ui-tabs"),$tabs.length>0&&setTimeout(function(){t.scrollTo($tabs)},50))}})},jisc.setupTouchInform=function(){t(".inform__uid3").length&&(t(".inform__uid3").addClass("hover"),t("html").hasClass("touch")&&t(".inform").on("hover",".inform__inner",function(e){t(".hover").removeClass("hover"),t(this).parent().addClass("hover")}))},jisc.setupRWDTables=function(){t(".data-table").each(function(e,i){t(i).cx_rwdtable({idprefix:"co-",persist:"persist"})})},jisc.setupSmartSearch=function(){t("#search").cx_smartsearch({autocompleteOptions:{source:Drupal.settings.searchAutocompletePath,minLength:0,appendTo:".search-results-dropdown"},inputSelector:"#search_term"}),t(".close").on("click",function(e){t(this).parents("form").find("#search_term").val(""),t(this).hide()})},jisc.destroySmartSearch=function(){t("#search").is(":ui-cx_smartsearch")&&t("#search").cx_smartsearch("destroy")},jisc.setKeyboardFocus=function(e){t(e).attr("tabindex",-1).focus()},jisc.handleBoxout={_windowWidth:0,init:function(){setTimeout(function(){t(window).bind("load resize",function(){jisc.handleBoxout._windowWidth!==t(window).width()&&(jisc.handleBoxout._windowWidth=t(window).width(),t(window).width()>=jisc.breakpoint_outer?(t(".boxout",".content-longform__header").css({height:""}),t(".boxout",".content-longform__header").height(t(".content-longform__header").outerHeight()-50)):t(".boxout",".content-longform__header").css({height:""}))})},0)}},jisc.handleInPageLinks=function(e){t("body").on("click",e,function(e){if(e.preventDefault(),!t(this).hasClass("out-page")){var i=t(this).attr("href");jisc.scrollToLocalTarget(i,500,function(){jisc.setKeyboardFocus(i)})}})},jisc.preventDefaultHref=function(e){t("body").on("click",e,function(t){t.preventDefault()})},jisc.scrollToLocalTarget=function(e,i,n){var r=i||300;t(window).is(":animated")||t("html, body").animate({scrollTop:t(e).offset().top},r,function(){n&&"function"==typeof n&&n()})},jisc.setupTabs=function(e){var i={};switch(e){case"mobile":i=t(".is-tabbed-mobile, .is-tabbed");break;case"desktop":i=t(".is-tabbed-desktop, .is-tabbed");break;default:i=t(".is-tabbed")}i.each(function(e,i){var n=t(i);n.cxtabs({preserveTitles:n.hasClass("is-tabbed--with-titles")})})},jisc.destroyTabs=function(e){if(!(t.browser.msie&&t.browser.version<8)){var i={};switch(e){case"mobile":i=t(".is-tabbed-mobile");break;case"desktop":i=t(".is-tabbed-desktop");break;default:i=t(".is-tabbed")}i.filter(":ui-cxtabs").cxtabs("destroy")}},jisc.setupFootnotes=function(){t(".has-tooltip").tooltipster({interactive:!0,timer:1e4,title:"",delay:0,speed:0,functionReady:function(e){var i=t(e)[0];this.title=t(i).children().first().attr("title");var i=t(e)[0];t(i).children().first().removeAttr("title")},functionAfter:function(e){var i=t(e)[0];t(i).children().first().attr("title",this.title)}}),t(".footnote").each(function(e,i){var n=t(i),r=t('<span class="footnote">'+n.text()+"</span>");n.replaceWith(r);var s=t(n.attr("href")).html();t(n.attr("href")).data("title")&&(s=t(n.attr("href")).data("title")),t(n.attr("href")).data("url")&&(s='<a href="'+t(n.attr("href")).data("url")+'">'+s+"</a>"),r.tooltipster({content:s,interactive:!0,timer:1e4,delay:0,speed:0})})},jisc.setupCollapsibles=function(e){var i={};switch(e){case"mobile":i=t(".is-collapsible-mobile, .is-collapsible");break;case"desktop":i=t(".is-collapsible-desktop, .is-collapsible");break;default:i=t(".is-collapsible")}i.collapsibles({effectDuration:"mobile"===e?0:250}),t(":cx-collapsibles").on("click",".cx_collapsibles__trigger--alt",function(e){t(this).closest(":cx-collapsibles").collapsibles("toggle")}),"mobile"===e&&t(".cx_collapsibles__toggle").each(function(e,i){var n=t(i),r=n.nextAll(":cx-collapsibles");n.on("click",function(e){e.preventDefault();var i=t(this);i.hasClass("cx_collapsibles__toggle--expand")?(i.removeClass("cx_collapsibles__toggle--expand").addClass("cx_collapsibles__toggle--collapse").text("Collapse all sections"),r.collapsibles("expand")):(i.removeClass("cx_collapsibles__toggle--collapse").addClass("cx_collapsibles__toggle--expand").text("Expand all sections"),r.collapsibles("collapse"))})})},jisc.destroyCollapsibles=function(e){var i={};switch(e){case"mobile":i=t(".is-collapsible-mobile, .is-collapsible");break;case"desktop":i=t(".is-collapsible-desktop, .is-collapsible");break;default:i=t(".is-collapsible")}i.filter(":cx-collapsibles").collapsibles("destroy")},jisc.setupSignupToggle=function(){var e=t(".email-signup"),i=e.find(".email-signup__form"),n=i.find(".email-signup__form__title").text(),r=t('<a href="#" class="btn btn--3d lnk-signup email-signup__trigger--show" />');i.length&&r.text(n).wrapInner("<strong />").appendTo(".email-signup__actions"),t(".email-signup__trigger--show, .email-signup__trigger--hide").on("click",function(n){e.hasClass("is-collapsed")?r.fadeOut(200,function(){t(this).addClass("is-collapsed"),i.fadeIn(200,function(){t(this).removeClass("is-collapsed"),jisc.setKeyboardFocus(this)}),e.removeClass("is-collapsed")}):(i.fadeOut(200,function(){t(this).addClass("is-collapsed"),t(this).find("input").val(""),r.fadeIn(200,function(){t(this).removeClass("is-collapsed")})}),e.addClass("is-collapsed")),n.preventDefault()})},jisc.setupJumpMenu=function(){t.browser.msie&&t.browser.version<8||t(".localnav").jumpmenu()},jisc.setupCarousel=function(){var e=0;t(".carousel").each(function(){e++;t(this).prepend('<a href="#" id="next-btn-'+e+'" class="next-btn scroll-btn"><span class="ico ico-paddle-right">Next</span></a>'),t(this).prepend('<a href="#" id="prev-btn-'+e+'" class="prev-btn scroll-btn"><span class="ico ico-paddle-left">Previous</span></a>'),t(this).find(".carousel__list").carouFredSel({align:"left",height:"auto",width:"100%",scroll:2,auto:!1,next:{button:"#next-btn-"+e},prev:{button:"#prev-btn-"+e},swipe:!0})})},jisc.switchStrings=function(){t.root.find("[data-string-largevp]").each(function(){var e=t(this),i=e.children(".ico"),n=e.data("string-largevp");e.html(i).append(n)})},jisc.gmap={},jisc.gmap.setup=function(e){var i={},n=t(":ui-cxtabs").find("section:visible");if(t(".cx_gmap").is("*"))switch(e){case"image":jisc.gmap.addImage(t(".cx_gmap"));break;case"iframe":t(".cx_gmap").each(function(){t(this).parents(":ui-cxtabs").is("*")?(t(":ui-cxtabs").bind("cxtabsclick",function(e,n){i=t(".cx_gmap",n.section),jisc.gmap.addIframe(i)}),t(":ui-cxtabs").trigger("cxtabsclick",{section:n})):jisc.gmap.addIframe(t(".cx_gmap"))})}},jisc.gmap.addImage=function(e){e.each(function(e){t(this).gmap_img({address:t(this).data("map-address")})})},jisc.gmap.addIframe=function(t){t=t.eq(0);var e={address:t.data("map-address")};t.data("map-width")&&(e.width=t.data("map-width")),t.data("map-height")&&(e.height=t.data("map-height")),t.data("map-zoom")&&(e.zoom=t.data("map-zoom")),t.gmap_iframe(e)},jisc.gmap.destroy=function(){t(":cx-gmap_iframe").gmap_iframe("destroy"),t(":cx-gmap_img").gmap_img("destroy")},jisc.setupValidation=function(){},jisc.$faceted=t(".js-faceted-search"),jisc.setupFacetedSearch=function(t){var e;switch(t){case"mobile":e=!0;break;case"desktop":default:e=!1}jisc.$faceted.data("cx-faceted_search")?jisc.$faceted.faceted_search("option","isMobile",e):jisc.$faceted.faceted_search({isMobile:e})},jisc.$faceted.on("faceted_search_ready",function(){t.root.ui_block()}),jisc.$reveal=t(".js-revealer"),jisc.setupRevealer=function(t){var e;switch(t){case"mobile":e=!0;break;case"desktop":default:e=!1}jisc.$reveal.block_slide(),jisc.$reveal.data("cx-chart")?jisc.$reveal.block_slide("option","isMobile",e):jisc.$reveal.block_slide({isMobile:e})},jisc.$chart=t(".js-chart"),jisc.setupCharts=function(t){if(jisc.$chart.is("*")){var e;switch(t){case"mobile":e=!0;break;case"desktop":default:e=!1}jisc.$chart.data("cx-chart")?jisc.$chart.charts("option","isMobile",e):jisc.$chart.charts({isMobile:e})}},jisc.destroyCharts=function(t){jisc.$chart.data("cx-chart")||jisc.$chart.filter(":cx-charts").charts("destroy")},jisc.setupHiddenForms=function(){t(".form__action--hidden").prop("tabindex",-1)},jisc.setupTimeline=function(){t(".js-timeline").timeline()},jisc.setupScrollto=function(){t(".js-scroll-to").scroll_to()},jisc.setupAutoSection=function(){t(".auto-section").autosection()},jisc.utils={},jisc.utils.parseQuerystring=function(t){if(t||(t=window.location.href),!t.split("?")[1])return[];for(var e=t.split("?")[1].split("#")[0].split("&"),i={},n=[],r=e.length-1;r>=0;r--)n=e[r].split("="),i[n[0]]=jisc.utils.trueUrldecode(n[1]);return i},jisc.utils.trueUrldecode=function(t){return decodeURIComponent((t+"").replace(/\+/g,"%20"))}}(jQuery);var jisc=jisc||{},Drupal=Drupal||{settings:{jiscFlashPath:"/assets/ui/swf/",searchAutocompletePath:"/server/search-results.php"}};!function(t){jisc.init=function(){t.root=t(document.body),jisc.setupAutoSection(),t.breakpoint({condition:function(){return window.matchMedia("screen and (max-width:"+(jisc.breakpoint_mid-1)+"px)").matches},enter:function(){jisc.setupMainNavSmall(),jisc.loadInformImages("mobile")},exit:function(){jisc.destroyMainNavSmall()}}),t.breakpoint({condition:function(){return window.matchMedia("screen and (min-width:"+jisc.breakpoint_mid+"px)").matches},enter:function(){jisc.setBreakpointClass(jisc.breakpoint_mid,!0),jisc.setupMainNavLarge(),jisc.setupDropdowns(),jisc.loadDesktopImages(),jisc.loadInformImages("desktop")},exit:function(){jisc.setBreakpointClass(jisc.breakpoint_mid,!1),jisc.destroyDropdowns()}}),t.breakpoint({condition:function(){return window.matchMedia("screen and (min-width:"+jisc.breakpoint_inner+"px)").matches},enter:function(){jisc.setBreakpointClass(jisc.breakpoint_inner,!0),jisc.setupSmartSearch()},exit:function(){jisc.setBreakpointClass(jisc.breakpoint_inner,!1),jisc.destroySmartSearch()}}),t.breakpoint({condition:function(){return window.matchMedia("screen and (max-width: 710px)").matches},enter:function(){jisc.gmap.setup("image")},exit:function(){jisc.gmap.destroy()}}),t.breakpoint({condition:function(){return window.matchMedia("screen and (min-width:"+jisc.breakpoint_outer+"px)").matches},enter:function(){jisc.setBreakpointClass(jisc.breakpoint_outer,!0)},exit:function(){jisc.setBreakpointClass(jisc.breakpoint_outer,!1)}}),t.breakpoint({condition:function(){return window.matchMedia("screen and (max-width:710px)").matches},enter:function(){jisc.setupTabs("mobile"),jisc.setupCollapsibles("mobile"),jisc.setupCharts("mobile"),jisc.setupRevealer("mobile")},exit:function(){jisc.destroyTabs("mobile"),jisc.destroyCollapsibles("mobile"),jisc.destroyCharts()}}),t.breakpoint({condition:function(){return window.matchMedia("screen and (min-width:711px)").matches},enter:function(){jisc.setupTabs("desktop"),jisc.setupCollapsibles("desktop"),jisc.gmap.setup("iframe"),jisc.setupCharts("desktop"),jisc.setupRevealer("desktop")},exit:function(){jisc.destroyTabs("desktop"),jisc.destroyCollapsibles("desktop"),jisc.gmap.destroy("iframe"),jisc.destroyCharts()}}),t.support.transition||(t.fn.transition=t.fn.animate),jisc.setupPlaceholders(),jisc.setupMediaAttribution(),jisc.setupCarousel(),jisc.handleBoxout.init(),jisc.setupRWDTables(),jisc.setupFootnotes(),jisc.setupJumpMenu(),jisc.setupSignupToggle(),jisc.handleInPageLinks(".localnav li a:not(.in-page)"),jisc.handleInPageLinks(".in-page"),jisc.handleInPageLinks(".c-service-stats__icon-link"),jisc.preventDefaultHref(".jisc__giganav__trigger"),jisc.preventDefaultHref(".doorbell-trigger__link"),jisc.preventDefaultHref(".cx__mobilemenu__trigger"),jisc.preventDefaultHref(".c-event-programme-faceted-browse__clear-facet-selections"),jisc.preventDefaultHref(".c-event-programme-facet__link"),jisc.switchStrings(),jisc.setupContentFilter(),jisc.setupExternalLinks(),jisc.plainTeasers(),"undefined"!=typeof respond&&respond.update(),jisc.setupTeaserBlocks(),jisc.setupTouchInform(),jisc.setupValidation(),jisc.setupCookiebar(),jisc.setupHiddenForms(),jisc.setupScrollto()},t(function(){jisc.init()})}(jQuery),function(t,e){t.fn.swipe.defaults.excludedElements=["button","input","select","textarea",".noSwipe"],t.widget("ui.cx_carousel",{options:{initClass:"initialising",nextBtn:{label:"Next",outerClass:"next-btn",innerClass:"ico ico-paddle-right"},prevBtn:{label:"Prev",outerClass:"prev-btn",innerClass:"ico ico-paddle-left"}},_create:function(){if(this._ul=t(this).find("ul"),this._li=this._ul.find(".carousel__list"),this._query=t.url().param(this.options.resultQuery),this._more=null,this._moreSubList=null,this._selected=null,this._timeoutId=null,this._className="cx__carousel__",
!this._ul.length)throw"A <ul> is required for the Carousel widget";if(!this._li.length)throw"The <ul> must contain <li> elements for the Carousel widget";this._ul.removeClass(this.options.initClass),this._form.prepend('<a href="#" id="'+this._className+"next-btn"+this.uuid+'" class="'+this.options.nextBtn.outerClass+" "+this._className+'scroll-btn"><span class="'+this.options.nextBtn.innerClass+'">'+this.options.nextBtn.label+"</span></a>"),this._form.prepend('<a href="#" id="'+this._className+"prev-btn"+this.uuid+'" class="'+this.options.prevBtn.outerClass+" "+this._className+'scroll-btn"><span class="'+this.options.prevBtn.innerClass+'">'+this.options.prevBtn.label+"</span></a>"),this._ul.carouFredSel({align:"left",height:"auto",scroll:2,auto:!1,next:{button:"#"+this._className+"next-btn"+this.uuid},prev:{button:"#"+this._className+"prev-btn"+this.uuid},swipe:!0},{transition:e.csstransitions}),this._query&&this._ul.trigger("slideTo","li[data-result-group="+this._query+"]")},_setOption:function(t,e){this._super(t,e)}})}(jQuery,Modernizr),function(t,e,i){"use strict";t.widget("cx.charts",{options:{isMobile:!1,chartItems:"chart__item",tabClass:"data-tab",barHeight:20,timeout:250,circleHex:"#8c930d",circleHexHover:"#cd4901",templates:{donut:'<figure class="chart__container"><figcaption="chart__caption"></figcaption></figure>',tabs:'<div class="tabs tabs--false tabs--hang-right"><ul class="tab-container ui-tabs-nav">{{#tabs}}<li class="data-tab {{#active}}ui-tabs-active {{/active}}ui-tabs-half"><a href="#" class="ui-tabs-anchor">{{title}}</a></li>{{/tabs}}</ul></div>',stackedVerticalBarTemplate:'<a class="chart__vertical__link" href="{{href}}">{{title}}</a>',stackedBarTemplate:'<div class="chart__container is-stacked">{{#items}}<a class="chart__link" href="{{href}}" style="background-color: {{fill}}" tabindex="-1"><div class="bar bar--stacked"><div class="bar__inner"></div></div></a>{{/items}}</div>',horizontalBarTemplate:'<div class="chart__item__container chart__item__container--right"><a class="chart__link__inner" href="{{href}}" style="background-color: {{fill}}; width: {{w}}" tabindex="-1"><span class="bar-wedge">&nbsp;</span><span class="chart__link__inner__text">{{title}}</span></a></div>',chartTemplate:'<div class="chart__item__container"></div>',chartDonutTemplate:'<div class="chart__item__container"><figure class="chart__item--donut"></figure></div>',keyTemplate:'<span class="chart__key__item" style="background-color:{{fill}};"></span>',legendTemplate:'<ul class="chart__legend">{{#items}}<li class="chart__legend__item"><a class="chart__title__link" href="{{href}}"><span class="chart__legend__bullet" style="background-color: {{fill}}"></span><span class="chart__title__text">{{title}}</span></a></li>{{/items}}</ul>'},chartTypes:{bar:"_setupBar",circle:"_setupCircle",donut:"_setupDonut","stacked-bar-horizontal":"_setupStackedBarHorizontal","stacked-bar-vertical":"_setupStackedBarVertical"},defaults:{title:"",radius:0,dim:[20,20]}},widgetEventPrefix:"chart_",_create:function(){var e=this,i={};switch(e._$items=e.element.find("."+e.options.chartItems),void 0===e.element.data("build-data")?(i.mobile_state=e.element.data("mobile-chart"),i.desktop_state=e.element.data("desktop-chart"),e.element.data("build-data",i)):i=e.element.data("build-data"),e._on(function(){var i={};return i["click ."+e.options.tabClass]=function(i){var n=t(i.currentTarget),r=n.index(),s=n.parent();i.preventDefault(),e._trigger("donut_resize",null,{index:r,tab:s}),e._trigger("stacked_vertical_resize",null,{index:r,tab:s}),e._trigger("stacked_horizontal_resize",null,{index:r,tab:s})},i}()),e.options.isMobile){case!0:e[e.options.chartTypes[i.mobile_state]].apply(this);break;case!1:e[e.options.chartTypes[i.desktop_state]].apply(this)}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest("li"),n=this._data_tabs.index(i),r=!0;switch(console.log(i,n),e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,n--;break;case t.ui.keyCode.ENTER:return e.preventDefault(),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),n=this._focusNextTab(n,r)},_findNextTab:function(e,i){for(var n=this._data_tabs.length-1;-1!==t.inArray(function(){return e>n&&(e=0),e<0&&(e=n),e}(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this._data_tabs.find("li").eq(t).focus(),t},_setupCircle:function(){var i=this,n=i._returnData(),r=t("html").hasClass("ie8")?1.5:n.border_width;i._charts=t.each(i._$items,function(s,a){var o=t(i.options.templates.chartTemplate),l=t(a),c=n.items[s].radius,h=n.items[s].title;l.prepend(o);var u,d,p=150-c-r-1,f=function(){this.animate({"fill-opacity":.05},150),u.animate({fill:n.line_color},150)},g=function(){this.animate({"fill-opacity":0},150),u.animate({fill:n.font_color},150)};d=e(o[0],"100%","100%"),d.setViewBox(0,0,150,150,!0);var m=c>12?p:0===c?120:100;u=d.text("50%",m,h).attr({"font-size":28,"font-family":"Stag Sans Web Light",fill:n.font_color}),i._textPosition(u,c,150),0!==c?d.circle(75,p,c).attr({stroke:n.line_color,fill:n.line_color,"fill-opacity":0,"stroke-width":r,href:n.items[s].href,title:h+" "+n.items[s].tooltip}).hover(f,g):d.rect(72,148,6,1).attr({stroke:n.line_color}),o.addClass("circle")})},_setupDonut:function(){function n(t,e){for(var i,n=e.content.length,r=0;r<n;r++)i=360/e.total*e.content[r],e.paths[r].animate({segment:[f.pd,f.pd,f.pd/2,e.start,e.start+=i,r]},t||500,"easeInOut").attr({title:e.titles[r].value[e.index]+" "+e.titles[r].title,href:d[r]}).angle=e.start-i/2}function r(t){for(var e=t.content.length,i=t.start,n=0;n<e;n++){var r=360/t.total*t.content[n];t.paths.push(l.path().attr({segment:[f.pd,f.pd,1,t.start,t.start+r,n],stroke:"#fff",href:d[n],title:t.titles[n].value[t.index]+" "+t.titles[n].title}).data("section",n)),i+=r}s(t.paths,t.links)}function s(t,e){var i=p?"ease":"elastic";p&&t.animate({transform:"s1 1 "+f.pd+" "+f.pd},300,i),t.hover(function(){this.stop().animate({transform:"s1.05 1.05 "+f.pd+" "+f.pd},300,i),a._trigger("hover_in",null,{id:this.id,item:this.data("section"),linklist:e})},function(){this.animate({transform:"s1 1 "+f.pd+" "+f.pd},300,i),a._trigger("hover_out",null,{id:this.id,item:this.data("section"),linklist:e})})}var a=this;a._initialised=!0;var o,l,c=a._returnData(),h=0,u=a._returnColours(c.items),d=a._returnHref(c.items),p=t("html").hasClass("ie8"),f=a.options.isMobile?{rw:"100%",ph:250,px:125,pd:125,py:125,height:"100%"}:{rw:"100%",ph:100,px:80,pd:50,py:80,height:250},g=.9*f.pd,m=Math.PI/180;a._data_tabs=t(a._tabBuilder(c.tabs)),a.element.find(".box").before(a._data_tabs),t.each(c.tabs.tabs,function(t,e){!0===e.active&&(h=t)}),a._charts=t(a.options.templates.chartDonutTemplate),c.list.before(a._charts).addClass("is-hidden"),a._charts.append(i.render(a.options.templates.legendTemplate,c)),a.links=a._charts.find(".chart__title__link"),l=e(a._charts.find("figure")[0],p?250:"100%",f.height),l.setViewBox(0,0,f.ph,f.ph,!0),o=l.set(),l.customAttributes.segment=function(t,e,i,n,r,s){var a=t+i*Math.cos(-n*m),o=t+i*Math.cos(-r*m),l=e+i*Math.sin(-n*m),c=e+i*Math.sin(-r*m),h=t+g*Math.cos(-n*m),d=t+g*Math.cos(-r*m),p=e+g*Math.sin(-n*m);return{path:[["M",h,p],["L",a,l],["A",i,i,0,+(r-n>180),0,o,c],["L",d,e+g*Math.sin(-r*m)],["A",g,g,0,+(r-n>180),1,h,p],["z"]],fill:u[s]}},a._on({chart_donut_resize:function(t,e){h=e.index;for(var i=a.links.find(".chart__title__text"),s=a._returnContent(c.items,e.index),l={content:a._returnFlatDims(c.items,h),titles:c.items,total:0,start:90,paths:o,links:a.links,index:h},u=0,d=l.content.length;u<d;u++)i.eq(u).fadeOut(0).html('<span class="chart__legend__number">'+s[u]+"</span>"+c.items[u].title).fadeIn("fast"),l.total+=l.content[u];a._initialised?(r(l),n(1,l),a._initialised=!1):n(200,l),e.tab=a._data_tabs.find(".data-tab").parent(),a._switchTabs(e)},chart_hover_in:function(t,e){e.linklist.eq(e.item).addClass("is-active")},chart_hover_out:function(t,e){e.linklist.eq(e.item).removeClass("is-active")}}),a._trigger("donut_resize",null,{index:h,tab:c.tabs.tabs})},_returnData:function(){var e=this,i={},n=e.element.find(".chart__list");return i.list=n,i.tabs=n.data("tabs"),i.line_color=n.data("color"),i.hover_color=n.data("color-hover"),i.radius=n.data("radius"),i.border_width=n.data("border-width")||2,i.font_color=n.data("font-color")||2,i.items=t.map(e._$items,function(e){var i=t(e);return{title:i.data("title"),tooltip:i.data("tooltip"),dims:i.data("dim"),value:i.data("content"),width:i.data("width"),href:i.data("href"),radius:i.data("radius"),fill:i.data("fill-color")}}),i},_tabBuilder:function(t){return i.render(this.options.templates.tabs,t)},_returnColours:function(e){return t.map(e,function(t){return t.fill})},_returnFlatDims:function(e,i){return t.map(e,function(t){return t.dims[i]})},_returnPercentDims:function(e,i){var n=0,r=t.map(e,function(t){return n+=t.dims[i],t.dims[i]});return t.map(r,function(t){return t/n*100})},_returnPropDims:function(e,i){var n=0,r=t.map(e,function(t){return n+=t.dims[i],t.dims[i]});return t.map(r,function(t){return t/n})},_returnContent:function(e,i){return t.map(e,function(t){return t.value[i]})},_returnBarPercents:function(e){var i=0,n=t.map(e,function(t){return i=t.radius>i?t.radius:i,t.radius});return t.map(n,function(t){return 0!==t?t/i*100+"%":"4px"})},_returnHref:function(e){return t.map(e,function(t){return t.href})},_returnDims:function(e,i){return t.map(e,function(t){return[[t.dims[i]]]})},_switchTabs:function(t){t.tab.children().eq(t.index).addClass("ui-tabs-active").siblings().removeClass("ui-tabs-active")},_textPosition:function(t,e,i){if(t.getBBox().width>2*e-10&&0!==e)return t.attr({y:i-(2*e+28)})},_setupStackedBarVertical:function(){var e=this,n=e._returnData(),r=0;e._data_tabs=t(e._tabBuilder(n.tabs)),e.element.find(".box").before(e._data_tabs),t.each(n.tabs.tabs,function(t,e){!0===e.active&&(r=t)}),e._charts=t(e.options.templates.chartTemplate),n.list.before(e._charts);var s=i.render(e.options.templates.stackedBarTemplate,n);e._charts.append(s).addClass("is-vertical"),e._on({chart_stacked_vertical_resize:function(s,a){r=a.index;var o=e._returnPropDims(n.items,a.index),l=e._returnContent(n.items,a.index);t.each(e._charts.find(".chart__link"),function(r,s){var a=t(s),c=500*o[r],h=i.render(e.options.templates.stackedVerticalBarTemplate,n.items[r]);a.css({height:c}),a.find(".bar__inner").fadeOut(0).html("<span>"+l[r]+"</span>"+h).fadeIn("fast").css({top:c/2-6})}),a.tab=e._data_tabs.find(".data-tab").parent(),e._switchTabs(a)}}),e._trigger("stacked_vertical_resize",null,{index:r,tab:n.tabs.tabs}),n.list.addClass("is-hidden")},_setupStackedBarHorizontal:function(){var e=this,n=e._returnData(),r=0,s=t("html").hasClass("touch");e._data_tabs=t(e._tabBuilder(n.tabs)),e.element.find(".box").before(e._data_tabs),t.each(n.tabs.tabs,function(t,e){!0===e.active&&(r=t)}),e._charts=t(e.options.templates.chartTemplate),n.list.before(e._charts),e._icons=t.each(n.list.children(),function(r,s){t(s).prepend(i.render(e.options.templates.keyTemplate,n.items[r]))});var a=i.render(e.options.templates.stackedBarTemplate,n);e._charts.append(a),e._on({chart_stacked_horizontal_resize:function(i,a){r=a.index;var o=e._returnPercentDims(n.items,a.index),l=e._returnContent(n.items,a.index);t.each(e._charts.find(".chart__link"),function(e,i){var n=t(i);s?n.css({width:Math.floor(o[e])-.6+"%"}):n.css({width:o[e]+"%"}),n.find(".bar__inner").fadeOut(0).html(l[e]).fadeIn("fast")}),a.tab=e._data_tabs.find(".data-tab").parent(),e._switchTabs(a)}}),e._trigger("stacked_horizontal_resize",null,{index:r,tab:n.tabs.tabs}),e._charts.addClass("has-height"),n.list.removeClass("is-hidden")},_setupBar:function(){var e,n,r=this,s=0,a=r._returnData(),o=r._returnBarPercents(a.items);r._charts=t.each(r._$items,function(l,c){a.items[l].fill=a.line_color,a.items[l].w=o[l],e=t(c),e.append(i.render(r.options.templates.horizontalBarTemplate,a.items[l])),n=e.find(".chart__link__inner__text").width(),s=n>s?n:s}),r._charts.css({paddingRight:s+10+"px"}).find(".chart__link__inner__text").each(function(){t(this).css({right:-(t(this).width()+10)})})},_destroy:function(){var t=this;void 0!==t._charts&&(t.element.find(".chart__item__container").remove(),t._charts.removeAttr("style")),void 0!==t._data_tabs&&t._data_tabs.remove(),void 0!==t._icons&&t._icons.find(".chart__key__item").remove()}})}(jQuery,Raphael,Mustache),function(t){t.widget("cx.cookiebar",{options:{cookieDomain:".jisc.ac.uk",cookieName:"jisc_eprivacy",cookiePassiveValue:"passive-consent",cookiePassiveDuration:28,cookieAcceptValue:"active-consent",cookieActiveDuration:84,cookieRejectValue:"removed-consent"},_create:function(){this._checkCookie(),this._on(".cookie-bar__confirm",{click:this._acceptCookie}),this._on(".cookie-bar__reject",{click:this._rejectCookie})},_checkCookie:function(){var t=new RegExp(this.options.cookieName+"[^;]+").exec(document.cookie),e=unescape(t?t.toString().replace(/^[^=]+/,"").replace("=",""):"");this.eprivacy_current=e,""===this.eprivacy_current&&(this.eprivacy_current=this.options.cookiePassiveValue,this._eprivacy_save(this.options.cookiePassiveValue,this.options.cookiePassiveDuration))},_acceptCookie:function(){this._eprivacy_save(this.options.cookieAcceptValue,this.options.cookieActiveDuration),this.eprivacy_current=this.options.cookieAcceptValue},_rejectCookie:function(){var t=this;t._eprivacy_save(t.options.cookieRejectValue,t.options.cookieActiveDuration),t.eprivacy_current=t.options.cookieRejectValue,document.cookie.split("; ").forEach(function(e){document.cookie=e+" ; path=/; domain ="+t.options.cookieDomain+"; expires = Thu, 01 Jan 1970 00:00:01 GMT;"})},_eprivacy_save:function(t,e){var i=new Date,n=new Date;n.setTime(i.getTime()+864e5*e),document.cookie=this.options.cookieName+"="+escape(t)+";path=/;expires="+n.toGMTString(),t!==this.options.cookiePassiveValue&&this.element.slideUp()},destroy:function(){this._off(".cookie-bar__confirm","click")}})}(jQuery),function(t,e){"use strict";t.widget("cx.pagination",{options:{totalEntries:100,itemsPerPage:20,numDisplayEntries:6,currentPage:0,numEdgeEntries:2,linkClass:"pagination__link",prevText:' <span class="ico ico-arrow-left">&lt;</span> <span class="pagination__text">Previous</span> ',nextText:' <span class="pagination__text">Next </span> <span class="ico ico-arrow-right">&gt;</span> ',ellipseText:' <li class="pagination__item pagination__item--space">...</li> ',prevShowAlways:!0,nextShowAlways:!0,templates:{pageTemp:' <li class="pagination__item{{#current}} pagination__item--current{{/current}} {{#current1}} pagination__item--current1{{/current1}} {{#current2}} pagination__item--current2{{/current2}}{{#previous}} pagination__item--previous{{/previous}}{{#next}} pagination__item--next{{/next}}"><a href="#" class="pagination__link" data-id="{{{data}}}">{{{text}}}</a></li> '}},widgetEventPrefix:"pagination_",_create:function(){var e=this,i=e.options;e._currentPage=i.currentPage||0,e._totalEntries=i.totalEntries||1,e._itemsPerPage=!i.itemsPerPage||i.itemsPerPage<0?1:i.itemsPerPage,e._on(function(){var n={};return n["click ."+i.linkClass]=function(i){var n=t(i.currentTarget).data("id");i.preventDefault(),e._pageSelected(n),e._currentPage=n},n}()),e.selectPage=function(t){e._pageSelected(t)},e.prevPage=function(){return e._currentPage>0&&(e._pageSelected(e._currentPage-1),!0)},e.nextPage=function(){return e._currentPage<e._numPages()-1&&(e._pageSelected(e._currentPage+1),!0)},e._drawLinks()},_numPages:function(){var t=this;return Math.ceil(t._totalEntries/t._itemsPerPage)},_getInterval:function(){var t=this,e=t.options,i=Math.ceil(e.numDisplayEntries/2),n=t._numPages(),r=n-e.numDisplayEntries;return[t._currentPage>i?Math.max(Math.min(t._currentPage-i,r),0):0,t._currentPage>i?Math.min(t._currentPage+i,n):Math.min(e.numDisplayEntries,n)]},_pageSelected:function(t){var e=this;e._trigger("render_page_event",null,{current:t,totalEntries:e._totalEntries,itemsPerPage:parseInt(e._itemsPerPage,10)}),e._currentPage=t,e._drawLinks()},_drawLinks:function(){var i,n=this,r=n.options,s=n._getInterval(),a=n._numPages(),o=[],l=r.numEdgeEntries,c=r.ellipseText;if(a<2)return void n.element.empty();var h=function(i,s){i=i<0?0:i<a?i:a-1,s=t.extend({text:i+1},s||{}),i===n._currentPage&&!1!==s.current&&(s.current=!0),o.push(e.render(r.templates.pageTemp,s))};if((n._currentPage>0||r.prevShowAlways)&&h(n._currentPage-1,{text:r.prevText,data:0===n._currentPage?n._currentPage:n._currentPage-1,previous:!0,current:!1}),s[0]>0&&l>0){var u=Math.min(l,s[0]);for(i=0;i<u;i++)h(i,{text:i+1,data:i});l<s[0]&&c&&o.push(c)}for(i=s[0];i<s[1];i++)h(i,{text:i+1,data:i,current1:n._currentPage===i+1||n._currentPage===i-1,current2:n._currentPage===i+2||n._currentPage===i-2});if(s[1]<a&&l>0){a-l>s[1]&&o.push(c);var d=Math.max(a-l,s[1]);for(i=d;i<a;i++)h(i,{text:i+1,data:i})}(n._currentPage<a-1||r.nextShowAlways)&&h(n._currentPage+1,{text:r.nextText,data:n._currentPage===a-1?n._currentPage:n._currentPage+1,next:!0,current:!1}),o.join(","),n.element.html(o)},update:function(t){var e=this;e._itemsPerPage=t.itemsPerPage,e._totalEntries=t.totalEntries,e._currentPage=t.current,e._drawLinks()},_destroy:function(){}})}(jQuery,Mustache),function(t,e){"use strict";t.widget("cx.block_slide",{options:{isMobile:!1,slideDuration:500,showDefault:4,doubleRowClass:"project-slider__team__item",trigger:'<p class="cx_collapsibles__trigger has-no-icon project-slider__link">{{{show_text}}}</p>',wrapTemplate:'<div class="is-collapsible"><div class="cx_collapsibles__target"></div></div>'},widgetEventPrefix:"block_",_create:function(){var i,n,r,s=this,a=!0;s._title=s.element.data("title")||"items",s.element.on("collapsiblesexpand",function(){s.element.find(".cx_collapsibles__trigger>a").text("Show fewer "+s._title)}),s.element.on("collapsiblescollapse",function(){a||(s.element.find(".cx_collapsibles__trigger>a").text("Show all "+i+" "+s._title),s.options.isMobile&&t.scrollTo(s.element.prev(),400)),a=!1}),s._original=s.element.clone(!0,!0),s._numItemsDesktop=s.element.data("view-desktop")||s.options.showDefault,s._numItemsMobile=s.element.data("view-mobile")||s.options.showDefault,r=s.element.children(),s.element.hasClass("is-double-row")?(n=s.element.find("."+s.options.doubleRowClass),i=n.length):i=r.length,s._spliceItems(r,s._numItemsDesktop,i).wrapAll(s.options.wrapTemplate);var o={show_text:"Show all "+i+" "+s._title};s._triggerLink=e.render(s.options.trigger,o),s.element.find(".is-collapsible").append(s._triggerLink).collapsibles()},_spliceItems:function(t,e,i){var n=e,r=i;return t.slice(n,r)},_setOption:function(t,e){this._super(t,e)},_destroy:function(){}})}(jQuery,Mustache),function(t){"use strict";t.widget("cx.scroll_to",{options:{duration:500,noScrollClass:"has-no-scroll"},widgetEventPrefix:"scroll_to_",_create:function(){var e=this,i=t.url(e.element.prop("href")),n=i.attr("fragment");e._target=t("#"+n),e._on({click:function(t){t.preventDefault(),e.scrollTo(e._target)}})},scrollTo:function(e){var i=this;i.element.hasClass(i.options.noScrollClass)||t.scrollTo(e.offset().top,i.options.duration,{onAfter:function(){i._trigger("scrollTo")}})},_destroy:function(){}})}(jQuery),function(t){"use strict";t.widget("cx.scroll_in",{options:{offset:200,fadeSpeed:300},_create:function(){var e=this,i=e.options;e._positions=[],e._viewportHeight=e.window.height(),e._elementOffset=parseInt(e.element.css("marginTop"),10),e._list=e.element.find(".block__item"),e._list.not(":first").css({top:i.offset,opacity:0}),t.each(e._list,function(){e._positions.push(t(this).offset().top)}),e._on(e.window,{scroll:function(){e._scroll(e.window.scrollTop())},load:function(){e._scroll(e.window.scrollTop())}})},_scroll:function(e){var i=this;i._list.length>0?i._list.each(function(n){i._positions[n]<e+i._viewportHeight+i.options.offset&&(i._positions.splice(n,1),i._list.splice(n,1),t(this).css({top:0,opacity:1}))}):i._off(i.window,"scroll")},_destroy:function(){}})}(jQuery),function(t){"use strict";t.widget("cx.ui_block",{options:{containerClass:"uiblock",loadingClass:"blocker-loading",blockingClass:"blocker-underlay",lowZindexClass:"blocker-underlay--low",underlayTemplate:'<div class="blocker-underlay"></div>',fadeDuration:500,showLoader:!0,lowZ:!1},widgetEventPrefix:"block_",_create:function(){var e=this;e._transit=t("html").hasClass("csstransitions"),e._on({faceted_search_open_block:function(t,i){e.openBlocker(i)}}),e._on({faceted_search_close_block:function(t,i){e.closeBlocker(i)}}),e._loader=t('<div class="blocker-loading"><span class="blocker-loading__icon"></span></div>'),e._loader.hide(),e._underlay=t(e.options.underlayTemplate),e._underlay.hide(),e._initialised=!1},_setup:function(){var t=this;!1===t._initialised&&(t._initialised=!0,t._underlay.appendTo(t.element),t._extraUnderlay=t._underlay.clone(),t._extraUnderlay.appendTo(t.element).addClass(t.options.lowZindexClass))},openBlocker:function(e){var i=this,n=i.element.height(),r=t(window).height();i._setup(),void 0!==e&&e.lowZ?(i._extraUnderlay.show().height(n).addClass("is-open is-visible"),i._transit||i._extraUnderlay.fadeTo(0,.8)):(i._underlay.show().height(n).addClass("is-open is-visible"),i._transit||i._underlay.fadeTo(i.options.fadeDuration,.4)),!1!==e.showLoader&&i.options.showLoader&&i._loader.appendTo(i.element).css({left:"50%",marginLeft:-i._loader.width()/2,top:r/2+i.window.scrollTop()}).fadeIn(i.options.fadeDuration)},closeBlocker:function(t){var e=this;e._loader.fadeOut(e.options.fadeDuration/2),e._underlay.removeClass("is-open"),e._transit||e._underlay.fadeOut(0),setTimeout(function(){e._underlay.removeClass("is-visible").hide()},e.options.fadeDuration),void 0!==t&&t.lowZ&&(e._extraUnderlay.removeClass("is-open"),e._transit||e._extraUnderlay.fadeOut(0),setTimeout(function(){e._extraUnderlay.removeClass("is-visible").hide()},0))},_destroy:function(){var t=this;t._loader.remove(),t._underlay.remove(),t._extraUnderlay.remove()}})}(jQuery),function(t,e,i){function n(){return"function"!=typeof e.createElement?e.createElement(arguments[0]):k?e.createElementNS.call(e,"http://www.w3.org/2000/svg",arguments[0]):e.createElement.apply(e,arguments)}function r(t,e){return typeof t===e}function s(t){return t.replace(/([a-z])-([a-z])/g,function(t,e,i){return e+i.toUpperCase()}).replace(/^-/,"")}function a(){var t=e.body;return t||(t=n(k?"svg":"body"),t.fake=!0),t}function o(t,i,r,s){var o,l,c,h,u="modernizr",d=n("div"),p=a();if(parseInt(r,10))for(;r--;)c=n("div"),c.id=s?s[r]:u+(r+1),d.appendChild(c);return o=n("style"),o.type="text/css",o.id="s"+u,(p.fake?p:d).appendChild(o),p.appendChild(d),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(e.createTextNode(t)),d.id=u,p.fake&&(p.style.background="",p.style.overflow="hidden",h=w.style.overflow,w.style.overflow="hidden",w.appendChild(p)),l=i(d,t),p.fake?(p.parentNode.removeChild(p),w.style.overflow=h,w.offsetHeight):d.parentNode.removeChild(d),!!l}function l(t,e){return!!~(""+t).indexOf(e)}function c(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-")}function h(e,i,n){var r;if("getComputedStyle"in t){r=getComputedStyle.call(t,e,i);var s=t.console;if(null!==r)n&&(r=r.getPropertyValue(n));else if(s){var a=s.error?"error":"log";s[a].call(s,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}}else r=!i&&e.currentStyle&&e.currentStyle[n];return r}function u(e,n){var r=e.length;if("CSS"in t&&"supports"in t.CSS){for(;r--;)if(t.CSS.supports(c(e[r]),n))return!0;return!1}if("CSSSupportsRule"in t){for(var s=[];r--;)s.push("("+c(e[r])+":"+n+")");return s=s.join(" or "),o("@supports ("+s+") { #modernizr { position: absolute; } }",function(t){return"absolute"==h(t,null,"position")})}return i}function d(t,e,a,o){function c(){d&&(delete M.style,delete M.modElem)}if(o=!r(o,"undefined")&&o,!r(a,"undefined")){var h=u(t,a);if(!r(h,"undefined"))return h}for(var d,p,f,g,m,_=["modernizr","tspan","samp"];!M.style&&_.length;)d=!0,M.modElem=n(_.shift()),M.style=M.modElem.style;for(f=t.length,p=0;f>p;p++)if(g=t[p],m=M.style[g],l(g,"-")&&(g=s(g)),M.style[g]!==i){if(o||r(a,"undefined"))return c(),"pfx"!=e||g;try{M.style[g]=a}catch(t){}if(M.style[g]!=m)return c(),"pfx"!=e||g}return c(),!1}function p(t,e){return function(){return t.apply(e,arguments)}}function f(t,e,i){var n;for(var s in t)if(t[s]in e)return!1===i?t[s]:(n=e[t[s]],r(n,"function")?p(n,i||e):n);return!1}function g(t,e,i,n,s){var a=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+E.join(a+" ")+a).split(" ");return r(e,"string")||r(e,"undefined")?d(o,e,n,s):(o=(t+" "+T.join(a+" ")+a).split(" "),f(o,e,i))}function m(t,e,n){return g(t,i,i,e,n)}var _=[],v=[],b={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,e){var i=this;setTimeout(function(){e(i[t])},0)},addTest:function(t,e,i){v.push({name:t,fn:e,options:i})},addAsyncTest:function(t){v.push({name:null,fn:t})}},y=function(){};y.prototype=b,y=new y,y.addTest("svg",!!e.createElementNS&&!!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect);var x=b._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];b._prefixes=x;var w=e.documentElement,k="svg"===w.nodeName.toLowerCase(),C="Moz O ms Webkit",T=b._config.usePrefixes?C.toLowerCase().split(" "):[];b._domPrefixes=T,y.addTest("cssgradients",function(){for(var t,e="background-image:",i="",r=0,s=x.length-1;s>r;r++)t=0===r?"to ":"",i+=e+x[r]+"linear-gradient("+t+"left top, #9f9, white);";y._config.usePrefixes&&(i+=e+"-webkit-gradient(linear,left top,right bottom,from(#9f9),to(white));");var a=n("a"),o=a.style;return o.cssText=i,(""+o.backgroundImage).indexOf("gradient")>-1}),y.addTest("csspositionsticky",function(){var t="position:",e="sticky",i=n("a"),r=i.style;return r.cssText=t+x.join(e+";"+t).slice(0,-t.length),-1!==r.position.indexOf(e)});var E=b._config.usePrefixes?C.split(" "):[];b._cssomPrefixes=E;var j=function(){var e=t.matchMedia||t.msMatchMedia;return e?function(t){var i=e(t);return i&&i.matches||!1}:function(e){var i=!1;return o("@media "+e+" { #modernizr { position: absolute; } }",function(e){i="absolute"==(t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle).position}),i}}();b.mq=j;var D=b.testStyles=o;y.addTest("touchevents",function(){var i;if("ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch)i=!0;else{var n=["@media (",x.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");D(n,function(t){i=9===t.offsetTop})}return i});var S={elem:n("modernizr")};y._q.push(function(){delete S.elem});var M={style:S.elem.style};y._q.unshift(function(){delete M.style}),b.testProp=function(t,e,n){return d([t],i,e,n)},b.testAllProps=g,b.testAllProps=m,y.addTest("boxshadow",m("boxShadow","1px 1px",!0)),y.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&m("transform","scale(1)",!0)}),y.addTest("csstransitions",m("transition","all",!0)),function(){var t,e,i,n,s,a,o;for(var l in v)if(v.hasOwnProperty(l)){if(t=[],e=v[l],e.name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(i=0;i<e.options.aliases.length;i++)t.push(e.options.aliases[i].toLowerCase());for(n=r(e.fn,"function")?e.fn():e.fn,s=0;s<t.length;s++)a=t[s],o=a.split("."),1===o.length?y[o[0]]=n:(!y[o[0]]||y[o[0]]instanceof Boolean||(y[o[0]]=new Boolean(y[o[0]])),y[o[0]][o[1]]=n),_.push((n?"":"no-")+o.join("-"))}}(),function(t){var e=w.className,i=y._config.classPrefix||"";if(k&&(e=e.baseVal),y._config.enableJSClass){var n=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");e=e.replace(n,"$1"+i+"js$2")}y._config.enableClasses&&(e+=" "+i+t.join(" "+i),k?w.className.baseVal=e:w.className=e)}(_),delete b.addTest,delete b.addAsyncTest;for(var I=0;I<y._q.length;I++)y._q[I]();t.Modernizr=y}(window,document),function(t,e){function i(t,e){var i=t.createElement("p"),n=t.getElementsByTagName("head")[0]||t.documentElement;return i.innerHTML="x<style>"+e+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var t=w.elements;return"string"==typeof t?t.split(" "):t}function r(t){var e=x[t[b]];return e||(e={},y++,t[b]=y,x[y]=e),e}function s(t,i,n){if(i||(i=e),g)return i.createElement(t);n||(n=r(i));var s;return s=n.cache[t]?n.cache[t].cloneNode():v.test(t)?(n.cache[t]=n.createElem(t)).cloneNode():n.createElem(t),s.canHaveChildren&&!_.test(t)?n.frag.appendChild(s):s}function a(t,i){if(t||(t=e),g)return t.createDocumentFragment();i=i||r(t);for(var s=i.frag.cloneNode(),a=0,o=n(),l=o.length;a<l;a++)s.createElement(o[a]);return s}function o(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return w.shivMethods?s(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(w,e.frag)}function l(t){t||(t=e);var n=r(t);return!w.shivCSS||f||n.hasCSS||(n.hasCSS=!!i(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),g||o(t,n),t}function c(t){for(var e,i=t.getElementsByTagName("*"),r=i.length,s=RegExp("^(?:"+n().join("|")+")$","i"),a=[];r--;)e=i[r],s.test(e.nodeName)&&a.push(e.applyElement(h(e)));return a}function h(t){for(var e,i=t.attributes,n=i.length,r=t.ownerDocument.createElement(C+":"+t.nodeName);n--;)e=i[n],e.specified&&r.setAttribute(e.nodeName,e.nodeValue);return r.style.cssText=t.style.cssText,r}function u(t){for(var e,i=t.split("{"),r=i.length,s=RegExp("(^|[\\s,>+~])("+n().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),a="$1"+C+"\\:$2";r--;)e=i[r]=i[r].split("}"),e[e.length-1]=e[e.length-1].replace(s,a),i[r]=e.join("}");return i.join("{")}function d(t){for(var e=t.length;e--;)t[e].removeNode()}function p(t){function e(){clearTimeout(a._removeSheetTimer),n&&n.removeNode(!0),n=null}var n,s,a=r(t),o=t.namespaces,l=t.parentWindow;return!T||t.printShived?t:(void 0===o[C]&&o.add(C),l.attachEvent("onbeforeprint",function(){e();for(var r,a,o,l=t.styleSheets,h=[],d=l.length,p=Array(d);d--;)p[d]=l[d];for(;o=p.pop();)if(!o.disabled&&k.test(o.media)){try{r=o.imports,a=r.length}catch(t){a=0}for(d=0;d<a;d++)p.push(r[d]);try{h.push(o.cssText)}catch(t){}}h=u(h.reverse().join("")),s=c(t),n=i(t,h)}),l.attachEvent("onafterprint",function(){d(s),clearTimeout(a._removeSheetTimer),a._removeSheetTimer=setTimeout(e,500)}),t.printShived=!0,t)}var f,g,m=t.html5||{},_=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,v=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,b="_html5shiv",y=0,x={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",f="hidden"in t,g=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){f=!0,g=!0}}();var w={elements:m.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.6.2",shivCSS:!1!==m.shivCSS,supportsUnknownElements:g,shivMethods:!1!==m.shivMethods,type:"default",shivDocument:l,createElement:s,createDocumentFragment:a};t.html5=w;var k=/^$|\b(?:all|print)\b/,C="html5shiv",T=!g&&function(){var i=e.documentElement;return!(void 0===e.namespaces||void 0===e.parentWindow||void 0===i.applyElement||void 0===i.removeNode||void 0===t.attachEvent)}();w.type+=" print",w.shivPrint=p,p(e)}(this,document),function(t){var e={};t.publish=function(i,n){e[i]&&t.each(e[i],function(){try{this.apply(t,n||[])}catch(t){console.log(t)}})},t.subscribe=function(t,i){return e[t]||(e[t]=[]),e[t].push(i),[t,i]},t.unsubscribe=function(i,n){
e[i]&&t.each(e[i],function(t){this==n&&e[i].splice(t,1)})},t.subscribers=function(i){return l=[],e[i]&&t.each(e[i],function(t){l.push(this.name)}),l}}(jQuery),function(t){"use strict";function e(){y(!0)}var i={};if(t.respond=i,i.update=function(){},i.mediaQueriesSupported=t.matchMedia&&t.matchMedia("only all").matches,!i.mediaQueriesSupported){var n,r,s,a=t.document,o=a.documentElement,l=[],c=[],h=[],u={},d=a.getElementsByTagName("head")[0]||o,p=a.getElementsByTagName("base")[0],f=d.getElementsByTagName("link"),g=[],m=function(){for(var e=0;f.length>e;e++){var i=f[e],n=i.href,r=i.media,s=i.rel&&"stylesheet"===i.rel.toLowerCase();n&&s&&!u[n]&&(i.styleSheet&&i.styleSheet.rawCssText?(v(i.styleSheet.rawCssText,n,r),u[n]=!0):(!/^([a-zA-Z:]*\/\/)/.test(n)&&!p||n.replace(RegExp.$1,"").split("/")[0]===t.location.host)&&g.push({href:n,media:r}))}_()},_=function(){if(g.length){var t=g.shift();x(t.href,function(e){v(e,t.href,t.media),u[t.href]=!0,setTimeout(function(){_()},0)})}},v=function(t,e,i){var n=t.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),r=n&&n.length||0;e=e.substring(0,e.lastIndexOf("/"));var s=function(t){return t.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+e+"$2$3")},a=!r&&i;e.length&&(e+="/"),a&&(r=1);for(var o=0;r>o;o++){var h,u,d,p;a?(h=i,c.push(s(t))):(h=n[o].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1,c.push(RegExp.$2&&s(RegExp.$2))),d=h.split(","),p=d.length;for(var f=0;p>f;f++)u=d[f],l.push({media:u.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rules:c.length-1,hasquery:u.indexOf("(")>-1,minw:u.match(/\(min\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:u.match(/\(max\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}y()},b=function(){var t,e=a.createElement("div"),i=a.body,n=!1;return e.style.cssText="position:absolute;font-size:1em;width:1em",i||(i=n=a.createElement("body"),i.style.background="none"),i.appendChild(e),o.insertBefore(i,o.firstChild),t=e.offsetWidth,n?o.removeChild(i):i.removeChild(e),t=s=parseFloat(t)},y=function(t){var e="clientWidth",i=o[e],u="CSS1Compat"===a.compatMode&&i||a.body[e]||i,p={},g=f[f.length-1],m=(new Date).getTime();if(t&&n&&30>m-n)return clearTimeout(r),void(r=setTimeout(y,30));n=m;for(var _ in l)if(l.hasOwnProperty(_)){var v=l[_],x=v.minw,w=v.maxw,k=null===x,C=null===w;x&&(x=parseFloat(x)*(x.indexOf("em")>-1?s||b():1)),w&&(w=parseFloat(w)*(w.indexOf("em")>-1?s||b():1)),v.hasquery&&(k&&C||!(k||u>=x)||!(C||w>=u))||(p[v.media]||(p[v.media]=[]),p[v.media].push(c[v.rules]))}for(var T in h)h.hasOwnProperty(T)&&h[T]&&h[T].parentNode===d&&d.removeChild(h[T]);for(var E in p)if(p.hasOwnProperty(E)){var j=a.createElement("style"),D=p[E].join("\n");j.type="text/css",j.media=E,d.insertBefore(j,g.nextSibling),j.styleSheet?j.styleSheet.cssText=D:j.appendChild(a.createTextNode(D)),h.push(j)}},x=function(t,e){var i=w();i&&(i.open("GET",t,!0),i.onreadystatechange=function(){4!==i.readyState||200!==i.status&&304!==i.status||e(i.responseText)},4!==i.readyState&&i.send(null))},w=function(){var e=!1;try{e=new t.XMLHttpRequest}catch(i){e=new t.ActiveXObject("Microsoft.XMLHTTP")}return function(){return e}}();m(),i.update=m,t.addEventListener?t.addEventListener("resize",e,!1):t.attachEvent&&t.attachEvent("onresize",e)}}(this),function(t){t("div.article-full__body").each(function(){if("0"!=t("div.article-full__body").find("hr.project-divider").length){var e=t("div.article-full__body").html().split('<hr class="project-divider">');1==e.length&&(e=t("div.article-full__body").html().split("<HR class=project-divider>"));for(var i=e.length,n='<div class="article-full__body">',r='<div class="article-full__body read-more-break-container"><div class="read-more-break-content">',s=0;s<i;s++)s<i-1?n+=t.trim(e[s]):r+=t.trim(e[s]);n+="</div>",r+='</div><p class="read-more-break-trigger"><a href="#">Show more</a></p></div>',t("div.article-full__body").replaceWith(n+r)}})}(jQuery),function(t){t(".jisc__giganav__trigger").on("click",function(e){t(this).parent().next("ul").slideToggle(),t(this).children().toggleClass("ico-arrow-down ico-arrow-up"),t(this).attr("aria-expanded",function(t,e){return"true"==e?"false":"true"})}),t(".jisc__giganav__trigger").keypress(function(e){13==e.which&&t(this).click()}),Drupal.behaviors.GigaNav={attach:function(e,i){1==window.matchMedia("screen and (max-width: 629px)").matches?(t(".giganav").removeClass("header-desktop"),t(".giganav").addClass("header-mobile")):(t(".giganav").removeClass("header-mobile"),t(".giganav").addClass("header-desktop")),t(window).resize(function(){1==window.matchMedia("screen and (max-width: 629px)").matches?(t(".giganav").removeClass("header-desktop"),t(".giganav").addClass("header-mobile")):(t(".giganav").removeClass("header-mobile"),t(".giganav").addClass("header-desktop"))})}}}(jQuery),function(t){t(".doorbell-container").length&&(window.doorbellOptions={container:document.getElementById("feedback-container"),appKey:"dgo6gqtZfJrHWZspEqE50CA7dV3u9w0td9m7Oc8BboBfOktrZUDvgqKQhnMaBCeR"},function(t,e,i){function n(){if(!r){r=!0,window.doorbellOptions.windowLoaded=!0;var t=e.createElement(i);t.id="doorbellScript",t.type="text/javascript",t.async=!0,t.src="https://embed.doorbell.io/button/5239?t="+(new Date).getTime(),(e.getElementsByTagName("head")[0]||e.getElementsByTagName("body")[0]).appendChild(t)}}var r=!1;t.attachEvent?t.attachEvent("onload",n):t.addEventListener?t.addEventListener("load",n,!1):n(),"complete"==e.readyState&&n()}(window,document,"script"),t(".doorbell-trigger").on("click",function(){t(this).next(".doorbell-content").toggleClass("visuallyhidden")}))}(jQuery);;
(function($) {

  Drupal.behaviors.jisc_clean = {
    attach: function (context, settings) {
        // Use html5 validation for webforms only on visible (not hidden) required fields.
        $('span.form-required').parent().siblings(':input').not(':hidden').attr('required', true);

      if (!$('#cookie-bar-main').is(":visible")){
          // Get eprivacy cookie
          var cookiestring = new RegExp('jisc_eprivacy[^;]+').exec(document.cookie);
          var eprivacy_current = unescape(!!cookiestring ? cookiestring.toString().replace(/^[^=]+/, '').replace('=', '') : '');

          if(eprivacy_current === "") {
              $('#cookie-bar-main').slideDown();
          }
      }

      $('section.is-collapsible.user-created').each(function() {

        $('.hero .field-type-image img').click(function(){
          var href = $('.hero__copy a.hero__copy__sublink',$(this).parents('.hero')).attr('href');
          if (href) {
            window.location.href = href;
          }
        });

        $('.hero .field-type-image img').each(function(){
          var href = $('.hero__copy a.hero__copy__sublink').attr('href');
          if (typeof href !== "undefined") {
            $(this).css( 'cursor', 'pointer' );
          }
        });

        // Add a border to the top of the section if it is not immediately preceded by another section
        if ($(this).prev().prop('tagName') != 'SECTION') {
          $(this).css('border-top', '1px solid #d5dee2');
        }

        // Add padding to the bottom of a section if it is not immediately followed by another section
        if ($(this).next().prop('tagName') != 'SECTION') {
          $(this).css('margin-bottom', '27px');
        }
      });

      // Function to run when the window is resized
      var resizeTimer;
      var currentSize;
      $(window).resize(function () {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(Resized, 10);
        if ($('body').hasClass('page-staff')){
          backtothetop();
        }
      });

      //We need to also run the function on document ready
      $(document).ready(function() {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(Resized, 10);
        if ($('body').hasClass('page-staff')){
          backtothetop();
        }

        if (location.hash) {
          openDivUnderAnchor(location.hash);
          $('html, body').animate({
              scrollTop: $( location.hash ).offset().top
              }, 500);
        }

      });

      function Resized() {
        // Set height of carousel slide container to that of the contained image
        $('.gallery-slides').height($('.gallery-slides li.gallery-slide').not(":hidden").find('img').height());
      }

      // Trigger the appropiate events on click
      var intervallist = setInterval(function() { $('a.next-slide').trigger('click'); }, 3000);
      //Pause slides on hover
      $(".gallery-slides, .gallery-thumbs ul li").mouseover(function(){
        clearInterval(intervallist);
        $(".pause-icon").show()
      });
      $(".gallery-slides, .gallery-thumbs ul li").mouseout(function(){
        intervallist = setInterval(function() { $('a.next-slide').trigger('click'); }, 3000);
        $(".pause-icon").hide()
      });

      $( ".gallery-slides img, .gallery-thumbs ul li img" ).tooltip({ disabled: true });


      // wrap the driver image in an anchor to the supplied link
      $('.teaser-home.has-media,.teaser.has-media').each(function() {
        var link = $(this).find('.teaser__title a').attr('href');
        if(link !== undefined){
          $(this).find('img').wrap('<a href="' + link + '" />');
        }
      });

      $('.field-type-viewfield > h3').each(function(){
      });

      // Rewritten Read More break

      $(document).ready(function () {
        $(".read-more-break-content").hide();
      });

      $(document).on("click", ".read-more-break-trigger", function (e) {
        e.preventDefault();

        var container = $(this).parent();

        if ($(container).hasClass("read-more-break-expanded")) {
          $(container).find(".read-more-break-content").slideUp();
          $(container).removeClass("read-more-break-expanded");
          $(container).find("p a").html(Drupal.t("Show more"));
        } else {
          $(container).find(".read-more-break-content").slideDown();
          $(container).addClass("read-more-break-expanded");
          $(container).find("p a").html(Drupal.t("Show less"));
        }
      });

    }
  }
/*
* Set up required for Google  Recaptcha.
* **/
 window.onload = function() {
    var recaptcha = document.querySelector('#g-recaptcha-response');
    var ele = document.getElementById('recaptcha');
    if(recaptcha) {
        recaptcha.setAttribute("required", "required");
    }
};

  /**
   * @returns 
   */
  function backtothetop() {
    // Back to top stuff on staff page
    var back_to_top = $('.back-to-top');
    var offset_container = $('.field-type-viewfield').offset();
    var bottom_of_view = offset_container.top + $('.page-staff .field-type-viewfield').height();
    var right_of_view = $(window).width() - (offset_container.left + $('.field-type-viewfield').outerWidth());

    $(back_to_top).css("right", right_of_view);

    $(window).scroll(function() {
      // Must be in the height of the container
      if ($(this).scrollTop() > offset_container.top + 70 && $(this).scrollTop() < bottom_of_view - 30) {
          $(back_to_top).css("position", "fixed")
                        .css("display", "block")
                        .css("top", "0px");
      } else {
          $(back_to_top).hide();
      }
    });
  }

  // Gallery slide fixes for portrait images
  (jQuery)(window).bind('load', function() {
    var $slides = $('li.gallery-slide');

    // PATCH - https://www.drupal.org/node/1135118#comment-5656094

    var mainContainerWidth = $(".gallery-slides").width();
    var unitSlideWidth;
    $slides.each(function(){
      unitSlideWidth = $(this).width();
      $(this).css("margin-left",((mainContainerWidth-unitSlideWidth)/2)+"px");
    });
  });

  // Fix for Quicktabs default tab on Contact page (Our Offices)

  $('.t-contact > .ui-tabs').ready(function() {
    if (window.location.hash.indexOf("#tab-") !== 0) {
      if (Drupal.settings.quicktabs && Drupal.settings.quicktabs.qt_ouroffices && Drupal.settings.quicktabs.qt_ouroffices.active_tab) {
        // Fire click event for active tab
        $(this).find('a[href$="#tab-4-' + Drupal.settings.quicktabs.qt_ouroffices.active_tab + '"]').click();
      }
    }
  });

  // Somewhat ugly fix for IE11 and maybe Safari not passing the anchor
  // through on Events search page.

  $(document).on("submit", '#views-exposed-form-events-solr-view--page', function (e) {

    if($(this).find("#edit-event-resources")) {

      e.preventDefault();

      window.location.href = '/events?' + $(this).serialize() + '#event-tabs-past';

    }

  });

  //Check if social share is offscreen before adding the second share box
  if($('div[role="complementary"] .social-share').length && $('.social-share').length == 2) {
    var ssBlue  = $('.social-share')[0];
    var ssWhite = $('.social-share')[1];
    $(window).on("load resize scroll",function(e){
      if( $(ssWhite).visible(true) ){
        $(ssBlue).hide();
      } else {
        $(ssBlue).show();
      }
    });
  }

  /*
  * JavaScript functionality for front-end interactions with the cookie box.
  */

  // Fontawesome classes for the toggle on/off states
  var TOGGLE_ON_FA_ICON_CLASS = "far fa-lg fa-toggle-on";
  var TOGGLE_OFF_FA_ICON_CLASS = "far fa-lg fa-toggle-off";

  // Data values for eprivacy/cookie states
  var COOKIE_NAME = "jisc_eprivacy";
  var DATA_COOKIES_ACCEPTED = "active-consent";
  var DATA_COOKIES_REJECTED = "removed-consent";

  function getEPrivacyCookieValue(){
      // Get name followed by anything except a semicolon
      var cookiestring = new RegExp(COOKIE_NAME + '[^;]+').exec(document.cookie);
      // Return everything after the equal sign
      var value = unescape(!!cookiestring ? cookiestring.toString().replace(/^[^=]+/, '').replace('=', '') : '');
      return value;
  }

  var cookieValue = getEPrivacyCookieValue();

  // Set text display on load without setting cookie
  updateCookieTexts(false);

  // When user clicks cookie toggle button
  $('.jsCookieToggle').click(function(e) {
      e.preventDefault();

      cookieValue = getEPrivacyCookieValue();
      // Update texts and cookie value
      updateCookieTexts(true);
  });

  /**
   * Update the HTML when a user toggles the cookie state. 
   * 
   * @param {boolean} setCookie false for page load (displaying), true for update/toggle.
   */
  function updateCookieTexts(setCookie){
      // Hide all cookie states.
      $('.jsCookiePassive').hide();
      $('.jsCookieAccepted').hide();
      $('.jsCookieRejected').hide();
      $('.jsCookieTitleEnabled').hide();
      $('.jsCookieTitleDisabled').hide();

      if(cookieValue === DATA_COOKIES_REJECTED) {
          if(setCookie === true) {
              // Set accept, toggle on
              var cookieExpiry = makeExpiry(84);
              document.cookie = COOKIE_NAME + '=' + DATA_COOKIES_ACCEPTED + ';path=/;expires=' + makeExpiry(84);
              displayToggle("accept");
          } else {
              // Display current state
              displayToggle("reject");
          }
      } else if(cookieValue === DATA_COOKIES_ACCEPTED) {
          if(setCookie === true){
              // Set reject, toggle off
              document.cookie = COOKIE_NAME + '=' + DATA_COOKIES_REJECTED + ';path=/;expires=' + makeExpiry(84);
              displayToggle("reject");
          } else {
              // Display current state
              displayToggle("accept");
          }

      } else {
          // Passive / no cookie
          if(setCookie === true){
              // If it was a click, change to reject
              document.cookie = COOKIE_NAME + '=' + DATA_COOKIES_REJECTED + ';path=/;expires=' + makeExpiry(84);
              displayToggle("reject");
              // Display could end up wrong when toggling back - change value in document scope to match
              cookieValue = DATA_COOKIES_REJECTED;
          } else {
              // Page load only, show 'on'
              displayToggle("passive");
          }
      }
  }

  /**
   * Toggles the text on the cookie status box based on the cookie state.
   * 
   * @param {string} state the state of the cookie, i.e. accepted, rejected, or passive.
   */
  function displayToggle(state){
      if(state === "reject"){
          $('.jsCookieToggle > i').removeClass(TOGGLE_ON_FA_ICON_CLASS).addClass(TOGGLE_OFF_FA_ICON_CLASS);          
          $('.jsCookieRejected').show();
          $('.jsCookieTitleDisabled').show();
          addCookiesDisabledStyling();
      } else if(state === "accept"){
          $('.jsCookieToggle > i').removeClass(TOGGLE_OFF_FA_ICON_CLASS).addClass(TOGGLE_ON_FA_ICON_CLASS);
          $('.jsCookieAccepted').show();
          $('.jsCookieTitleEnabled').show();
          removeCookiesDisabledStyling();
      } else {
          $('.jsCookieToggle > i').removeClass(TOGGLE_OFF_FA_ICON_CLASS).addClass(TOGGLE_ON_FA_ICON_CLASS);
          $('.jsCookiePassive').show();
          $('.jsCookieTitleEnabled').show();
          removeCookiesDisabledStyling();
      }

      // Once the cookie states have been configured, show the cookie box.
      $('.jsCookieBox').show();
  }

  /**
   * Removes the styling for the cookie toggle icon and status copy when cookies are disabled.
   */
  function removeCookiesDisabledStyling() {
    $('.jsCookieToggle').removeClass('is-disabled');
    $('.jsCookieStatus').removeClass('is-disabled');
  }

  /**
   * Adds the styling for the cookie toggle icon and status copy when cookies are enabled/passive.
   */
  function addCookiesDisabledStyling() {
    $('.jsCookieToggle').addClass('is-disabled');
    $('.jsCookieStatus').addClass('is-disabled');
  }

  /**
   * Creates an expiration date in GMT date format.
   * 
   * @param {int} daysFromNow the date for the number of days from the current time.
   * @returns {string} an expiration date in GMT string format.
   */
  function makeExpiry(daysFromNow){
      var today = new Date();
      var expire = new Date();
      var timestamp = expire.setTime(today.getTime() + 3600000 * 24 * daysFromNow);
      return new Date(timestamp).toGMTString();
  }

})(jQuery);;
(function ($) {
  'use strict';


  /*
  ==============================
  Loads a timeline on a project
  ==============================
  */

  $(document).ready(function () {

    if (Drupal.settings.project_id) {

      fetchtimeline();

    }

  });

  var fetchtimeline = function () {

    var data = {},
      fetchresults;

    if (Drupal.settings.project_id) {
      data.project_id = Drupal.settings.project_id;
    }

    //How many results to load and how many have already been loaded (this latter option sent to the server to use as an offset, it changes when new results are loaded)

    data.resultcount = 5;
    data.loaded = 5;

    fetchresults = function () {

      $.getJSON('/server/timeline-events', data, function (response) {

        //Set variables for the server's total number of items for this project and the array of items loaded this time

        var total = response.total_results,
          items = response.items;

        //        items.shift();

        // Add each item to the timeline before the last item which is the project start

        items.forEach(function (element, index) {

          var internal = $.parseHTML(element.content);

          if (element.type === "divider") {

            // Check if divider already exists

            if ($("[data-year-range=" + element.year_1 + "-" + element.year_2 + "]").length !== 0) {

              return false;

            }

          }

          $(".timeline__item--last").before(element.content);

          //Don't count dividers as items

          if (element.type !== "divider") {

            data.loaded += 1;

          }

        });

        //Get the counts for how many items will be loaded in each show more press

        var manyleft = total - data.loaded,
          nextload;

        if (manyleft < data.resultcount) {

          nextload = manyleft;

        } else {

          nextload = data.resultcount;

        }

        //Rewrite manyleft variable as text (for single, plural)

        if (manyleft > 1) {

          manyleft = "There are " + manyleft + " more posts";

        } else {

          manyleft = "There is one more post";

        }

        //Remove the show more button if there is already one present (it'll be replaced with a new one at the end of the timeline)

        $(".timeline__item--show").remove();

        //Add the show more button if there are any results left to load

        if (data.loaded < total) {

          $(".timeline__item--last").before('<div class="timeline__item timeline__item--show"><div class="timeline__box"><a id="timeline_showmore" href="#"><article class="box box--timeline-number"><div class="box__inner"><h3 class="box__title box__title--large box__title--nomargin">+' + nextload + '</h3></div></article><span class="timeline__item--show__link">' + manyleft + '</span></a></div></div>');

          //Press the show more button to load more results

          $(".timeline__item--show").on("click", 'a', function (e) {

            fetchresults();
            e.preventDefault();

            var target = $(e.currentTarget);

            //Lift up animation for loading items 

            var scrolloffset = target.offset().top;

            target.delay(500).slideUp(500, function () {

            });

          });

        }

        //Render the Creative Commons image data fields (see below)
        CCattribution_render();

      });

    };

    fetchresults();

    //Function for rendering the Creative Commons media attribution (this should probably be a global thing as it's used in multiple places)

    var CCattribution_render = function CCattribution_render() {
      var block = $('.media__attribution:not(".cx__rollup")');

      if (!block.data('cx-cx_rollup')) {
        block.cx_rollup({
          breakout: {
            parents: '.region--2-up, .region--3-up', // parents to look for
            match: '.has-media', // closest to match width of
            width: '1', // percentage of width to match
            left: '40', // left margin
            right: '0' // right margin
          },
          title: {
            titleClass: 'media__attribution__title', // title class to look for
            bottom: 0 // bottom pos of title
          },
          content: {
            contentClass: 'media__attribution__info' // content class to look for (that will be rolled up)
          }
        });
      }

    };

  };


}(jQuery));
;
(function ($) {
    Drupal.behaviors.jisc_p13n = {
        attach: function (context, settings) {
            $('body', context).once('p13n', function () {
                // using .once() on the body element so this only fire within full page loads
                // and not when elements are ajaxified and so on.
                $.getJSON('/server/p13n').done(function(p13n_json) {
                    dataLayer.push({'p13n' : p13n_json});
                });
            });
        }
    };
}(jQuery));
;
