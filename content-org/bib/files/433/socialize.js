
// Debug info: server: WEB517, utc_time: 2014-02-18 08:20:22.864, src_ip: 10.1.5.203, method: HTTPS/GET, api key: 3_3P8sR9Bd8DhVMyJLafO1NsK6RCX_gLPJcBuZeEXGGd3r7kF1dzotvWzRDBgtj76S, site found?: True
if (typeof gigya == 'undefined' || !gigya.isGigya) { gigya = { isGigya: true } };
if (!gigya.__initialized) {
gigya.__initialized = true;

gigya.env='prod';
gigya.gaeDomain='chat.gigya.com';
gigya.build={version:'5.0.2',time:'Sun 02/16/2014 13:42:33.09'};
if (typeof gigya.partnerSettings == 'undefined') {
    gigya.partnerSettings={authMode:'cookie',baseDomains:'scopus.com'};
    gigya.partnerSettings.plugins={"apiDomain":"us1.gigya.com"};
}

// API adapters
var gigya;
(function(a){(function(d){(function(d){(function(e){(function(e){function d(b,c){c=a.utils.object.clone(c);if(a.partnerSettings.ssoKey){var l=g();c||(c={});var e=c.callback;c.callback=function(f){a.log.addLog("SSO: About to invoke callback for "+b+" with this response",f);e&&e(f)};c.m=b;c.d=f;c.lid=a.utils.xd._flashListenerID;c.legacyCrossSiteMethod&&"localstorage"!=c.legacyCrossSiteMethod.toLowerCase()&&(c.lid=c.legacyCrossSiteMethod+":"+a.utils.xd._flashListenerID);"function"==typeof c.callback&&(c.callbackID=
"gig_sso_cb"+(new Date).getTime(),a.utils.xd.addMessageListener(c.callbackID,{},!1,c.callback),delete c.callback);c.sAPIKey=a.thisScript.APIKey;var n=a.utils.keyValue.serialize(c);l.src="https://cdns.gigya.com/gs/sso.htm?APIKey="+a.partnerSettings.ssoKey+"&version=1#"+(new Date).getTime()+"&"+n;a.log.addLog("SSO: Calling "+b,{SSOKey:a.partnerSettings.ssoKey,params:c});document.body?a.utils.DOM.appendToBody(l):a.utils.functions.invokeOnPageLoad(function(){a.utils.DOM.appendToBody(l)})}else c&&c.callback&&
c.callback()}function g(){var a=document.getElementById("gig_sso");a||(a=document.createElement("iframe"),a.style.width="30px",a.style.height="10px",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.id="gig_sso");return a}function b(a){d("setToken",a)}var f=document.location.protocol+"//"+document.location.href.split("?")[0].split("#")[0].split("/")[2];e.getGroupToken=function(a){d("getToken",a)};e.setGroupTokenFromResponse=function(a,f,l){a.sessionInfo&&(a=a.sessionInfo);
var e=a.expires_in,e=null==e||""===e||isNaN(e)?47304E7:0==e?null:1E3*e,g=new Date;g.setTime(g.getTime()+e);b({lt:a.login_token,expiration:null==e?0:g.getTime(),legacyCrossSiteMethod:l,callback:f})};e.setGroupToken=b;e.logout=function(a){d("logout",a)};e.removeGroupToken=function(a){d("removeToken",a)}})(e.sso||(e.sso={}))})(d.web||(d.web={}))})(d.apiAdapters||(d.apiAdapters={}))})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(d){(function(k){(function(e){var m=function(){function m(a,b,f,h,c){"undefined"===typeof c&&(c={});this.baseUrl=a;this.methodName=b;this.params=f;this.callback=h;this.settings=c}m.prototype.getUrl=function(){return this.baseUrl+"/"+this.methodName};m.prototype.send=function(a){};m.prototype.getAuthParams=function(){var g={};if(this.params.oauth_token)this.params.authMode="token";else{var b=e.tokenStore.get(this.params.APIKey);if(b){this.sentLoginToken=b;var f=a.utils.cookie.get("gltexp_"+
this.params.APIKey);null!=f&&(g.loginTokenExp=f);g.login_token=b}b=d.apiAdapter.getGcid();f=d.apiAdapter.getUcid();0==this.baseUrl.indexOf("https:")&&b&&(g.gcid=b);f&&(g.ucid=f);g.authMode="cookie"}return g};return m}();e.BaseRequest=m})(k.web||(k.web={}))})(d.apiAdapters||(d.apiAdapters={}))})(a._||(a._={}))})(gigya||(gigya={}));var __extends=this.__extends||function(a,d){function k(){this.constructor=a}for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e]);k.prototype=d.prototype;a.prototype=new k};
(function(a){(function(d){(function(d){(function(e){e.callback=function(a,g){!g&&a&&(g=a.context);if(g){var b=e.pendingRequests[g];b&&b.handleResponse(a)}};var m=function(m){function g(a,f,h,c,l,e){"undefined"===typeof e&&(e={});m.call(this,f,h,c,l,e);this.id=a;this.ifrName="gigyaPostIframe_"+(new Date).getTime();this.retry=0}__extends(g,m);g.prototype.addDefaultParams=function(){this.params.format="jsonp";this.params.callback=g.callbackName;this.params.context=this.id;a.utils.object.add(this.params,
this.getAuthParams());this.sentLoginToken=this.params.login_token};g.prototype.getCacheKey=function(){return this.methodName+"_"+a.utils.keyValue.serialize(this.params)};g.prototype.send=function(b){var f=this;if(!this.inProgress){e.pendingRequests[this.id]=this;this.inProgress=!0;this.params.sdk="js_"+a.build.version;this.addDefaultParams();var h=a.utils.keyValue.serialize(this.params);if(!b&&this.settings.cacheTimeout)h=this.getCacheKey(),a.utils.sessionCache.get(h,this.settings.cacheTimeout,function(a){a?
(delete f.settings.cacheTimeout,d.web.callback(a,f.id)):(f.inProgress=!1,f.send(!0))});else{b=0;a.localInfo.isIE&&(b=2048);var c=this.getUrl();4096>=c.length+1+h.length+b&&!this.settings.forcePost?a.utils.script.load(c+"?"+h,function(){d.web.callback({context:f.id,errorCode:500026,errorMessage:"Network_error"})}):a.utils.functions.invokeOnPageLoad(function(){var b=document.getElementById("gigyaRequestForms");null==b&&(b=document.createElement("span"),b.id="gigyaRequestForms",b.style.display="none",
a.utils.DOM.appendToBody(b));var h=f.getPostContainer();b.appendChild(h)})}}};g.prototype.createParamFormElements=function(){var b=[],f="";for(f in this.params)b=b.concat(['<textarea name="',f,'">']),"object"==typeof this.params[f]?b.push(a.utils.URL.URLEncode(a.utils.JSON.serialize(this.params[f]))):b.push(this.params[f]),b.push("</textarea>");return b.join("")};g.prototype.getPostContainer=function(){var b=this;if(!this.postContainer){var f=document.createElement("span"),h=this.ifrName+"form",c=
this.id;f.innerHTML=['<form accept-charset="UTF-8" id="',h,'" method="post" action="',this.getUrl(),"?context="+this.id+"&saveResponseID="+this.id+'" target="',this.ifrName,'">',this.createParamFormElements(),'<input name="utf8" type="hidden" value="&#x2713;" /><input type="submit" value="" /></form>'].join("");var l,e=a.utils.DOM.createElement("iframe",this.ifrName);e.setAttribute("id",this.ifrName);a.localInfo.isIE6&&e.setAttribute("src",a.thisScript.base+"/wildfire/DO_NOT_DELETE.htm");a.utils.DOM.addEventListener(e,
"load",function(){l?b.getSavedFormResponse(c):(window.setTimeout(function(){var a=document.getElementById(h);a&&a.submit()},10),l=!0)});f.appendChild(e);this.postContainer=f}return f};g.prototype.getSavedFormResponse=function(a){var f=this;(new g(a,this.baseUrl,"socialize.getSavedResponse",{APIKey:this.params.APIKey,saveResponseID:this.id},function(a){f.handleResponse(a)})).send()};g.prototype.getDataPendingTimeout=function(a){return 4>=a?500:8>=a?1E3:21>=a?2E3:39>=a?5E3:-1};g.prototype.handleResponse=
function(b){var f=this;this.settings.cacheTimeout&&a.utils.sessionCache.set(this.getCacheKey(),0==b.errorCode?b:null);null!=this.retryTimerID&&window.clearTimeout(this.retryTimerID);this.loaded=!0;this.inProgress=!1;100001==b.errorCode?(b=this.getDataPendingTimeout(this.retry++),0<b&&window.setTimeout(function(){f.send()},b)):(this.dispose(),this.callback(b))};g.prototype.dispose=function(){delete e.pendingRequests[this.id];a.utils.DOM.removeElement(this.getPostContainer())};g.callbackName="gigya._.apiAdapters.web.callback";
return g}(e.BaseRequest);e.JsonpRequest=m})(d.web||(d.web={}))})(d.apiAdapters||(d.apiAdapters={}))})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(d){(function(d){(function(e){var d=function(e){function g(a,f,h,c,l){"undefined"===typeof l&&(l={});e.call(this,a,f,h,c,l);this.windowName=this.methodName.replace(/\./g,"_").replace(/\//g,"")+"_"+(new Date).getTime();this.requestID=this.windowName+(new Date).getTime()}__extends(g,e);g.prototype.beforeRequest=function(){};g.prototype.afterResponse=function(b){b.dontClose&&"false"!=b.dontClose||a.utils.win.close(this.windowName);this.callback(b)};g.prototype.getAuthFlow=function(){return this.params.authFlow?
this.params.authFlow:"popup"};g.prototype.getStateString=function(){var b=a.utils.xd._flashListenerID;if(this.params.legacyCrossSiteMethod&&"localstorage"!=this.params.legacyCrossSiteMethod.toLowerCase()||a.localInfo.isIE&&window.navigator.msDoNotTrack)b=this.params.legacyCrossSiteMethod+":"+a.utils.xd._flashListenerID;var f=this.getAuthFlow(),b={domain:document.location.href.split("?")[0].split("#")[0],id:this.requestID,lid:b,messaging:a.localInfo.messagingMethod};if("redirect"==f||a.localInfo.isWindowsPhone)b.sourceURL=
window.top.document.location.href,this.params.redirectURL?(b.redirectURL=a.utils.URL.addParamsToURL(this.params.redirectURL,{gig_events:a.events.global.getEventsForOperation(this.methodName)}),b.addUserInfo=!0,this.params.redirectMethod&&(b.redirectMethod=this.params.redirectMethod)):b.sourceURL=a.utils.URL.addParamsToURL(b.sourceURL,{gig_events:a.events.global.getEventsForOperation(this.methodName)});this.params.provider&&"facebook"==this.params.provider.toLowerCase()&&(b.invite=this.params.invite);
(f=a.external.backplane.getChannelId())&&(b.bp_channel_url=f);return a.utils.keyValue.serialize(b)};g.prototype.getServerParamsString=function(){var b={},f;for(f in this.params)0!=f.indexOf("x_")&&null!=this.params[f]&&(b["x_"+f]=this.params[f],delete b[f]);b.x_APIKey&&(b.client_id=b.x_APIKey,delete b.x_APIKey);b.x_oauth_token&&(b.oauth_token=b.x_oauth_token,delete b.x_oauth_token);b.redirect_uri="/GS/AfterLogin.aspx";b.response_type=this.params.authCodeOnly?"code":"server_token";b.format="jsonp";
b.x_sdk="js_"+a.build.version;(f=a.utils.cookie.get("_gigRefUid_"+this.params.APIKey))&&(b.x_refUID=f);(f=a.utils.cookie.get("_gigRefUid_"+this.params.APIKey))&&(b.x_refUID=f);b.state=this.getStateString();a.utils.object.add(b,this.getAuthParams());delete b.redirectURL;this.sentLoginToken=b.login_token;return a.utils.keyValue.serialize(b)};g.prototype.send=function(){var b=this;this.beforeRequest();var f=this.getServerParamsString(),h;this.params.provider&&(h=a.socialize._getProviderByName(this.params.provider.toLowerCase()));
var c=null;null!=h&&(c=(this.params.enablePopupLocation?"location=1,toolbar=1":"toolbar=0,")+"menubar=0,resizable=1,scrollbars=1,width="+h.width+",height="+h.height);var e=this.methodName.split(".");a.reports.report(e[e.length-1],this.params.APIKey,this.params.cid,this.params.source,this.params.sourceData,{sn:h?h.toString():null});f=this.getUrl()+"?"+f;"redirect"==this.getAuthFlow()?window.top.document.location.href=f:(a.utils.xd.addMessageListener(this.requestID,{},!0,function(a){b.afterResponse(a)}),
a.utils.win.open(f,this.windowName,c))};return g}(e.BaseRequest);e.OauthRequest=d})(d.web||(d.web={}))})(d.apiAdapters||(d.apiAdapters={}))})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(d){(function(d){(function(e){(function(d){function k(b){b||(b=a.thisScript.APIKey);return b?"glt_"+b:"_gig_lt"}var g={};d.activeNamespaces={};d.get=function(b){return(b=a.utils.cookie.get(k(b)))?b.split("|")[0]:null};d.set=function(b,f,h,c){a.utils.localStorage.removeItem("gigyaSettings");b||(b=a.thisScript.APIKey);b?(a.utils.cookie.set("glt_"+b,f,h),a.utils.cookie.remove("gac_"+b)):a.utils.cookie.set("_gig_lt",f,h)};d.setFromGAC=function(b,f){if(a.thisScript.APIKey){var h=
a.utils.cookie.get("gac_"+a.thisScript.APIKey);h&&!b.neverTryGAC?('"'==h.charAt(0)&&'"'==h.charAt(h.length-1)&&(h=h.substring(1,h.length-1)),g[h]?f():(g[h]=!0,a.socialize.notifyLogin({ignoreApiQueue:!0,neverTryGAC:!0,authCode:h,APIKey:a.thisScript.APIKey,client_id:a.thisScript.APIKey},{callback:function(){a.utils.cookie.remove("gac_"+a.thisScript.APIKey);f();a.socialize.refreshUI({neverTryGAC:!0})}}))):f()}else f()};d.setFromSsoResponse=function(b,f){"undefined"===typeof f&&(f=a.thisScript.APIKey);
0==b.errorCode&&(d.set(f,b.login_token,b.expires_in),a.socialize.getUserInfo({signIDs:!0,callback:function(f){0==b.errorCode&&a.events.global._activeNamespaces.accounts&&a.accounts.getAccountInfo({callback:function(f){var b={eventName:"accounts.login"};a.utils.object.extractProperties(f,b,"signature|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID|profile|data");a.events.global.dispatch(b)},include:"profile,data",includeUserInfo:!1});f=a._.addUserInfoToEvent(f,{eventName:"login"},!0);a.events.global.dispatch(f);
a.external.backplane.executeOnInit(function(){a.external.backplane.getChannelId()&&a.socialize.notifySSOLogin({bp_channel_url:a.external.backplane.getChannelId()})})}}))};d.remove=function(b){e.sso.removeGroupToken();b||(b=a.thisScript.APIKey);a.utils.cookie.remove("glt_"+b);a.utils.cookie.remove("_gig_lt")};d.migrateExisting=function(){var b=a.utils.cookie.get("_gig_lt");b&&(a.thisScript.APIKey&&!d.get())&&(a.utils.cookie.remove("_gig_lt"),d.set(null,b))};d.getTokenParam=function(b,f){var h=a.utils.cookie.get(k(b));
if(h)return h=h.split("|"),1<h.length?a.utils.keyValue.deserialize(h[1])[f]:null}})(e.tokenStore||(e.tokenStore={}))})(d.web||(d.web={}))})(d.apiAdapters||(d.apiAdapters={}))})(a._||(a._={}))})(gigya||(gigya={}));gigya.isGigya||(gigya.isGigya=!0);
(function(a){(function(d){(function(d){(function(e){var d,k;e.callbacks={};e.pendingRequests={};var g=function(){function b(){this.name="Web"}b.prototype.init=function(f){var b=this;a.utils.functions.createAlias("gigya.auth.loginToken.get",e.tokenStore.get);this.getIds(function(){b.checkReturnFromURL();b.isSessionValid(void 0,function(a){a?f():e.sso.getGroupToken({callback:function(a){a&&e.tokenStore.setFromSsoResponse(a);f()}})})})};b.prototype.isSessionValid=function(a,b){"undefined"===typeof a&&
(a={});e.tokenStore.setFromGAC(a,function(){if(b){var c=null!=e.tokenStore.get()||null!=a.oauth_token;b(c)}})};b.prototype.getUcid=function(){return k};b.prototype.getGcid=function(){return d};b.prototype.registerForNamespaceEvents=function(a){};b.prototype.onPluginEvent=function(a){};b.prototype.sendRequest=function(a,b,c,l){"undefined"===typeof l&&(l={});var d=this;this.beforeRequest(a,b,l);var g=this.getBaseUrl(a,b,l),k=this.getRequestId(g,a,b,l.disableCache);e.callbacks[k]=e.callbacks[k]||[];
e.callbacks[k].push(c);if(!e.pendingRequests[k]){var m=new e.JsonpRequest(k,g,a,b,function(a){d.afterResponse(m,a,function(a){d.dispatchCallbacks(k,a)})},l);m.send()}};b.prototype.sendOauthRequest=function(a,b,c,l){var d=this;this.beforeRequest(a,b,l);var g=this.getBaseUrl(a,b,l),k=new e.OauthRequest(g,a,b,function(a){d.afterResponse(k,a,function(a){c(a)})},l);k.send()};b.prototype.getBaseUrl=function(b,h,c){b=b.split(".");b=a.utils.stringUtils.format("{0}.{1}",b[0],a.partnerSettings.plugins.apiDomain);
return(c.forceHttps||e.tokenStore.get()||h.regToken||h.oauth_token||"https"==a.thisScript.protocol?"https://":"http://")+b};b.prototype.getIds=function(b){var h=a.partnerSettings.ssoKey||a.thisScript.APIKey;if(h){var c=!1;if(a.localInfo.isSafari)try{window.localStorage.setItem("gigTest","1"),window.localStorage.removeItem("gigTest")}catch(e){e.code===DOMException.QUOTA_EXCEEDED_ERR&&0===window.localStorage.length&&(c=!0)}if(a.localInfo.supportsLocalStorage&&"1"!=a.utils.cookie.get("gig3pc")&&!c){a.global._onIDs=
function(c){c&&(c.data&&c.data.indexOf)&&(-1!=c.data.indexOf("gig3pc=true")?(a.utils.cookie.set("gig3pc","1",172800,a.partnerSettings.baseDomain),b()):0==c.data.indexOf("gcid=")&&(c=a.utils.keyValue.deserialize(c.data),a.log.addLog("Safari IDs Proxy: Got callback with this response",c),c&&("-1"!=c.gcid&&(d=c.gcid),"-1"!=c.ucid&&(k=c.ucid)),c=a.global.ifrGcid,c.parentNode.removeChild(c),delete a.global.ifrGcid,a.utils.DOM.removeEventListener(window,"message",a.global._onIDs),delete a.global._onIDs,
b()))};a.utils.DOM.addEventListener(window,"message",a.global._onIDs);var g=document.createElement("iframe"),c=document.location.protocol+"//"+document.location.href.split("?")[0].split("#")[0].split("/")[2];g.src="https://cdns.gigya.com/gs/gigIDsProxy.htm?APIKey="+encodeURIComponent(h)+"&domain="+encodeURIComponent(c)+"&apiDomain="+encodeURIComponent(a.partnerSettings.plugins.apiDomain);g.style.width="30px";g.style.height="10px";g.style.position="absolute";g.style.top="-1000px";g.style.left="-1000px";
a.global.ifrGcid=g;a.log.addLog("Gigya IDs Proxy: Calling getIDs",{apiKey:h,domain:c});document.body?a.utils.DOM.appendToBody(g):a.utils.functions.invokeOnPageLoad(function(){a.utils.DOM.appendToBody(g)})}else b()}else b()};b.prototype.beforeRequest=function(a,b,c){"undefined"===typeof c&&(c={});c.clearSession&&e.tokenStore.remove(b.APIKey)};b.prototype.afterResponse=function(a,b,c){var e=this;this.handleTokenResponse(a,b,function(){e.logoutSsoIfNeeded(a,b,function(){c(b)})})};b.prototype.onSDKEvent=
function(a){};b.prototype.getTokenParam=function(a,b){return e.tokenStore.getTokenParam(a,b)};b.prototype.checkReturnFromURL=function(){var b=a.utils.URL.getParamsFromURL(document.location.href);b.gig_events&&0==b.errorCode&&null!=e.tokenStore.get()&&e.sso.setGroupTokenFromResponse({errorCode:0,login_token:e.tokenStore.get(),expires_in:b.expires_in},function(){var e=b.gig_events.split(",");-1!=a.utils.array.indexOf(e,"accounts.login")?a.accounts.getAccountInfo({include:"profile,data,userinfo",callback:function(b){var f=
{errorCode:0,eventName:"accounts.login"};a.utils.object.extractProperties(b,f,"signature|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID|profile|data");a.events.global.dispatch(f);a.events.global.dispatchWhenHandlerAdded(f);-1!=a.utils.array.indexOf(e,"socialize.login")&&(b=a._.addUserInfoToEvent(b,{errorCode:0,eventName:"socialize.login"},!0),a.events.global.dispatch(b),a.events.global.dispatchWhenHandlerAdded(b))}}):a.socialize.getUserInfo({signIDs:!0,callback:function(b){for(var f=0;f<e.length;f++){var d=
a._.addUserInfoToEvent(b,{errorCode:0,eventName:e[f]},!0);a.events.global.dispatch(d);a.events.global.dispatchWhenHandlerAdded(d)}}})},a.thisScript.globalConf.legacyCrossSiteMethod)};b.prototype.setNewLoginTokenFromResponse=function(a,b,c){var d=b.sessionInfo?b.sessionInfo.login_token:b.login_token;d?(e.tokenStore.set(a.params.APIKey,d,null!=b.sessionInfo?b.sessionInfo.expires_in:b.expires_in,a.params.legacyCrossSiteMethod),e.sso.setGroupTokenFromResponse(b,c,a.params.legacyCrossSiteMethod)):c()};
b.prototype.onInvalidTokenResponse=function(a,b){e.sso.getGroupToken({callback:function(c){c&&c.login_token&&c.login_token.split("|")[0]!=a.sentLoginToken?(e.tokenStore.setFromSsoResponse(c,a.params.APIKey),a.send()):(e.tokenStore.remove(a.params.APIKey),a.settings.requiresSession?b():(delete a.params.login_token,delete a.sentLoginToken,a.send()))}})};b.prototype.handleTokenResponse=function(b,d,c){var g=this;d=a.utils.object.clone(d);403030==d.errorCode&&this.shouldWaitForService(b,d)||(b.sentLoginToken&&
(a._.logoutMethods[b.methodName]&&0==d.errorCode)&&e.tokenStore.remove(b.params.APIKey),this.setNewLoginTokenFromResponse(b,d,function(){if(b.sentLoginToken&&403005==d.errorCode)g.onInvalidTokenResponse(b,c);else c()}))};b.prototype.logoutSsoIfNeeded=function(b,d,c){var g=this;a.partnerSettings.ssoKey&&a._.logoutMethods[b.methodName]&&0==d.errorCode?document.location.href!=a.partnerSettings.ssoLogoutUrl?e.sso.logout({callback:function(a){g.loadLogoutUrls(a.logoutURLs.split(","),c,{UID:d.UID,UIDSignature:d.UIDSignature,
signatureTimestamp:d.signatureTimestamp})}}):c():c()};b.prototype.loadLogoutUrls=function(b,e,c){for(var d=0,g=0;g<b.length;g++){var k=a.utils.URL.addParamsToURL(b[g],c);this.loadLogoutUrl(k,function(){d++;d>=b.length&&e()})}};b.prototype.loadLogoutUrl=function(b,e,c){"undefined"===typeof c&&(c=5E3);var d=document.createElement("iframe");d.src=b;d.style.position="absolute";d.style.top="-1000px";d.style.left="-1000px";var g=!1;window.setTimeout(function(){g||(g=!0,d.parentElement.removeChild(d),e())},
c);d.onload=d.onreadystatechange=function(){g||d.readyState&&"complete"!=d.readyState||(g=!0,d.parentElement.removeChild(d),e())};a.utils.DOM.appendToBody(d)};b.prototype.shouldWaitForService=function(b,d){return!0==b.params.retryPossible?(b.params.retryPossible=!1,a.external.facebook.runWhenLoaded(function(){b.send()}),!0):!1};b.prototype.dispatchCallbacks=function(b,d){var c=e.callbacks[b];if(c)for(var g=0;g<c.length;g++)if("function"==typeof c[g])c[g](a.utils.object.clone(d));delete e.callbacks[b]};
b.prototype.getRequestId=function(b,d,c,e){var g=a.localInfo.isAndroid&&-1!=navigator.userAgent.toLowerCase().indexOf("mobile safari/534.30");if(e||g)b="R"+(new Date).getTime()+"_"+Math.random();else{c=a.utils.object.clone(c);for(var k in c)0!=k.indexOf("fb_")&&"source"!=k&&"sourceData"!=k||delete c[k];b="R"+a.utils.object.getMurmurHash(b+d+a.utils.object.getHash(c))}return b};return b}();e.WebAdapter=g})(d.web||(d.web={}))})(d.apiAdapters||(d.apiAdapters={}))})(a._||(a._={}))})(gigya||(gigya={}));
var gigya;
(function(f){(function(c){(function(c){(function(c){c.mobileCallbacks={};c.showPlugin=function(a,b){var d,e=a.split(".");1<e.length?(a=e.splice(e.length-1,1)[0],e=e.join(".")):e="socialize";"commentsUI"==a&&(e="comments");d||(d="show"+f.utils.stringUtils.capitalize(a));eval("gigya."+e+"."+d)(b)};var l=function(){function a(){this.name="Mobile"}a.prototype.init=function(b){var d=this;f.events.addMap({defaultMethod:function(b){d.onPluginEvent(b)},eventMap:[{events:"*",args:["$event"]}]});this.sendToMobile("get_ids",
null,function(a){d.ucid=a.ucid;d.gcid=a.gcid;for(var c in f.events.global._activeNamespaces)d.registerForNamespaceEvents(c);b()})};a.prototype.getTokenParam=function(b,a){return""};a.prototype.getUcid=function(){return this.ucid};a.prototype.getGcid=function(){return this.gcid};a.prototype.onPluginEvent=function(b){b.isGlobal||this.sendToMobile("on_plugin_event",b)};a.prototype.onCustomEvent=function(b){this.sendToMobile("on_custom_event",b)};a.prototype.registerForNamespaceEvents=function(b){this.sendToMobile("register_for_namespace_events",
{namespace:b})};a.prototype.isSessionValid=function(b,a){this.sendToMobile("is_session_valid",b,a)};a.prototype.sendRequest=function(b,a,e,c){this.sendToMobile("send_request/"+b,a,e,c)};a.prototype.sendOauthRequest=function(b,a,c,f){this.sendToMobile("send_oauth_request/"+b,a,c,f)};a.prototype.sendToMobile=function(a,d,e,k){var g=document.createElement("iframe");g.style.display="none";document.documentElement.appendChild(g);d&&delete d.APIKey;if(e){var h=(new Date).getTime()+"_"+Math.random();c.mobileCallbacks[h]=
function(a){e(a);document.documentElement.removeChild(g);delete c.mobileCallbacks[h]}}a="gsapi://"+a+"?callbackID="+(h||"")+"&params="+(d?encodeURIComponent(f.utils.keyValue.serialize(d)):"")+"&settings="+(k?encodeURIComponent(f.utils.keyValue.serialize(k)):"");g.src=a};a.prototype.onSDKEvent=function(a){a&&a.user&&f._.convertIdentitiesArrayToObject(a.user);f.events.global.dispatch(a)};return a}();c.MobileAdapter=l})(c.mobile||(c.mobile={}))})(c.apiAdapters||(c.apiAdapters={}))})(f._||(f._={}))})(gigya||
(gigya={}));

// end API adapters
var gigya;
(function(a){var c=navigator.userAgent.toLowerCase(),b=new Date,l=document.location.href.split("?")[0].split("#")[0].split("/")[2].split(":")[0],f=-1!=c.indexOf("win"),g=-1!=c.indexOf("msie")||-1!=c.indexOf("mozilla")&&-1!=c.indexOf("trident"),d=-1!=c.indexOf("msie 6."),e=-1!=c.indexOf("msie 7."),k=-1!=c.indexOf("msie 8."),m=-1!=c.indexOf("msie 9."),h=-1!=c.indexOf("mozilla")&&-1!=c.indexOf("trident/7.0"),t=-1!=c.indexOf("iphone")||-1!=c.indexOf("ipad")||-1!=c.indexOf("ipod"),n;n=-1!=c.indexOf("applewebkit")&&-1!=
c.indexOf("version/")?parseInt(c.split("version/")[1].split(" ")[0]):0;var s=-1!=c.indexOf("android"),p;p=-1!=c.indexOf("android")?parseFloat(c.slice(c.indexOf("android")+8)):0;var r=-1!=c.indexOf("chrome"),q=-1!=c.indexOf("firefox"),v=-1!=c.indexOf("opera"),u=navigator.appVersion&&-1!=navigator.appVersion.toLowerCase().indexOf("safari")&&-1==navigator.appVersion.toLowerCase().indexOf("chrome")&&-1==c.indexOf("android"),x=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),y=
-1!=c.indexOf("crios"),z=navigator.appVersion&&-1!=navigator.appVersion.toLowerCase().indexOf("mac")?!0:!1,A=-1!=c.indexOf("windows phone"),B=null!=window.postMessage&&(-1==c.indexOf("msie")||-1!=c.indexOf("iemobile")),C=null!=window.localStorage,D="BackCompat"==document.compatMode&&-1!=c.indexOf("msie"),E="BackCompat"==document.compatMode,w;a:{w="iphone;android;midp;240x320;blackberry;netfront;nokia;panasonic;portalmmm;sharp;sie-;sonyericsson;symbian;windows ce;benq;mda;mot-;opera mini;philips;pocket pc;sagem;samsung;htc".split(";");
for(var F in w)if(-1!=c.indexOf(w[F])){w=!0;break a}w=!1}a.localInfo={initTime:b,version:0,pageDomain:l,userAgent:c,isWin:f,isIE:g,isIE6:d,isIE7:e,isIE8:k,isIE9:m,isIE11:h,isIOS:t,iosVersion:n,isAndroid:s,androidVersion:p,isChrome:r,isFF:q,isOpera:v,isSafari:u,isIOSWebView:x,isIOSChrome:y,isMAC:z,isWindowsPhone:A,supportsPostMessage:B,supportsLocalStorage:C,quirksMode:D,backCompat:E,isMobile:w,isTouch:"ontouchstart"in window||"onmsgesturechange"in window,messagingMethod:0}})(gigya||(gigya={}));
(function(a){var c=navigator.userAgent.toLowerCase();(function(b){(function(a){a.indexOf=function(a,d){for(var e=0;e<a.length;e++)if(a[e]==d)return e;return-1};a.clone=function(a){for(var d=[],e=0;e<a.length;e++)d[e]=a[e];return d};a.removeByProperty=function(a,d,e){if(a)for(var k=a.length-1;0<=k;k--)a[k][d]==e&&a.splice(k,1)}})(b.array||(b.array={}));(function(a){a.create=function(a,d){for(var e=0;e<arguments.length-2;e++);return function(){return d.apply(a,arguments)}}})(b.delegate||(b.delegate=
{}));(function(b){b.fill=function(g,d){"function"==typeof g&&(g=g(d));g instanceof Array&&(g=g.join(""));var e=/(\$)(!?)([a-z_][a-z_.\d]*)([(][^()]*[)])?|(\$)(!?)\{([a-z_][a-z_.\d]*)([(][^()]*[)])?\}/gi;e.lastIndex=0;for(var k=g,m=e.exec(k),h;null!=m;){h="$"==m[1]?0:4;var b="!"==m[2+h],c=m[3+h];h=m[4+h];null==h&&(h="");"."==c.substring(0,1)&&(c=c.substring(1));"DBG"==c.substring(0,3)&&(c=c.substring(3));var f="";for(h=c+h;h!=f;){var f=h,l=e.lastIndex;h=a.utils.templates.fill(f,d);e.lastIndex=l}f=
"";l=0;if(null!=d[c.split(".")[0]])try{f=(new Function("o","p",'return eval("o." + p)'))(d,h)}catch(r){}else f="$"+(b?"!":"")+h,l=1;k=b?k.replace(m[0],""):k.substr(0,m.index)+f+k.substr(m.index+m[0].length);e.lastIndex=m.index+l;m=e.exec(k)}return k}})(b.templates||(b.templates={}));(function(b){b.callFunction=function(a,d){var e=eval(a),k=a.split(".");k.splice(k.length-1,1);k=eval(k.join("."));e.apply(k,d)};b.invokeOnPageLoad=function(g,d){if(!document.readyState&&document.body||"loaded"==document.readyState||
"complete"==document.readyState||!d&&"interactive"==document.readyState&&document.body)g();else{var e=!1,k=function(){e||(e=!0,g())};window.setTimeout(k,2E4);a.utils.DOM.addEventListener(window,"load",k);a.utils.DOM.addEventListener(document,"DOMContentLoaded",k)}};b.createAlias=function(a,d){for(var e=a.split("."),k=window,m=0;m<e.length-1;m++){var h=e[m];k[h]||(k[h]={});k=k[h]}k[e[e.length-1]]=d}})(b.functions||(b.functions={}));(function(b){var g={};b.open=function(d,e,k){if(a.localInfo.isIE&&
2048<d.length||4096<d.length)a.utils.redirect(d.split("?")[0],[a.utils.URL.getParamsFromURL(d)],"POST","_blank");else{k||(k="menubar=0,toolbar=0,resizable=1,scrollbars=1,width=960,height=680");var m=k;try{var h=parseInt(k.split("width=")[1].split(",")[0]),b=parseInt(k.split("height=")[1].split(",")[0]),c=(screen.width-h)/2,f=(screen.height-b)/2;0>c&&(c=0);0>f&&(f=0);m+=",top="+f+",left="+c}catch(l){}(d=window.open(d,e,m))&&d.focus&&d.focus();g[e]=d}return null!=g[e]};b.close=function(d){if(null!=
g[d]){var e=function(){try{null!=g[d]&&g[d].close(),delete g[d]}catch(a){}};6<=a.localInfo.iosVersion?e():window.setTimeout(e,10)}}})(b.win||(b.win={}));(function(a){a.isExplicitTrue=function(a){a=(""+a).toLowerCase();return"true"==a||"1"==a};a.isExplicitFalse=function(a){a=(""+a).toLowerCase();return"false"==a||"0"==a}})(b.validation||(b.validation={}));(function(b){function g(a,d,e){if(!d)return a;d=d.split(".");for(var g=0;g<d.length;g++){var b=d[g];e&&!a[b]&&(a[b]={});if(a[b])a=a[b];else return null}return a}
function d(a,e,g,b,c,f){c||(c=0);if("undefined"==typeof a||null==a||"function"==typeof a&&g)return null;if(a.constructor==Array){for(var l=[],r=0;r<a.length;r++)g&&"function"==typeof a[r]||(l[r]=e?d(a[r],e,g,b,c+1,f):a[r]);return l}if("object"==typeof a){l={};for(r in a)f&&"context"==r||g&&"function"==typeof a[r]||(l[r]=e?d(a[r],e,g,b,c+1,f):a[r]);return l}return a}function e(d,g,b){if(null!=d){null==g&&(g={});if(d.constructor==Array)for(var c=0;c<d.length;c++)e(d[c],g,b);else if(b){b=b.split("|");
var f={};for(c in d)f[c.toLowerCase()]=1;for(var s=0;s<b.length;s++)c=b[s],f[c.toLowerCase()]&&(g[c]=d[c])}else g=a.utils.object.clone(d,!1);return g}}b.removeUndefined=function(a){var d={},e;for(e in a)null!=a[e]&&void 0!=a[e]&&(d[e]=a[e]);return d};b.getPropertyBySerializedName=g;b.setPropertyBySerializedName=function(a,d,e){d=d.split(".");var b=d.pop();g(a,d.join("."),!0)[b]=e};b.add=function(a,d){for(var e in d)a[e]=d[e]};b.getHash=function(a){var d=[],e;for(e in a)d.push(e+"="+a[e]);return d.sort().join("&")};
b.getMurmurHash=function(a,d){d||(d=0);var e,g,b,c,f;e=a.length&3;g=a.length-e;b=d;for(f=0;f<g;)c=a.charCodeAt(f)&255|(a.charCodeAt(++f)&255)<<8|(a.charCodeAt(++f)&255)<<16|(a.charCodeAt(++f)&255)<<24,++f,c=3432918353*(c&65535)+((3432918353*(c>>>16)&65535)<<16)&4294967295,c=c<<15|c>>>17,c=461845907*(c&65535)+((461845907*(c>>>16)&65535)<<16)&4294967295,b^=c,b=b<<13|b>>>19,b=5*(b&65535)+((5*(b>>>16)&65535)<<16)&4294967295,b=(b&65535)+27492+(((b>>>16)+58964&65535)<<16);c=0;switch(e){case 3:c^=(a.charCodeAt(f+
2)&255)<<16;case 2:c^=(a.charCodeAt(f+1)&255)<<8;case 1:c^=a.charCodeAt(f)&255,c=3432918353*(c&65535)+((3432918353*(c>>>16)&65535)<<16)&4294967295,c=c<<15|c>>>17,b^=461845907*(c&65535)+((461845907*(c>>>16)&65535)<<16)&4294967295}b^=a.length;b^=b>>>16;b=2246822507*(b&65535)+((2246822507*(b>>>16)&65535)<<16)&4294967295;b^=b>>>13;b=3266489909*(b&65535)+((3266489909*(b>>>16)&65535)<<16)&4294967295;return(b^b>>>16)>>>0};b.clone=d;b.merge=function(a){for(var d={},e=0;e<a.length;e++)if(a[e]&&a[e].length)for(var g=
0;g<a[e].length;g++)for(var b in a[e][g])d[b]=a[e][g][b];else for(b in a[e])d[b]=a[e][b];return d};b.extractProperties=e;b.extractProperty=function(a,d){return e(a,void 0,d)[d]}})(b.object||(b.object={}));(function(b){function g(d,e,k,b,g){var c=a.localInfo.pageDomain,f=a.partnerSettings.baseDomain;null==b&&(b=0<f.length&&c.length>=f.length&&c.lastIndexOf(f)==c.length-f.length?f:c);k=null==k||""===k||isNaN(k)?47304E7:0==k?null:1E3*k;c=new Date;c.setTime(c.getTime()+k);d=d+"="+escape(e)+(g?"":"; path=/")+
(null==k?"":"; expires="+c.toUTCString())+(b&&""!=b&&-1!=b.indexOf(".")?"; domain="+b:"");document.cookie=d}b.get=function(a){a=a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1").replace(/^[ \t]+|[ \t]+$/g,"");return(a=document.cookie.match(RegExp("(?:^|;)\\s?"+a+"=(.*?)(?:;|$)")))&&unescape(a[1])};b.set=g;b.remove=function(d){var e=a.localInfo.pageDomain,k=a.partnerSettings.baseDomain;0<k.length&&(e.length>=k.length&&e.lastIndexOf(k)==e.length-k.length)&&(g(d,"",-1,k),g(d,"",-1,k,!0));g(d,"",-1,a.localInfo.pageDomain);
g(d,"",-1,a.localInfo.pageDomain,!0);g(d,"",-1,"");g(d,"",-1,"",!0)}})(b.cookie||(b.cookie={}));(function(a){a.sanitizeHTML=function(a){return null==a||"undefined"==typeof a?a:a.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\"/g,"&#34;").replace(/'/g,"&#39;").replace(/&#38;#173;/g,"&#173;")};a.sanitizeAttribute=function(a){return null==a||"undefined"==typeof a?a:a.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\"/g,"&#34;").replace(/\=/g,"&#61;")}})(b.sanitize||
(b.sanitize={}));(function(a){function b(a,e,k,c){c||(c=0);if(10<c)return"[Too deep]";var h="",f="",n="";if(k)for(var n="\t",f="\n",l=0;l<c+1;l++)h+=n;var p=typeof a;if("function"==p)return p.toString();if("object"!=p||null===a)return"string"==p&&(a='"'+a.replace(/\"/g,'\\"')+'"'),String(a);var r,q,v=[],u=a&&a.constructor==Array;if(u)for(l=0;l<a.length;l++)q=a[l],p=typeof q,null==q||"undefined"==p?q="":"string"==p?q='"'+q.replace(/\"/g,'\\"')+'"':"function"==p?q=e?"[Function]":"":q.parentNode&&q.innerHTML?
q="[HTML Element]":q.constructor==Date?q="":"object"==p&&null!==q&&(q=b(q,e,k,c+1)),""!=String(q)&&v.push(h+n+String(q));else for(r in a)q=a[r],p=typeof q,null==q||"undefined"==p?q=String(q):"string"==p?q='"'+q.replace(/\"/g,'\\"')+'"':"function"==p?q=e?"[Function]":"":q.parentNode&&q.innerHTML?q="[HTML Element]":q.constructor==Date?q="":"object"==p&&null!==q&&(q=f+b(q,e,k,c+1)),""!=String(q)&&v.push(h+n+'"'+r.replace(/\"/g,'\\"')+'":'+String(q));return f+h+(u?"[":"{")+f+v.join(","+f)+f+h+(u?"]":
"}")}a.serialize=b;a.deserialize=function(a){""===a&&(a='""');eval("var o");try{eval("o="+a)}catch(e){}return eval("o")}})(b.JSON||(b.JSON={}));(function(a){function b(){var a=0,d=0;"number"==typeof window.pageYOffset?(d=window.pageYOffset,a=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(d=document.body.scrollTop,a=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(d=document.documentElement.scrollTop,
a=document.documentElement.scrollLeft);return{left:a,top:d}}function d(){var a,d;d=document.documentElement;var b=document.body;window.innerHeight?(a=window.innerHeight,d=window.innerWidth):(a=d.clientHeight,0==a&&(a=b.clientHeight),d=d.clientWidth,0==d&&(d=b.clientWidth));return{w:d,h:a}}a.getScroll=b;a.getFullSize=function(){var a=document.documentElement,d=document.body,b=a.clientHeight;0==b&&(b=d.clientHeight);a=a.clientWidth;0==a&&(a=d.clientWidth);return{w:a,h:b}};a.getInnerSize=d;a.getMiddleCenter=
function(){var a=b(),k=d();return{top:a.top+Math.floor(k.h/2),left:a.left+Math.floor(k.w/2)}};a.isRectHorizontallyVisible=function(a){var k=b(),c=d();return a.left>=k.left&&a.right<=k.left+c.w};a.isRectFullyVisible=function(a){var k=b(),c=d();return a.top>=k.top&&a.bottom<=k.top+c.h&&a.left>=k.left&&a.right<=k.left+c.w}})(b.viewport||(b.viewport={}));var l=b.viewport;(function(a){a.getPosition=function(){var a=0,d=0;if(document.body){var e=null,e={clientX:0,clientY:0};if(e.pageX||e.pageY)a=e.pageX,
d=e.pageY;else if(e.clientX||e.clientY)a=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=e.clientY+document.body.scrollTop+document.documentElement.scrollTop;return{x:a,y:d}}}})(b.mouse||(b.mouse={}));(function(b){var c=function(a,d){},d=function(a){return null},e=function(a){};if(a.localInfo.supportsLocalStorage)c=function(a,d){try{window.localStorage[a]=d}catch(e){}},d=function(a){return window.localStorage[a]},e=function(a){window.localStorage.removeItem(a)};else if(a.localInfo.isIE6||
a.localInfo.isIE7)var k,m=function(){k||(k=document.createElement("div"),k.addBehavior("#default#userData"),a.utils.DOM.appendToBody(k))},h=function(){try{m(),k.save("gigya_ud")}catch(a){}},l=function(){try{m(),k.load("gigya_ud")}catch(a){}},c=function(a,d){l();k.setAttribute(encodeURIComponent(a).replace(/\%/g,""),d);h()},d=function(a){l();return k.getAttribute(encodeURIComponent(a).replace(/\%/g,""))},e=function(a){l();k.removeAttribute(encodeURIComponent(a).replace(/\%/g,""));h()};else if(a.localInfo.isFF)var n=
window.globalStorage,c=function(a,d){try{n[location.hostname][a]=d}catch(e){}},d=function(a){return n[location.hostname][a]},e=function(a){delete n[location.hostname][a]};b.getItem=function(a){return d(a)};b.setItem=function(a,d){c(a,d)};b.removeItem=function(a){e(a)};b.setObject=function(d,e){var b=a.utils.JSON.serialize(e);c(d,b)};b.getObject=function(d){d=this.getItem(d);try{d=a.utils.JSON.deserialize(d)}catch(e){}return d}})(b.localStorage||(b.localStorage={}));b.redirect=function(b,c,d,e){if(d&&
"post"==d.toLowerCase()){d=document.createElement("form");var k=[];d.setAttribute("accept-charset","UTF-8");d.setAttribute("method","POST");d.setAttribute("action",b);e&&d.setAttribute("target",e);b=a.utils.object.merge(c);for(var m in b)"boolean"!=typeof b[m]&&"string"!=typeof b[m]||"eventName"==m||k.push('<textarea name="'+encodeURIComponent(m)+'">'+b[m]+"</textarea>");d.innerHTML=k.join("");d.style.display="none";a.utils.DOM.appendToBody(d);d.submit()}else{d=b.split("?");b=d[0];e={};if(1<d.length)for(d=
d[1].split("&"),k=0;k<d.length;k++){var h=d[k].split("=");e[decodeURIComponent(h[0])]=decodeURIComponent(h[1])}for(d=0;d<c.length;d++)for(m in k=c[d],k)"boolean"!=typeof k[m]&&"string"!=typeof k[m]||"eventName"==m||(e[m]=k[m]);c=[];for(m in e)c.push(m+"="+encodeURIComponent(e[m]));document.location.href=b+"?"+c.join("&")}};(function(b){b.URLEncode=function(a){return encodeURIComponent(a)};b.URLDecode=function(a){return decodeURIComponent(a).replace(/\+/g," ")};b.getParamsFromURL=function(b,d){return-1==
b.indexOf("?")?{}:a.utils.keyValue.deserialize(b.split("#")[0].split("?")[1],"&",d)};b.getParamValueFromURL=function(a,d,e){if(null==d||""==d)return e;var b=d.indexOf("?");if(-1==b)return e;b="&"+d.substr(b+1);d=b.toLowerCase().indexOf("&"+a.toLowerCase()+"=");if(-1==d)return e;a=b.substr(d+(1+a.length+1))+"&";d=a.indexOf("&");return a.substr(0,d)};b.addParamsToURL=function(b,d){var e=a.utils.URL.getParamsFromURL(b);a.utils.object.add(e,d);var k=b.split("#"),e=k[0].split("?")[0]+"?"+a.utils.keyValue.serialize(e,
"&");1<k.length&&(e+="#"+k[1]);return e}})(b.URL||(b.URL={}));(function(b){b.serialize=function(b,d){var e=[];d||(d="&");for(var k in b)switch(typeof b[k]){case "function":break;case "array":case "object":null!=b[k]&&e.push(k+"="+a.utils.URL.URLEncode(a.utils.JSON.serialize(b[k])));break;case "undefined":break;default:e.push(k+"="+a.utils.URL.URLEncode(b[k]))}return e.join(d)};b.deserialize=function(b,d,e,k){var c={};if(!b)return c;d||(d="&");b=b.split(d);for(d=0;d<b.length;d++){var h=b[d],f=h.indexOf("=");
if(-1==f){var n=e?h.toLowerCase():h;c[n]="1"}else{n=h.substr(0,f);e&&(n=n.toLowerCase());h=h.substr(f+1).replace(/\+/g," ");try{c[n]=k?unescape(h):a.utils.URL.URLDecode(h)}catch(l){c[n]=unescape(h)}}}return c}})(b.keyValue||(b.keyValue={}));(function(b){b._nextZIndex=999999999;b._popupContainers=[];b._pseudoContainers=[];var c=null;b.addEventListener=function(a,e,b){a&&b&&(window.addEventListener?a.addEventListener(e,b,!0):a.attachEvent("on"+e,b))};b.removeEventListener=function(a,e,b){b&&(window.removeEventListener?
a.removeEventListener(e,b,!0):a.detachEvent("on"+e,b))};b.addDialogBackListener=function(d){a.utils.DOM._removeDialogBackListener();c=function(e){e&&(e.newURL&&-1==e.newURL.indexOf("|gigyaMobileDialog"))&&(d(e),a.utils.DOM._removeDialogBackListener())};window.setTimeout(function(){-1==window.location.hash.indexOf("|gigyaMobileDialog")&&(window.location.hash+="|gigyaMobileDialog");a.utils.DOM.addEventListener(window,"hashchange",c)},50)};b._removeDialogBackListener=function(){c&&(a.utils.DOM.removeEventListener(window,
"hashchange",c),c=null,window.location.hash=window.location.hash.replace("|gigyaMobileDialog",""))};b.appendToBody=function(a){document.body&&(document.body.insertBefore&&document.body.firstChild?document.body.insertBefore(a,document.body.firstChild):document.body.appendChild(a))};b.removeElement=function(a){a&&a.parentElement&&a.parentElement.removeChild(a)};b.isChildOf=function(a,e){for(var b=a.parentNode;b;){if(e==b)return!0;b=b.parentNode}return!1};b.isVisible=function(d){if(!d||!d.parentNode||
d.style&&"none"==d.style.display)return!1;if(d.parentNode)return a.utils.DOM.isVisible(d.parentNode)};b.getCenteredDivID=function(d){return"gig_"+a.localInfo.initTime.getTime().toString()+"_"+d};b.createTopLevelDiv=function(d){var e;e=document.createElement("iframe");e.id="gigya_ifr_"+d;e.frameborder="0";e.frameBorder="0";e.allowtransparency=!0;e.style.position="absolute";e.style.width=a.localInfo.isChrome?"30px":"1px";e.style.height="1px";null!=e.style.zIndex&&(e.style.zIndex=a.utils.DOM._nextZIndex++);
a.localInfo.isIE6&&(e.src=a.thisScript.base+"/gs/blank.htm");var b=document.createElement("div");b.style.position="absolute";null!=b.style.zIndex&&(b.style.zIndex=""+a.utils.DOM._nextZIndex++);b.innerHTML="";d&&(b.id=d);document.body&&document.body.insertBefore&&(document.body.firstChild?(null!=e&&document.body.insertBefore(e,document.body.firstChild),document.body.insertBefore(b,document.body.firstChild)):document.body.appendChild&&(null!=e&&document.body.appendChild(e),document.body.appendChild(b)));
return b};b.hideByID=function(a){if(a=document.getElementById(a))a.style.display="none"};b.showByID=function(d){if(d=document.getElementById(d))d.style.display=a.localInfo.isIE6?"TD"==d.tagName?"table-cell":"TR"==d.tagName?"":"TABLE"==d.tagName?"":"block":""};b.clearByID=function(a){try{var e=document.getElementById(a);null!=e&&(e.innerHTML="")}catch(b){}};b.getHTMLSize=function(a,e){var b=document.createElement("div");b.style.position="absolute";b.style.left="-1000px";b.innerHTML=a;e.appendChild(b);
var c=b.offsetWidth,g=b.offsetHeight;b.parentNode.removeChild(b);return{w:c,h:g}};b.getElementsByClass=function(a,e){if(!a)return[];for(var b=[],c=a.getElementsByTagName("*"),g=0;g<c.length;g++){var f=c[g].className;if(f)for(var f=f.split(" "),n=0;n<f.length;n++)f[n]==e&&b.push(c[g])}return b||[]};b.getElementsByAttribute=function(a,e,b,c){var g=[];a=a.getElementsByTagName(e);for(e=0;e<a.length;e++)a[e].getAttribute(b)==c&&g.push(a[e]);return g};b.getElementPosition=function(a){if(!a)return{left:0,
top:0,bottom:0,right:0};var b=0,c=0,g=a.offsetHeight,h=a.offsetWidth;if(a.offsetParent){do c+=a.offsetLeft,b+=a.offsetTop;while(a=a.offsetParent)}return{left:c,top:b,bottom:b+g,right:c+h}};b.addClassToElement=function(a,b){if(a){for(var c=!1,g=a.className.split(" "),h=0;h<g.length;h++)if(g[h]==b){c=!0;break}c||(g.push(b),a.className=g.join(" "))}};b.removeClassFromElement=function(a,b){if(a){for(var c=a.className.split(" "),g=c.length-1;0<=g;g--)c[g]==b&&c.splice(g,1);a.className=c.join(" ")}};b.isElementClass=
function(a,b){if(a){for(var c=!1,g=a.className.split(" "),h=0;h<g.length;h++)if(g[h]==b){c=!0;break}return c}};b.cancelEvent=function(a){a&&("cancelable"in a?a.preventDefault():a.returnValue=!1)};b.createElement=function(a,b){var c=document.createElement("div");b=b||"";c.innerHTML="<"+a+' name="'+b+'" id="'+b+'"></'+a+">";return c.firstChild};b.setSize=function(d,b,c,g){if(null!=d&&null!=d.style){var h=""+(0<(""+b).indexOf("%")?b:b+"px"),f=""+(0<(""+b).indexOf("%")?c:c+"px");if(d.style.width!=h||
d.style.height!=f)void 0==b||isNaN(b)||(d.style.width=h),void 0==c||isNaN(c)||(d.style.height=f);if(g&&b&&c){if(null==d.style.zIndex||g)d.style.zIndex=this._nextZIndex++;g=l.getInnerSize();h=a.utils.viewport.getScroll();f=h.left;d.style.top=""+Math.max(0,h.top+Math.floor((g.h-c)/2))+"px";d.style.left=""+Math.max(0,f+Math.floor((g.w-b)/2))+"px";d.style.visibility=""}}}})(b.DOM||(b.DOM={}));(function(b){function c(d){d=a.utils.object.clone(d);var b=function(){var b=d.data.split("="),c=k[b[0]];if(null!=
c){if("function"==typeof c.callback){var g=unescape(b[1]),g=a.utils.keyValue.deserialize(g,null,null,!0);c.callback(g,c.context)}e(b[0]);(b=document.getElementById(b[0]))&&b.parentElement&&b.parentElement.removeChild(b)}};d&&(d.data&&d.data.split)&&(6<=a.localInfo.iosVersion?b():window.setTimeout(b,100))}function d(d){var b=document.createElement("iframe");b.style.width="30px";b.style.height="10px";b.style.position="absolute";b.style.top="-1000px";b.style.left="-1000px";b.id=d;b.src="https://cdns.gigya.com/gs/LocalStorageListener.htm?mode=receive&id="+
encodeURIComponent(d);a.utils.DOM.appendToBody(b);return b}function e(a){delete k[a]}var k={};b._flashListenerID="flid"+(new Date).getTime();var m=!1,h={};b._onFlashMessage=function(d){d=a.utils.keyValue.deserialize(d,null,null,!0);var b=d.id,c=k[b];null!=c&&("function"==typeof c.callback&&c.callback(d,c.context),e(b))};b.addMessageListener=function(e,l,s,p){k[e]={callback:p,context:l,t:(new Date).getTime()};p=a.localInfo.messagingMethod;if(p==a._.MessagingMethod.LocalStorageListener||p==a._.MessagingMethod.PostMessage)p==
a._.MessagingMethod.LocalStorageListener&&s&&d(e),m||(e=function(a){var d=a.data.split("=")[0];k[d]&&c(a)},window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent&&window.attachEvent("onmessage",e),m=!0);else{var r="localstorage";l&&(l.c&&l.c.legacyCrossSiteMethod&&"localstorage"!=l.c.legacyCrossSiteMethod.toLowerCase())&&(r=l.c.legacyCrossSiteMethod);h[r]||window.setTimeout(function(){var d=document.createElement("div");d.style.width="1px";d.style.height="1px";d.style.overflow=
"hidden";d.style.position="absolute";d.style.left="-1000px";var e=b._flashListenerID;"localstorage"!=r&&(e=l.c.legacyCrossSiteMethod+":"+b._flashListenerID);var c=document.location.protocol+"//"+document.location.href.split("?")[0].split("#")[0].split("/")[2],g=(new Date).getTime(),k=document.createElement("object");k.setAttribute("id","eventsBroadcaster"+g);k.setAttribute("codebase","https://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0");k.setAttribute("width","50");
k.setAttribute("height","50");k.setAttribute("src","https://cdns.gigya.com/GS/swf/eventsBroadcaster2.swf");g=document.createElement("param");g.name="movie";g.setAttribute("value","https://cdns.gigya.com/GS/swf/eventsBroadcaster2.swf");k.appendChild(g);g=document.createElement("param");g.setAttribute("name","allowScriptAccess");g.setAttribute("value","always");k.appendChild(g);g=document.createElement("param");g.setAttribute("name","FlashVars");g.setAttribute("value","action=listen&id="+e+"&eventName=loginComplete&callback=gigya.utils.xd._onFlashMessage&domain="+
c);k.appendChild(g);d.appendChild(k);a.utils.functions.invokeOnPageLoad(function(){a.utils.DOM.appendToBody(d);k.setAttribute("type","application/x-shockwave-flash");k.setAttribute("classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000")});h[r]=!0},500)}};b.removeMessageListener=e})(b.xd||(b.xd={}));(function(b){var c={};b.load=function(d,b,k,f){f&&c[d]?c[d].loaded?k&&k():(c[d].onLoad.push(k),c[d].onError.push(b)):(f=function(){var h=document.createElement("script");h.async=!0;h.type="text/javascript";
h.charset="UTF-8";c[d]||(c[d]={loaded:!1,onLoad:[k],onError:[b]});var f=c[d],m=!1,l=function(){if(!m){c[d].loaded=!0;for(var a=0;a<f.onLoad.length;a++)if("function"==typeof f.onLoad[a])f.onLoad[a]();m=!0;setTimeout(function(){h.parentNode&&h.parentNode.removeChild(h)},5E3)}};h.onload=l;h.onreadystatechange=function(){"loaded"==this.readyState&&l()};h.onerror=function(){for(var a=0;a<f.onError.length;a++)if("function"==typeof f.onError[a])f.onError[a]();delete c[d]};var p=document.getElementsByTagName("head");
p&&0<p.length&&p[0].appendChild(h);p=function(){h.src=d};6<=a.localInfo.iosVersion?p():setTimeout(p,1)},a.localInfo.isIE?a.utils.functions.invokeOnPageLoad(f):f())}})(b.script||(b.script={}));(function(b){b.set=function(b,d){if(window.sessionStorage){var e;try{(e=a.utils.JSON.deserialize(window.sessionStorage.getItem("gigyaCache")))||(e={}),null==d&&e[b]?delete e[b]:e[b]={response:d,time:(new Date).getTime()},window.sessionStorage.setItem("gigyaCache",a.utils.JSON.serialize(e))}catch(c){}a.utils.queue.release("cache",
"cache_"+b)}};b.get=function(b,d,e){if(window.sessionStorage)try{if(!a.utils.queue.isActive("cache_"+b)){var c=window.sessionStorage.getItem("gigyaCache"),f=a.utils.JSON.deserialize(c),h=f?f[b]:null;if(h){if(d&&d+h.time>(new Date).getTime()){e(h.response);return}a.utils.sessionCache.remove(b);h=null}if(!h){a.utils.queue.hold("cache","cache_"+b);e(null);return}}a.utils.queue.isActive("cache_"+b)&&a.utils.queue.waitFor("cache_"+b,a.utils.sessionCache.get,arguments)}catch(l){e(null)}else"function"==
typeof e&&e(null)};b.remove=function(b){a.utils.sessionCache.set(b,null)}})(b.sessionCache||(b.sessionCache={}));(function(a){a.format=function(a){for(var d=0;d<arguments.length-1;d++);for(d=0;d<arguments.length-1;d++)null!=arguments[d+1]&&(a=a.split("{"+d+"}").join(arguments[d+1]));return a};a.capitalize=function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}})(b.stringUtils||(b.stringUtils={}));(function(b){var g=null;b.isModern=function(){return a.localInfo.isChrome||a.localInfo.isFF||
a.localInfo.isOpera||a.localInfo.isIOSWebView||a.localInfo.isIE&&9<=a.utils.browser.getVersion()||a.localInfo.isSafari&&4<=a.utils.browser.getVersion()||a.localInfo.isAndroid&&4<=a.localInfo.androidVersion};b.getVersion=function(){if(g)return g;try{var a=c.match(/(opera|chrome|safari|firefox|msie|trident.*rv:)\/?\s*(\.?\d+(\.\d+)*)/i);if(a[2]){var b=a[2].split(".")[0];if(!isNaN(parseInt(b)))return g=parseInt(b)}}catch(k){}return 0}})(b.browser||(b.browser={}));(function(b){function c(a){if(!d[a])return!1;
var b=0,g;for(g in d[a].ids)b++;return 0<b}var d={};b.isActive=c;b.release=function(a,b){if(d[b]&&(delete d[b].ids[a],!c(b))){var f=d[b].q;for(d[b].q=[];0<f.length;){var h=f.splice(0,1)[0];h.func.apply(this,h.args);if(c(b)){d[b].q=f;break}}}};b.hold=function(a,b){d[b]||(d[b]={q:[],ids:{}});d[b].ids[a]=!0};b.waitFor=function(a,b,c){d[a]||(d[a]={q:[],ids:{}});d[a].q.push({func:b,args:c})};b.queueForExecution=function(d,b,c){c=c||[];a.utils.queue.isActive(d)?a.utils.queue.waitFor(d,b,c):b.apply(this,
c)}})(b.queue||(b.queue={}))})(a.utils||(a.utils={}))})(gigya||(gigya={}));(function(a){a.global={};a.socialize={};a.gcs={};a.gm={};a.comments={};a.accounts={};a.chat={}})(gigya||(gigya={}));
(function(a){(function(c){var b={};c.getApi=function(a){return b[a]};var l=function(){function c(a,d){this.methodName=a;this.settings=d;this.addAlias();b[a]=this}c.prototype.run=function(a){};c.prototype.preprocessRequest=function(a,d){this.settings.preprocessor?this.settings.preprocessor(a,d):d()};c.prototype.addAlias=function(){var b=this;a.utils.functions.createAlias("gigya."+this.methodName,function(){var d=a.utils.object.merge([arguments]),e=function(){var e=a.utils.object.merge([a.thisScript.globalConf,
d]);b.run(e)};d.ignoreApiQueue?e():a.utils.queue.queueForExecution("API",function(){e()})})};return c}();c.BaseApi=l})(a._||(a._={}))})(gigya||(gigya={}));(function(a){a.defaultEventMaps=a.defaultEventMaps||[]})(gigya||(gigya={}));
(function(a){(function(c){(function(b){var c={},f={};b._activeNamespaces={};b.add=function(b,d,e,k,m){m||(m="socialize");b=m+"_"+b;e||(e="other");c[b]||(c[b]=[]);c[b].push({handler:d,type:e,context:k});!this._activeNamespaces[m]&&a._.apiAdapter&&a._.apiAdapter.registerForNamespaceEvents(m);this._activeNamespaces[m]=1;if((d=f[b])&&"other"==e)for(f[b]=[],e=0;e<d.length;e++)k=d[e],a.events.global.dispatch(k.eventObj,k.params)};b.remove=function(a){};b.dispatch=function(b,d){var e=b.isInternal,k=b.eventName.split(",");
a.log.addLog('Dispatching global event "'+b.eventName+'" with this event object',b);for(var f=0;f<k.length;f++){var h=k[f].split("."),t=1<h.length?h.shift():"socialize",n=h[0],h="on"+n.substring(0,1).toUpperCase()+n.substring(1),s=a.utils.object.clone(c[t+"_"+h]);s||(s=[]);h=a.utils.object.clone(b);h.isGlobal=!0;h.eventName=n;d&&d.source&&(h.source=d.source);d&&d.sourceData&&(h.sourceData=d.sourceData);n=["component"];e||n.push("other");for(var p=0;p<n.length;p++)for(var r=n[p],q=0;q<s.length;q++){var v=
s[q];if(v.type==r){var u=a.utils.object.clone(h);null==u.context&&null!=v.context&&(u.context=v.context);null==u.context&&delete u.context;"component"!=r&&a._.handleSpecialFields(u);try{v.handler(u)}catch(x){a.log.addLog('Error while trying to invoke "'+b.eventName+'" global event handler',x)}}}e||a.events._dispatchFromMaps(h,!0);s=window.GenesisExchange_Gigya;n=window.gigya_omniture_conf;p=window.myOmnitureIntegrationFunc;e||("undefined"==typeof s||"undefined"==typeof n||"socialize"!=t)||((new s(n)).processAction(h),
"undefined"!=typeof p&&p(n,h))}};b.dispatchWhenHandlerAdded=function(a,b){"undefined"===typeof b&&(b={});var e=a.eventName.split("."),c=1<e.length?e.shift():"socialize",e=e[0],e="on"+e.substring(0,1).toUpperCase()+e.substring(1),c=c+"_"+e;f[c]||(f[c]=[]);f[c].push({eventObj:a,params:b})};b.getEventsForOperation=function(a){var b=[];-1!=a.toLowerCase().indexOf("login")?(this._activeNamespaces.socialize&&b.push("socialize.login"),this._activeNamespaces.accounts&&b.push("accounts.login")):-1!=a.toLowerCase().indexOf("addconnection")&&
this._activeNamespaces.socialize&&b.push("socialize.connectionAdded");return b.join(",")}})(c.global||(c.global={}));c.addMap=function(b){a.defaultEventMaps.splice(0,0,b)};c.dispatchErrorFromResponse=function(b,c,f){c||(c={});var g=c;g.response&&(g=g.response);c={eventName:"error",status:g.status?g.status:"FAIL",statusMessage:g.statusMessage?g.statusMessage:"General Server Error",errorMessage:g.errorMessage?g.errorMessage:"General Server Error",errorDetails:g.errorDetails?g.errorDetails:"",errorCode:g.errorCode?
g.errorCode:500001,response:c};a.utils.object.add(c,f);a.events.dispatchForWidget(c,b)};c.dispatchInvalidParamError=function(a,c){var f={eventName:"error"};"undefined"==typeof a[c]||null==a[c]?(f.errorCode=400002,f.errorMessage="Missing_required_parameter ("+c+")"):(f.errorCode=400006,f.errorMessage="Invalid_parameter_value ("+c+")");f.status=f.errorCode;f.statusMessage=f.errorMessage;this.dispatchForWidget(f,a)};c.dispatchForWidget=function(b,c){if(b&&b.eventName){var f=b.eventName;a.log.addLog('Dispatching widget event "'+
f+'" for '+c.lastSource+" with this event object",b);var g="on"+f.substring(0,1).toUpperCase()+f.substring(1);a._.handleSpecialFields(b);for(var d=b.eventName.split(","),e,k=0;k<d.length;k++){f=d[k];g="on"+f.substring(0,1).toUpperCase()+f.substring(1);c.context&&(b.context=c.context);c&&c.source&&(b.source=c.source);c&&c.sourceData&&(b.sourceData=c.sourceData);c&&c.containerID&&(b.sourceContainerID=c.containerID);try{"function"==typeof c[g]&&(e=c[g](b))}catch(m){}if(-1==f.indexOf("login")&&-1==f.indexOf("logout")&&
"connectionRemoved"!=f&&"connectionAdded"!=f){this._dispatchFromMaps(b);var f=window.GenesisExchange_Gigya,g=window.gigya_omniture_conf,h=window.myOmnitureIntegrationFunc;"undefined"!=typeof f&&"undefined"!=typeof g&&((new f(g)).processAction(b),"undefined"!=typeof h&&h(g,b))}}if(null!=e)return e}};c._dispatchFromMaps=function(b,c){for(var f=[],g=!1,d=0;d<a.defaultEventMaps.length;d++){for(var e=a.defaultEventMaps[d].eventMap,k=a.defaultEventMaps[d].defaultMethod,m=0;m<e.length;m++){var h=e[m],t=
[];h.args||(h.args=[]);for(var n=0;n<h.args.length;n++)"$event"==h.args[n]?t.push(b):t.push(a.utils.templates.fill(h.args[n],b));h.events.split(",");n=","+h.events.toLowerCase()+",";-1==n.indexOf(",*,")&&(-1==n.indexOf(",on"+b.eventName.toLowerCase()+",")&&-1==n.indexOf(","+b.eventName.toLowerCase()+",")||(b.source||h.sources)&&h.sources&&-1==h.sources.indexOf(b.source))||(f.push(h),(h.method?h.method:k).apply(this,t),h.override&&(g=!0))}if(g)break}}})(a.events||(a.events={}))})(gigya||(gigya={}));
var __extends=this.__extends||function(a,c){function b(){this.constructor=a}for(var l in c)c.hasOwnProperty(l)&&(a[l]=c[l]);b.prototype=c.prototype;a.prototype=new b};
(function(a){(function(a){a.apiAdapter;var b=function(b){function f(a,d,c,k,f,h){"undefined"===typeof k&&(k={});"undefined"===typeof f&&(f={});b.call(this,a,k);this.schema=d;this.requiresSession=c;this.settings=k;this.adapterSettings=f;this.altSessionParams=h;f.requiresSession=c}__extends(f,b);f.prototype.run=function(g){b.prototype.run.call(this,g);(new a.ServerApiRequest(this,g)).start()};return f}(a.BaseApi);a.ServerApi=b})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){function b(){return a.utils.object.clone({status:"OK",statusMessage:"",errorCode:0,statusCode:0,errorMessage:"",errorDetails:"",statusReason:""})}var l;a.events.global.add("onFBCRefreshed",function(){l=!1},"component");var f=function(){function g(b,c){this.api=b;this.params=a.utils.object.clone(c);this.originalParams=a.utils.object.clone(c);this.callback=c.callback}g.prototype.start=function(){var b=this;c.apiAdapter.isSessionValid(this.params,function(c){!b.api.adapterSettings.requiresSession||
c||b.doesHaveAltSessionParam()?b.sendRequest(c):b.afterServerApiResponse(a.utils.object.clone({status:"FAIL",errorMessage:"Unauthorized user",statusMessage:"Unauthorized user",errorCode:403005}),!1)})};g.prototype.sendRequest=function(b){var e=this,k=a.utils.object.merge([this.api.adapterSettings,{cacheTimeout:this.params.cacheTimeout}]);this.beforeRequest(b,function(g){g?e.afterServerApiResponse(g,b):(a.events.global.dispatch({eventName:"beforeRequest",methodName:e.api.methodName,rawParams:e.originalParams,
params:e.params},e.originalParams),e.api.settings.oauth?c.apiAdapter.sendOauthRequest(e.api.methodName,e.params,function(a){e.afterServerApiResponse(a,b)},k):c.apiAdapter.sendRequest(e.api.methodName,e.params,function(a){e.afterServerApiResponse(a,b)},k))})};g.prototype.beforeRequest=function(d,c){var k=this;a.external.backplane.isLoaded()&&!a.external.backplane._ready&&a._.loginMethods[this.api.methodName]?a.external.backplane.executeOnInit(function(){k.beforeRequest(d,c)}):(-1!=this.api.methodName.indexOf(".logout")&&
(!d&&!this.params.regToken||a.partnerSettings.ssoLogoutUrl&&document.location.href==a.partnerSettings.ssoLogoutUrl)&&c(b()),this.handleDeprecatedParams(),this.handleCollections(),this.handleConnectWithoutLoginBehavior(d),this.params.extraPermissions=this.params[this.params.provider+"ExtraPermissions"]||this.params.permissions,this.api.preprocessRequest(this.params,function(){k.setOverridableParams(function(){k.setNonOverridableParams(d,function(){k.filterParams(k.params);a.log.logCall(k.api.methodName,
k.originalParams,k.originalParams.lastSource);c()})})}))};g.prototype.setOverridableParams=function(b){a.utils.object.merge([{},this.params]);b()};g.prototype.doesHaveAltSessionParam=function(){if(this.api.altSessionParams){for(var a=this.api.altSessionParams.split("|"),b=0;b<a.length;b++)if(this.params[a[b]])return!0;return!1}};g.prototype.setNonOverridableParams=function(b,c){if(null!=this.params.APIKey){var k=a.utils.cookie.get("gltexp_"+this.params.APIKey);null!=k&&(this.params.loginTokenExp=
k)}(k=a.utils.cookie.get("_gigRefUid_"+this.params.APIKey))&&(b||a._.loginMethods[this.api.methodName])&&(this.params.refUID=k);if(a.fbAppID&&!l){var k=a.external.facebook.getParams(),g;for(g in k)this.params[g]=k[g];l=!0}0==this.api.methodName.indexOf("accounts.")&&(a.events.global._activeNamespaces.socialize&&null==this.params.includeUserInfo&&(this.params.includeUserInfo=!0),this.params.include=this.params.include?this.params.include+",":"profile,data");"accounts.getSchema"==this.api.methodName&&
(this.params.includeDynamicSchema="clientOnly");(g=a.external.backplane.getChannelId())&&(this.params.bp_channel_url=g);this.params.targetEnv="jssdk";c()};g.prototype.handleDeprecatedParams=function(){this.params.pendingRegistration?this.params.pending_registration=this.params.pendingRegistration:this.params.newUsersPendingRegistration&&(this.params.pending_registration=this.params.newUsersPendingRegistration);!0==this.params.alwaysForceAuthentication&&(this.params.forceAuthentication=!0);this.params.timestamp&&
(this.params.UIDTimestamp=this.params.timestamp,delete this.params.timestamp);this.params.signature&&0==this.api.methodName.indexOf("socialize.")&&(this.params.UIDSig=this.params.signature,delete this.params.signature);this.params.nonce&&(this.params.UIDNonce=this.params.nonce,delete this.params.nonce);this.params.format&&!this.params.dataFormat&&(this.params.dataFormat=this.params.format,delete this.params.format)};g.prototype.handleCollections=function(){this.params.recipients&&(this.params.recipients=
this.extractListOfGIGUIDs(this.params.recipients));if(this.params.friends){var a=this.extractListOfGIGUIDs(this.params.friends);0<this.params.UIDs.length&&(this.params.UIDs+=",");this.params.UIDs+=a}};g.prototype.extractListOfGIGUIDs=function(b){switch(typeof b){case "string":return b;case "object":if("undefined"!=typeof b.UID)return b.UID;if(b instanceof a.socialize.Collection){var c=[];b.each(function(a,b){var d=this.extractListOfGIGUIDs(a);null!=d&&""!=d&&c.push(d)});return c.join(",")}}};g.prototype.handleConnectWithoutLoginBehavior=
function(b){if("socialize.addConnection"==this.api.methodName){var c=this.params.connectWithoutLoginBehavior;c&&(c=c.toLowerCase());"loginexistinguser"==c&&(this.params.loginIfExists=!0);b||(this.api=a._.getApi("socialize.login"),"alwayslogin"!=c&&(this.params.temporary_account=!0))}};g.prototype.filterParams=function(b){this.params=a.utils.object.extractProperties(b,{},this.getFullSchema())};g.prototype.getFullSchema=function(){if(null==this.api.schema)return"";for(var b=(this.api.schema+"|"+a._.defaultApiSchema).split("|"),
c=0;c<b.length;c++){var k=b[c];if(-1!=k.toLowerCase().indexOf("[providercapability=")){for(var g=k.toLowerCase().split("=")[1].split("]")[0],k=k.split("]")[1],g=a.socialize.getProvidersForRequiredCapabilities(a.socialize.getProvidersByName("*"),[g]),h=[],f=0;f<g.length;f++)h.push(g[f].name+k);b[c]=h.join("|")}}return b.join("|")};g.prototype.preprocessServerResponse=function(b){b.userInfo&&0!=this.api.methodName.indexOf("accounts.")&&("string"==typeof b.userInfo&&(b.userInfo=a.utils.JSON.deserialize(b.userInfo)),
b.userInfo&&(b=a.utils.object.merge([b.userInfo,b]),b.errorCode=b.userInfo.errorCode,delete b.userInfo));b.accountInfo&&"string"==typeof b.accountInfo&&(b.accountInfo=a.utils.JSON.deserialize(b.accountInfo),b.accountInfo&&(b=a.utils.object.merge([b.accountInfo,b]),delete b.accountInfo));try{b.settings&&"string"==typeof b.settings&&(b.settings=a.utils.JSON.deserialize(b.settings))}catch(c){}return b};g.prototype.onAfterLogoutMethod=function(){a.external.backplane.resetChannel()};g.prototype.getExpiredSessionResponse=
function(d){switch(this.api.methodName){case "socialize.setUserSettings":this.originalParams.disableLocalSettings||(a._.setGigyaSettings(this.params.group,this.params.settings),d=b());break;case "socialize.delUserSettings":this.originalParams.disableLocalSettings||(a._.delGigyaSettings(this.params.group,this.params.settings),d=b());break;case "socialize.getUserSettings":if(!this.originalParams.disableLocalSettings){var c=a._.getGigyaSettings(this.params.group);d=b();d.settings=c}break;case "socialize.getUserInfo":d.status=
"OK";d.statusMessage="";d.errorCode=0;d.statusCode=0;d.errorMessage="";d.errorDetails="";d.statusReason="";d.user=new a.socialize.User;break;case "accounts.logout":case "socialize.logout":d=b()}return d};g.prototype.afterServerApiResponse=function(b,c){var k=this;a._.checkCompleteRegistration(b,this.originalParams,function(g,h,f){b=g;b=k.preprocessServerResponse(b);if(a._.logoutMethods[k.api.methodName]&&0==b.errorCode)k.onAfterLogoutMethod();403005==b.errorCode&&(b=k.getExpiredSessionResponse(b));
0==b.errorCode&&(c||a._.loginMethods[k.api.methodName])&&a.utils.cookie.remove("_gigRefUid_"+k.originalParams.APIKey);k.handleMethodResponse(b,function(g){b=g;k.addDefaultResponseProperties(b);a._.handleSpecialFields(b);k.logoutFromProvidersIfNeeded(b,function(){h||k.generateEventsFromResponse(b,c);f?k.sendRequest(c):(a.events.global.dispatch({eventName:"afterResponse",methodName:k.api.methodName,filteredParams:k.params,response:b},k.originalParams),"function"==typeof k.callback&&(a.log.addLog("Calling callback for "+
k.api.methodName+" with this response object",b),k.callback(b)),k.api.settings.postprocessor&&k.api.settings.postprocessor(k.originalParams,b))})})})};g.prototype.addDefaultResponseProperties=function(a){delete a.statusCode;delete a.statusReason;a.errorCode=a.errorCode||0;a.status=a.status||(0==a.errorCode?"OK":"FAIL");a.errorMessage=a.errorMessage||"";a.statusMessage=a.statusMessage||a.errorMessage;a.requestParams=this.originalParams;a.requestParams.password&&delete a.requestParams.password;a.context=
this.originalParams.context;var b=this.api.methodName.split(".")[0];a.operation="socialize"==b?this.api.methodName.split(".")[1]:"/"+this.api.methodName};g.prototype.handleMethodResponse=function(b,c){if(0==b.errorCode)switch(this.api.methodName){case "socialize.postComment":if(b.comment)try{b.comment=a.utils.JSON.deserialize(b.comment)}catch(k){}break;case "gm.getTopUsers":if(a.localInfo.isIE)for(var g=0;g<b.users.length;g++){var h=b.users[g];h.photoURL&&-1!=h.photoURL.indexOf("apis.live.net")&&
(h.photoURL=h.photoURL.replace("https://apis.live.net",document.location.protocol+"//msnproxy.gigya.com"))}break;case "accounts.socialLogin":case "socialize.login":b.newUser=b.x_newUser?!0:!1,delete b.x_newUser;case "socialize.notifyLogin":case "socialize.addConnection":case "accounts.linkAccounts":case "accounts.finalizeRegistration":case "accounts.login":case "accounts.register":case "socialize.getUserInfo":delete b.login_token;delete b.expires_in;b.code&&(b.authCode=b.code,delete b.code);b.authCode||
"socialize.notifyLogin"==this.api.methodName&&this.params.authCode||(h=b,b.userInfo&&(h=b.userInfo,delete b.userInfo),-1==this.api.methodName.indexOf("accounts.")?(b={user:h},a.utils.object.extractProperties(h,b,"status|statusMessage|callId|errorCode|errorMessage|errorDetails|settings|context|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID|profile|data|newUser"),b.user.hasOwnProperty("UIDSig")&&(b.signature=b.user.UIDSig),h.profile&&delete h.profile,h.data&&delete h.data,delete h.status,delete h.statusMessage,
delete h.callId,delete h.errorCode,delete h.errorMessage,delete h.errorDetails,delete h.settings,delete h.context):b!=h&&(b.user=h),""==h.age||isNaN(parseInt(h.age))||(h.age=parseInt(h.age)),h.suppressEvents&&(b.suppressEvents=!0),"string"==typeof h.capabilities&&((g=h.capabilities)||(g=""),"object"!=typeof h.capabilities&&(h.capabilities={}),g=g.toLowerCase(),h.capabilities={actions:-1<g.indexOf("actions"),friends:-1<g.indexOf("friends"),login:-1<g.indexOf("login"),status:-1<g.indexOf("status"),
notifications:-1<g.indexOf("notifications"),contacts:-1<g.indexOf("contacts"),photos:-1<g.indexOf("photos")}),a._.convertIdentitiesArrayToObject(h),"string"==typeof h.providers&&(h.providers=h.providers.split(",")),this.params.group&&!b.settings&&(g=a._.getGigyaSettings(this.params.group),b.settings=g));break;case "socialize.getAvailableProviders":h={};for(g=0;g<b.availableProviders.length;g++)h[b.availableProviders[g].name]=b.availableProviders[g];b.availableProviders=h}"socialize.removeConnection"==
this.api.methodName&&0==b.errorCode?a.socialize.getUserInfo(this.originalParams,{callback:function(a){c(a)}}):c(b)};g.prototype.logoutFromProvidersIfNeeded=function(b,c){var g;b.connectedProviders?g=b.connectedProviders.toLowerCase():b.provider&&(g=b.provider.toLowerCase());if(a._.logoutMethods[this.api.methodName]&&g&&!a.utils.validation.isExplicitFalse(this.originalParams.forceProvidersLogout)){var f=g.split(","),h=0,l=!1,n=function(){l||c();l=!0};window.setTimeout(n,5E3);for(g=0;g<f.length;g++)this.logoutFromProvider(f[g],
function(){h++;h==f.length&&n()})}else c()};g.prototype.logoutFromProvider=function(b,c){var g="",f=!1;switch(b){case "facebook":if(a.fbAppID){a.socialize.waitForService({service:"facebook",callback:function(){a.external.facebook.isLoggedIn&&FB.logout?FB.logout(function(){a.external.facebook.refreshSession();c()}):c()}});return}break;case "yahoo":g="https://login.yahoo.com/config/login?.src=fpctx&amp;logout=1&r=";break;case "google":g="https"==a.thisScript.protocol?"https://google.com/accounts/Logout?r=1":
"https://www.google.com/accounts/Logout?r=",f=!0}if(g){var g=g+(new Date).getTime(),h;if(f){var l=document.createElement("iframe");l.style.width="30px";l.style.height="10px";l.style.position="absolute";l.style.top="-1000px";l.style.left="-1000px";h=function(a){var b;b=a&&a.srcElement?a.srcElement:a&&a.target?a.target:this;!b.loaded&&b.parentNode&&(b.loaded=!0,c(),window.setTimeout(function(){try{document.body.removeChild(b)}catch(a){}},5E3))};l.addEventListener?(l.addEventListener("load",h,!1),l.addEventListener("error",
h,!1)):l.attachEvent&&(l.attachEvent("onload",h),l.attachEvent("onerror",h),l.onerror=l.onload=l.onreadystatechange=function(a){l.readyState&&"loaded"!=l.readyState&&"complete"!=l.readyState||h(a)},l.onerror=h);l.src=g;a.utils.DOM.appendToBody(l)}else f=new Image,h=function(){this.loaded||(this.loaded=!0,c())},f.onload=h,f.onerror=h,f.src=g}else c()};g.prototype.generateEventsFromResponse=function(b,c){var g=this,f;if(0==b.errorCode)switch(this.api.methodName){case "accounts.logout":case "socialize.logout":case "socialize.unlinkAccounts":case "socialize.deleteAccount":f=
{eventName:"logout,accounts.logout"};break;case "socialize.linkAccounts":case "socialize.setUID":a._.addUserInfoToEvent(b,f,!0);break;case "socialize.removeConnection":f={eventName:"connectionRemoved,disconnect",provider:this.params.provider||""};a._.addUserInfoToEvent(b,f);break;case "socialize.addConnection":!c&&b.user.isLoggedIn?(f={eventName:"login",provider:this.params.provider},a._.addUserInfoToEvent(b,f,!0)):(f={eventName:"connectionAdded,connect",provider:this.params.provider},a._.addUserInfoToEvent(b,
f));break;case "accounts.linkAccounts":case "accounts.finalizeRegistration":case "accounts.login":case "accounts.register":case "accounts.socialLogin":this.dispatchAccountsLoginEvent(b);case "socialize.finalizeRegistration":case "socialize.register":case "socialize.login":if(!b.user&&!b.authCode)break;f={eventName:"login"};var h=this.params.provider;if(!h&&b.providerSessions)for(var l in b.providerSessions){h=l;break}f.provider=h||"site";b.authCode&&(f.authCode=b.authCode);a._.addUserInfoToEvent(b,
f,!0);b.user&&h&&(h=h.toLowerCase(),a.utils.cookie.set("_gig_llp",h),a.utils.cookie.set("_gig_llu",b.user.firstName||""));break;case "socialize.notifyLogin":this.params.authCode||(f||(f={eventName:"login"}),f.provider="site",a._.addUserInfoToEvent(b,f,!0));break;case "gm.notifyAction":a.events.global.dispatch({eventName:"actionNotified",isInternal:!0})}a._.loginMethods[this.api.methodName]&&(this.originalParams.redirectURL&&f&&f.user&&0==b.errorCode)&&a.utils.redirect(this.originalParams.redirectURL,
[f,f.user],this.originalParams.redirectMethod);0==b.errorCode&&(f&&"login"==f.eventName&&!b.profile&&a.events.global._activeNamespaces.accounts&&-1==this.api.methodName.indexOf("accounts"))&&a.accounts.getAccountInfo(this.originalParams,{include:"profile,data",includeUserInfo:!1,callback:function(a){g.dispatchAccountsLoginEvent(a)}});null!=f&&(f.context=this.originalParams.context,a.events.global.dispatch(f,this.originalParams))};g.prototype.dispatchAccountsLoginEvent=function(b){var c={eventName:"accounts.login",
remember:a.utils.validation.isExplicitTrue(this.originalParams.remember),provider:this.originalParams.provider?this.originalParams.provider.toLowerCase():""};a.utils.object.extractProperties(b,c,"signature|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID|profile|data");a.events.global.dispatch(c,this.originalParams)};return g}();c.ServerApiRequest=f})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){var b,l={showReactionsBarUI:["barID"],showCommentsUI:["categoryID","streamID"],showFeedUI:["feedID"],showChatUI:["configID","streamID","chatID"]},f=function(c){function d(a,b,d,f,l,n){"undefined"===typeof d&&(d={});"undefined"===typeof f&&(f={});"undefined"===typeof l&&(l="");"undefined"===typeof n&&(n={});c.call(this,n.apiName||b.split(".")[0]+"."+a,n);this.methodName=a;this.jsName=b;this.settings=n;n.defaultParams=d||{};n.defaultPopupParams=f||{};n.requiredParams=l||""}
__extends(d,c);d.prototype.run=function(b){var d=this;c.prototype.run.call(this,b);b=a.utils.object.clone(b);this.preprocessRequest(b,function(){var c=d.getPluginJsUrl(b),g=b.containerID;if(d.settings.ignoreContainerId)g=b.containerID="";else if(null==b.containerID&&!d.settings.allowPopup||b.containerID&&!document.getElementById(b.containerID)){a.events.dispatchInvalidParamError(b,"containerID");return}b.source?b.isPopup=!1:d.setSourceData(b);var f=d.settings.allowPopup&&(!g||b.isPopup);d.setDefaultParams(b);
d.settings.allowPopup||f||a.utils.DOM.clearByID(g);if(d.validateRequiredParams(b)){d.settings.dontLoadPluginsCore||d.loadPluginsCore();a.utils.script.load(c,null,null,!0);var l=function(){d.prepareContainer(b,f,function(){d.startPlugin(b)})};a.utils.queue.queueForExecution("UI",function(){!1==b.waitForDebug?l():a.utils.queue.queueForExecution("debug",l)})}})};d.prototype.startPlugin=function(b){var c=this;a.utils.script.load(this.getPluginJsUrl(b),null,function(){a.events.global.dispatch({eventName:"beforePluginReqwuest",
methodName:c.methodName,params:b},b);a.log.logCall(c.methodName,b);a.reports.reportLoad(c.methodName,b);a.utils.functions.callFunction("gigya."+c.jsName+"."+c.methodName,[b,b,b])},!0)};d.prototype.setSourceData=function(a){a.source="socialize.showSimpleShareUI"==this.methodName?"socialize.showShareUI":this.methodName;if(!a.sourceData&&l[this.methodName]){for(var b={},c,d=0;d<l[this.methodName].length;d++){var g=l[this.methodName][d];null!=a[g]&&(c=!0,b[g]=a[g])}c&&(a.sourceData=b)}a.pluginsStack||
(a.pluginsStack=[]);a.pluginsStack.push({source:this.methodName});a.lastSource=this.methodName};d.prototype.loadPluginsCore=function(){b||(a.utils.queue.hold("pluginsJS","UI"),a.utils.script.load(a.thisScript.base+"/js/gigya.services.socialize.plugins.min.js",null,function(){b=!0;a.utils.queue.release("pluginsJS","UI")},!0))};d.prototype.getPluginJsUrl=function(b){var c=a.thisScript.base+"/js/gigya.services."+this.jsName+".min.js";b.lang&&(c+="?lang="+b.lang);return c};d.prototype.validateRequiredParams=
function(b){for(var c=this.settings.requiredParams.split("|"),d=0;d<c.length;d++){var g=c[d];if(""!=g&&(null==b[g]||""==b[g]))return a.events.dispatchInvalidParamError(b,g),!1}return!0};d.prototype.setDefaultParams=function(a){var b=!a.containerID||a.isPopup,c;for(c in this.settings.defaultParams)null==a[c]&&(a[c]=b&&this.settings.defaultPopupParams[c]?this.settings.defaultPopupParams[c]:this.settings.defaultParams[c]);if(b)for(c in this.settings.defaultPopupParams)a[c]||(a[c]=this.settings.defaultParams[c])};
d.prototype.prepareContainer=function(b,c,d){var g=this;if(document.body){var f=b.containerID;c&&(f=a.utils.DOM.getCenteredDivID(this.methodName),b.newPopup&&(f+=(new Date).getTime()),b.containerID=f,b.isPopup=!0,document.getElementById(f)||a.utils.DOM.createTopLevelDiv(f));var l=document.getElementById(f);l||(a.events.dispatchInvalidParamError(b,"containerID"),d());var s=this.getPluginJsUrl(b),p=l.Reqs?l.Reqs:l.Reqs=[],r=p.length+"@"+s+"@"+f;b.rid=r;p[p.length]={rid:r,servicedBy:s,container:l,method:this.methodName,
context:b.context,c:b,p:b,i:b,operation:this.methodName,isHTML:!0};if(l&&l.style){l.style.display="";l.style.visibility="";if(f=document.getElementById("gigya_ifr_"+f))f.style.display="",f.style.visibility="";null!=f&&(a.utils.DOM.setSize(f,b.width,b.height,c),f.style.visibility="visible");a.utils.DOM.setSize(l,b.width,b.height,c)}f=this.methodName.split(".").pop();l.setAttribute&&l.setAttribute("gigid",(b.source&&b.source!=f?b.source+"_":"")+f);d()}else window.setTimeout(function(){g.prepareContainer(b,
c,d)},200)};return d}(c.BaseApi);c.UiApi=f})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){(function(b){function c(b,g,d,e){g||(g="socialize");a[g]||(a[g]={});a[g].plugins||(a[g].plugins={});a[g].plugins[d]||(a[g].plugins[d]={instances:[]});var k=a[g].plugins[d];k[e]||(k[e]=function(a){a=new b(a,"gigya."+g+".plugins."+d+".instances["+k.instances.length+"]");k.instances.push(a)})}b.attachPlugin=c;a.utils.functions.createAlias("gigya.attachPlugin",c)})(c.UI||(c.UI={}))})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){a.socialize.addEventHandlers=function(){for(var b=0;b<arguments.length-0;b++);var b=a.utils.object.merge([a.thisScript.globalConf,arguments]),c=b.namespace?b.namespace:"socialize",e;for(e in b)0==e.indexOf("on")&&a.events.global.add(e,b[e],b.listenerType,b.context,c);"function"==typeof b.callback&&b.callback({status:"OK",statusMessage:"",errorCode:0,errorMessage:"",operation:"addEventHandlers",context:b.context})};a.accounts.addEventHandlers=function(){for(var b=0;b<arguments.length-
0;b++);b=a.utils.object.merge([arguments,{namespace:"accounts"}]);a.socialize.addEventHandlers(b)};a.socialize.isLoggedIn=function(){var b=a.utils.object.merge([a.thisScript.globalConf,arguments]);a.socialize.getUserInfo(b,{callback:function(c){var e=c.user,e={loggedIn:e?a.utils.validation.isExplicitTrue(e.isLoggedIn):!1};a.utils.object.extractProperties(c,e,"status|statusMessage|callId|errorCode|errorMessage|errorDetails|context");b.callback&&b.callback(e)}})};a.socialize.waitForService=function(){var b=
a.utils.object.merge([a.thisScript.globalConf,arguments]),c=b.service;c&&(c=c.toLowerCase(),"fbconnect"==c||"facebook"==c)&&(c=b.callback,a.external.facebook.isLoaded()?c({context:b.context}):a.socialize.addEventHandlers({listenerType:"component"},{onFacebookLoaded:c,context:b.context}))};a.socialize._injectFBC=function(){a.utils.queue.queueForExecution("API",function(){a.utils.functions.invokeOnPageLoad(a.external.facebook.load)})};var b={facebook:{w:640,h:370},twitter:{w:880,h:585},messenger:{w:710,
h:905},linkedin:{w:560,h:500},yahoobookmarks:{w:840,h:975},digg:{w:1010,h:1045},delicious:{w:890,h:905},googlebookmarks:{w:710,h:905},mixi:{w:640,h:470},googleplus:{w:496,h:420}};a.socialize.postBookmark=function(){var c=a.utils.object.merge([a.thisScript.globalConf,arguments]);c.APIKey||(c.APIKey=a.thisScript.APIKey);var d={};a.utils.object.extractProperties([c],d,a._.postBookmarkSchema);d.sdk="js_"+a.build.version;if(!d.URL&&!d.url&&d.userAction&&!d.userAction.linkBack)for(var e=document.getElementsByTagName("meta"),
f=0;f<e.length;f++)if("og:url"==e[f].getAttribute("property")&&e[f].getAttribute("content")){d.URL=e[f].getAttribute("content");break}d.URL||(d.url||!d.userAction||d.userAction.linkBack)||(d.URL=document.location.href);delete d.context;d.provider||(d.provider="");d.providerKey||"facebook"==d.provider.toLowerCase()&&(d.providerKey=a.external.opengraph.getMetaTag("fb:app_id"));var e=a.utils.keyValue.serialize(d),f=b[d.provider.toLowerCase()],l=c.enablePopupLocation?"location=1,toolbar=1":null;f&&(f.w&&
f.h)&&(l=(c.enablePopupLocation?"location=1,toolbar=1,":"toolbar=0,")+"menubar=0,resizable=1,scrollbars=1,width="+f.w+",height="+f.h);a.log.logCall("postBookmark",d);a.utils.win.open(a.utils.stringUtils.format("https://socialize.{0}/gs/bookmark.aspx?{1}",a.partnerSettings.plugins.apiDomain,e),"gs_bookmark_"+d.provider,l)};a.socialize.refreshUI=function(){var b=a.utils.object.merge([a.thisScript.globalConf,arguments]),c=b.callback;a.socialize.getUserInfo(b,{callback:function(e){var f={eventName:"login",
isInternal:!0};b.provider&&(f.provider=b.provider);a._.addUserInfoToEvent(e,f,!0);b.context&&(f.context=b.context);a.events.global.dispatch(f);"function"==typeof c&&c(e)}})};var l={"digg.com":"digg","stumbleupon.com":"stumbleupon","delicious.com":"delicious","technorati.com":"technorati","t.co":"twitter","plus.url.google.com":"googlePlus","facebook.com":"facebook","linkedin.com":"linkedIn","pinterest.com":"pinterest"},f;a.socialize.trackReferrals=function(){var b=a.utils.object.merge([a.thisScript.globalConf,
arguments]),c={},e={};-1!=document.location.href.indexOf("#")&&(e=a.utils.keyValue.deserialize(document.location.href.split("#")[1]));-1!=document.location.href.indexOf("?")&&(c=a.utils.keyValue.deserialize(document.location.href.split("?")[1].split("#")[0]));e.guid&&"_"!=e.guid&&a.utils.cookie.set("_gigRefUid_"+b.APIKey,e.guid);var k=e._giguuid||c._giguuid;k&&a.utils.cookie.set("_gigRefUid_"+b.APIKey,k);if(null==e._gus&&null==c._gus){if(!f){var m,e={url:document.location.href,ref:document.referrer};
c.fb_ref?(m=a.utils.keyValue.deserialize(c.fb_ref,":"),e.uuid=m.uu,e.sn=m.p,m=m.s):document.referrer&&-1!=document.referrer.indexOf("://")&&(c=document.referrer.split("://")[1].split("/")[0],0==c.indexOf("www.")&&(c=c.split("www.")[1]),l[c]&&(e.sn=l[c]));e.sn||document.referrer&&(-1!=document.referrer.indexOf("http://soc.li")||-1!=document.referrer.indexOf("https://shr.gs"))||(c=document.location.href.split("#guid="),1<c.length&&(c=c[1].split("#")[0].split("&")[0],c!=a._.apiAdapter.getTokenParam(b.APIKey,
"UUID")&&(e.sn="AddressBarShares",e.uuid=c,"_"==c&&delete e.uuid,document.location.replace("#"),a.reports.trackAddressBarShares(),e.url=document.location.href.split("#")[0])));e.uuid&&a.utils.cookie.set("_gigRefUid_"+b.APIKey,e.uuid);e.sn&&a.reports.report("linkback",b.APIKey,b.cid,m,null,e);f=!0}"function"==typeof b.callback&&b.callback({status:"OK",statusMessage:"",operation:"trackReferrals",context:b.context,errorMessage:"",errorCode:0})}};a.socialize.hideUI=function(){var b=a.utils.object.merge([a.thisScript.globalConf,
arguments]);"function"==typeof b.callback&&b.callback({status:"OK",statusMessage:"",operation:"hideUI",context:b.context,errorMessage:"",errorCode:0})};a.gcs.submitUserForm=function(){var b={},c=a.utils.object.merge([a.thisScript.globalConf,arguments]),e=document.getElementById(c.form);if(!e){var f=document.getElementsByName(c.form);f&&0<f.length&&(c.form=f[0])}for(f=0;f<e.elements.length;f++){var l=e.elements[f];if(l.name){for(var h=l.name.split("."),t=b,n=0;n<h.length-1;n++){var s=h[n];t[s]||(t[s]=
{});t=t[s]}t[h[h.length-1]]=l.value}}c.data=b;a.gcs.setUserData(c)};a.socialize.getProviderShareCounts=function(){var b=a.utils.object.merge([a.thisScript.globalConf,arguments]);a.utils.script.load(a.thisScript.base+"/js/gigya.services.socialize.plugins.shareCounts.min.js",null,function(){a.socialize.plugins.shareCounts.getProviderShareCounts(b)},!0)}})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){c.defaultApiSchema="APIKey|cid|oauth_token|source|sourceData|usePost|refUID|fb_UID|fb_at|fb_exp";c.defaultOauthSchema="temporary_account|authFlow|connectWithoutLogin|provider|redirectMethod|redirect_uri|pendingRegistration|lang|regSource|extraPermissions|sessionExpiration|forceAuthentication|includeiRank|includeAllIdentities|extraFields|enabledProviders|disabledProviders|signIDs|openIDUsername|openIDURL|openIDProviderLogo|openIDProviderName|finalizeRegistration|include|actionAttributes|profileAttributes|googlePlayAppID|bp_channel_url|loginIfExists|includeUserInfo|redirectURL|authCodeOnly|enablePopupLocation";
c.postBookmarkSchema="provider|URL|url|title|description|target|cid|APIKey|shortURLs|source|sourceData|providerKey|thumbnailURL|tags|userAction|[providerCapability=actions]UserAction|actionAttributes";c.loginMethods={"socialize.login":1,"socialize.addConnection":1,"socialize.notifyLogin":1,"socialize.linkAccounts":1,"accounts.login":1,"accounts.socialLogin":1,"accounts.linkAccounts":1,"accounts.register":1,"accounts.finalizeRegistration":1};c.logoutMethods={"socialize.logout":1,"accounts.logout":1,
"socialize.deleteAccount":1,"socialize.unlinkAccounts":1};c.arApiList=[new c.ServerApi("socialize.login",c.defaultOauthSchema,!1,{oauth:!0},{clearSession:!0,forceHttps:!0}),new c.ServerApi("socialize.addConnection",c.defaultOauthSchema,!1,{oauth:!0},{forceHttps:!0}),new c.ServerApi("socialize.requestPermissions",c.defaultOauthSchema,!1,{oauth:!0},{requiresSession:!0}),new c.ServerApi("accounts.socialLogin",c.defaultOauthSchema,!1,{oauth:!0},{clearSession:!0,forceHttps:!0}),new c.UiApi("showDebugUI",
"socialize.plugins.debug",{},{},"",{allowPopup:!0}),new c.UiApi("showRatingUI","comments.plugins.rating",{showReadReviewsLink:!0,showCommentButton:!0,includeRatingsDims:!0}),new c.UiApi("showCommentsUI","comments.plugins.comments",{width:500},{},"",{preprocessor:function(b,c){2==b.version&&a.utils.browser.isModern()?a.comments.showCommentsUI2(b):c()}}),new c.UiApi("showCommentsUI","comments.plugins.comments2",{width:500},{},"",{apiName:"comments.showCommentsUI2"}),new c.UiApi("showShareUI","socialize.plugins.share",
{width:520,height:320},{width:595,height:324},"userAction",{allowPopup:!0,preprocessor:function(b,l){var f=b.operationMode;f&&(f=f.toLowerCase().replace(/ /g,""));b.containerID||(delete b.width,delete b.height);c.apiAdapter.isSessionValid(b,function(c){"simpleshare"==f||"autodetect"==f&&!c?a.socialize.showSimpleShareUI(b):l()})}}),new c.UiApi("showLoginUI","socialize.plugins.login",{width:120,height:110},{width:280,height:220},"",{allowPopup:!0}),new c.UiApi("showAddConnectionsUI","socialize.plugins.login",
{width:110,height:65},{width:250,height:200},"",{allowPopup:!0}),new c.UiApi("showFriendSelectorUI","socialize.plugins.friendSelector",{width:400,height:360},{},"",{allowPopup:!0}),new c.UiApi("showFeedUI","socialize.plugins.newsfeed",{width:304,height:265}),new c.UiApi("showChatUI","chat.plugins.chat",{width:300,height:450},{},"",{preprocessor:function(a,c){a.site&&(a.categoryID=a.site);a.stream&&(a.streamID=a.stream);a.skin&&(a.skinID=a.skin);a.streamID=a.streamID||0;c()}}),new c.UiApi("showEditConnectionsUI",
"socialize.plugins.edit",{width:310,height:250},{width:310,height:310},"",{allowPopup:!0}),new c.UiApi("showShareBarUI","socialize.plugins.reactions",{shareCountCacheTimeout:3E5},{},"userAction|shareButtons"),new c.UiApi("showReactionsBarUI","socialize.plugins.reactions",{},{},"userAction|barID|reactions",{preprocessor:function(a,c){a.barID||(a.barID=a.itemID);c()}}),new c.UiApi("showMiniShareUI","socialize.plugins.minishare",{width:320,height:153},{},"",{allowPopup:!0}),new c.UiApi("showFollowBarUI",
"socialize.plugins.followbar",{},{},"buttons"),new c.UiApi("showBookmarkUI","socialize.plugins.bookmark",{width:310,height:250},{width:310,height:310}),new c.UiApi("showSimpleShareUI","socialize.plugins.simpleShare",{width:280,height:175},{},"userAction",{allowPopup:!0,dontLoadPluginsCore:!0}),new c.UiApi("showShareMobileUI","socialize.plugins.shareMobile",{},{},"userAction",{allowPopup:!0}),new c.UiApi("showUserStatusUI","gm.plugins.userStatus",{width:300,hidePoints:!1,hideActions:!1},{},"",{requireSession:!0}),
new c.UiApi("showAchievementsUI","gm.plugins.achievements",{width:300,height:100,excludeChallenges:"_default"}),new c.UiApi("showChallengeStatusUI","gm.plugins.achievements",{width:300,height:100,challenge:"_default"}),new c.UiApi("showLeaderboardUI","gm.plugins.leaderboard",{width:300},{},"",{preprocessor:function(a,c){a&&a.height&&(a.height=null);c()}}),new c.UiApi("showNotifications","gm.plugins.notifications",{},{},"",{preprocessor:function(b,c){var f=a.utils.localStorage.getObject("gmSettings");
f&&f.disableNotifications||(b.containerID="gigNotifications",document.getElementById(b.containerID)||(f=document.createElement("div"),f.id=b.containerID,f.style.position="absolute",f.style.left="-1000px",a.utils.DOM.appendToBody(f)),c())}}),new c.UiApi("showTfaUI","accounts.plugins.tfa",{width:325}),new c.UiApi("showScreenSet","accounts.plugins.screenSet",{},{},"",{allowPopup:!0}),new c.UiApi("hideScreenSet","accounts.plugins.screenSet",{},{},"",{allowPopup:!0}),new c.UiApi("switchScreen","accounts.plugins.screenSet",
{},{},"",{allowPopup:!0}),new c.ServerApi("socialize.getAvailableProviders","enabledProviders|disabledProviders|requiredCapabilities"),new c.ServerApi("socialize.notifyLogin","siteUID|UIDTimestamp|UIDSig|UIDNonce|provider|authToken|tokenSecret|regSource|tokenExpiration|sessionHandle|sessionHandleExpiration|userInfo|providerSessions|sessionExpiration|authCode|includeAllIdentitiesincludeiRank|group|settings|extraFields|signIDs|newUser|actionAttributes|profileAttributes|bp_channel_url",!1,void 0,{forceHttps:!0,
clearSession:!0}),new c.ServerApi("socialize.shortenURL","URL"),new c.ServerApi("socialize.convertAction","userAction|[providerCapability=actions]UserAction|provider"),new c.ServerApi("socialize.getReactionsCount","barID|buttonIDs|reportLoad"),new c.ServerApi("socialize.incrementReactionsCount","barID|buttonID|count|actionAttributes|profileAttributes"),new c.ServerApi("socialize.deleteAccount",void 0,!0),new c.ServerApi("socialize.delUserSettings","group|settings",!0),new c.ServerApi("socialize.getAlbums",
"type|enabledProviders|disabledProviders",!0),new c.ServerApi("socialize.getContacts","enabledProviders|disabledProviders",!0),new c.ServerApi("socialize.getFriendsInfo","enabledProviders|disabledProviders|detailLevel|UIDs|siteUsersOnly|requiredCapabilities|signIDs",!0),new c.ServerApi("socialize.getPhotos","enabledProviders|disabledProviders|albumIDs|tags",!0),new c.ServerApi("socialize.getRawData","provider|UID|fields|dataFormat",!0),new c.ServerApi("socialize.getSessionInfo","provider|paddingMode|encrypt|signIDs|encryptAll",
!0),new c.ServerApi("socialize.getUserInfo","enabledProviders|disabledProviders|signIDs|includeiRank|includeAllIdentities|extraFields|group|settings|includeOpenidUID",!0),new c.ServerApi("socialize.getUserSettings","group|settings|regToken",!0,void 0,{forceHttps:!0},"regToken"),new c.ServerApi("socialize.getPlaces","enabledProviders|disabledProviders|latitude|longitude|query|radius|unifyResults",!0),new c.ServerApi("socialize.checkin","enabledProviders|disabledProviders|placeID|comment|latitude|longitude|actionAttributes|profileAttributes",
!0),new c.ServerApi("socialize.logout","signIDs",!0,{preprocessor:function(b,c){a.partnerSettings.ssoKey&&(b.signIDs=!0);c()}}),new c.ServerApi("socialize.notifyRegistration","siteUID|UIDTimestamp|UIDSig",!0),new c.ServerApi("socialize.publishUserAction","userAction|[providerCapability=actions]UserAction|enabledProviders|disabledProviders|target|shortURLs|scope|privacy|feedID|userLocation|tags|actionAttributes|profileAttributes",!0),new c.ServerApi("socialize.removeConnection","provider",!0),new c.ServerApi("socialize.sendNotification",
"recipients|body|subject|shortURLs|actionAttributes|profileAttributes",!0),new c.ServerApi("socialize.setStatus","shortURLs|status|[providerCapability=status]Status|enabledProviders|disabledProviders|userLocation|actionAttributes|profileAttributes",!0),new c.ServerApi("socialize.setUID","siteUID|UIDTimestamp|UIDSig",!0),new c.ServerApi("socialize.setUserSettings","group|settings|regToken",!0,void 0,{forceHttps:!0},"regToken"),new c.ServerApi("socialize.unlinkAccounts",void 0,!0),new c.ServerApi("socialize.getFeed",
"feedID|startTS|endTS|groups|limit|includeUID"),new c.ServerApi("socialize.sendEmail","dontSendEmail|companyName|lang|emails|emailSubject|emailBody|linkBack|senderEmail|senderName|userMsg|shortURLs|userAction|[providerCapability=actions]UserAction|actionAttributes|profileAttributes|captchaTicket",!1,void 0,{forceHttps:!0}),new c.ServerApi("socialize.facebookGraphOperation","graphPath|graphParams|authRequired|method|authType"),new c.ServerApi("socialize.getTopShares","age|tag|limit"),new c.ServerApi("socialize.notifySSOLogin",
"bp_channel_url"),new c.ServerApi("gm.getChallengeStatus","UID|includeChallenges|excludeChallenges|details|lang|actionAttributes|profileAttributes"),new c.ServerApi("gm.resetLevelStatus","challenges|actionAttributes|profileAttributes",!0),new c.ServerApi("gm.getTopUsers","challenge|totalCount|friendsCount|includeSelf|period|lang|actionAttributes|profileAttributes"),new c.ServerApi("gm.getChallengeConfig","UID|includeChallenges|excludeChallenges|lang|actionAttributes|profileAttributes|expandActions"),
new c.ServerApi("gm.notifyAction","action|operation|challengeIDs|actionAttributes|profileAttributes",!0),new c.ServerApi("comments.postComment","categoryID|streamID|parentID|guestName|guestEmail|commentText|mediaItems|privacy|feedID|userAction|UserAction|scope|enabledProviders|disabledProviders|shortURLs|commentTitle|ratings|tags|taggedUsers|streamTags|actionAttributes|profileAttributes"),new c.ServerApi("comments.getComments","categoryID|streamID|includeSettings|start|startTS|threadLimit|sort|threaded|threadDepth|includeStreamInfo|includeOpenidUID|includeUID|includeReplies|tags|dataFormat|includeUserOptions|includeUserComments|includeRatingsDims"),
new c.ServerApi("comments.setStreamInfo","categoryID|streamID|streamTitle|streamURL|streamInfoSig|streamTags"),new c.ServerApi("comments.getTopStreams","categoryID|limit|maxStreamAge|includeLastComment|streamTag|minRatingsCount"),new c.ServerApi("comments.getTopRatedStreams","categoryID|limit|maxStreamAge|ratingClass|minRatingsCount|streamTag"),new c.ServerApi("comments.getStreamInfo","categoryID|streamID|streamIDs|includeLastComment|includeRatingsDims"),new c.ServerApi("comments.flagComment","categoryID|streamID|commentID|actionAttributes|profileAttributes"),
new c.ServerApi("comments.vote","categoryID|streamID|commentID|vote|actionAttributes|profileAttributes",!0),new c.ServerApi("comments.getUserVotes","categoryID|streamID",!0),new c.ServerApi("comments.getUserComments","categoryID|streamID|tag|senderUID|start|limit|sort|includeReplies|includeStreamInfo",!0),new c.ServerApi("comments.getFriendsComments","categoryID|streamID|start|limit|includeUID|sort|includeReplies|includeStreamInfo",!0),new c.ServerApi("comments.getThread","categoryID|streamID|commentID|start|includeUID|limit|threadDepth|sort"),
new c.ServerApi("comments.deleteComment","categoryID|streamID|commentID",!0),new c.ServerApi("comments.getRelatedUsers","categoryID|streamID|parentCommentID|usernamePrefix|limit"),new c.ServerApi("comments.analyzeMediaItem","categoryID|urls"),new c.ServerApi("comments.subscribe","categoryID|streamID|email|lang"),new c.ServerApi("comments.unsubscribe","categoryID|streamID|unsubscribeToken"),new c.ServerApi("comments.setUserOptions","replyNotifications|notificationsEmail|notificationsLanguage",!0),
new c.ServerApi("comments.getUserOptions","ServerApiKey",!0),new c.ServerApi("gcs.getUserData","type|fields",!0),new c.ServerApi("gcs.setUserData","data|type|updateBehavior",!0),new c.ServerApi("gcs.search","expTime|querySig|query"),new c.ServerApi("gcs.getSchema","schemaType"),new c.ServerApi("chat.getSettings","categoryID|streamID|skinID"),new c.ServerApi("chat.getMessages","categoryID|streamID|start|includeSettings"),new c.ServerApi("chat.postMessage","categoryID|streamID|messageText|isPrivate|actionAttributes|profileAttributes",
!0),new c.ServerApi("chat.resetChat","categoryID|streamID|timestamp|chatSignature"),new c.ServerApi("chat.blockUser","categoryID|streamID|UID|chatSignature"),new c.ServerApi("chat.deleteMessage","categoryID|streamID|messageId|chatSignature"),new c.ServerApi("accounts.login","loginID|password|sessionExpiration|targetEnv|regToken|include|actionAttributes|profileAttributes|includeUserInfo|includeDynamicSchema|bp_channel_url|captchaToken|captchaText",!1,void 0,{clearSession:!0,forceHttps:!0,forcePost:!0}),
new c.ServerApi("accounts.linkAccounts","loginID|password|sessionExpiration|targetEnv|include|regToken|includeUserInfo|bp_channel_url",!1,void 0,{forceHttps:!0,forcePost:!0}),new c.ServerApi("accounts.initRegistration","sdk",!1,void 0,{clearSession:!0}),new c.ServerApi("accounts.register","username|email|password|UID|regToken|siteUID|secretQuestion|secretAnswer|regSource|profile|data|captchaText|captchaToken|lang|hashedPassword|pwHashAlgorithm|skipVerification|finalizeRegistration|targetEnv|sessionExpiration|include|actionAttributes|profileAttributes|includeUserInfo|bp_channel_url",
!1,void 0,{forceHttps:!0,forcePost:!0}),new c.ServerApi("accounts.finalizeRegistration","regToken|targetEnv|include|includeUserInfo|bp_channel_url"),new c.ServerApi("accounts.captchaImage","regToken"),new c.ServerApi("accounts.importProfilePhoto","regToken|URL|publish"),new c.ServerApi("accounts.resetPassword","lang|loginID|passwordResetToken|secretAnswer|securityFields|newPassword|email",void 0,{forceHttps:!0,forcePost:!0}),new c.ServerApi("accounts.isAvailableLoginID","loginID"),new c.ServerApi("accounts.resendVerificationCode",
"regToken|email"),new c.ServerApi("accounts.getCaptcha",""),new c.ServerApi("accounts.getPolicies","sections"),new c.ServerApi("accounts.getSchema","sections|schemaType"),new c.ServerApi("accounts.getAccountInfo","include|extraProfileFields|regToken",!0,{},{},"regToken"),new c.ServerApi("accounts.setAccountInfo","profile|data|regToken|oldPassword|password|newPassword|addLoginEmails|removeLoginEmails|username|secretQuestion|secretAnswer|requirePasswordChange",!1,void 0,{forceHttps:!0,forcePost:!0},
"regToken"),new c.ServerApi("accounts.logout","signIDs",!0,{preprocessor:function(b,c){a.partnerSettings.ssoKey&&(b.signIDs=!0);c()}}),new c.ServerApi("accounts.search","expTime|querySig|query"),new c.ServerApi("accounts.getScreenSets","screenSetIDs|include"),new c.ServerApi("accounts.incrementCounters","counters",!0,{preprocessor:function(a,c){var f=a.actionCounterPath,g=a.counters;if(f&&g)for(var d=0;d<g.length;d++){var e=g[d];"object"!=typeof e||e.path||(e.path=f)}c()}}),new c.ServerApi("accounts.getCounters",
"counters",!0),new c.ServerApi("accounts.tfa.getProviders","regToken",!0,{},{},"regToken"),new c.ServerApi("accounts.tfa.initTFA","provider|mode|regToken",!1,{},{forceHttps:!0}),new c.ServerApi("accounts.tfa.finalizeTFA","gigyaAssertion|providerAssertion|tempDevice|regToken",!0,{},{},"regToken"),new c.ServerApi("accounts.tfa.deactivateProvider","provider",!0),new c.ServerApi("accounts.tfa.unregisterDevice","allDevices",!0),new c.ServerApi("accounts.tfa.phone.getRegisteredPhoneNumbers","gigyaAssertion",
!1,{},{forceHttps:!0}),new c.ServerApi("accounts.tfa.phone.removePhone","gigyaAssertion|phoneId",!1,{},{forceHttps:!0}),new c.ServerApi("accounts.tfa.phone.sendVerificationCode","gigyaAssertion|lang|phoneID|phone|method",!1,{},{forceHttps:!0}),new c.ServerApi("accounts.tfa.phone.completeVerification","gigyaAssertion|phvToken|code",!1,{},{forceHttps:!0}),new c.ServerApi("ds.store","type|data|oid|updateBehavior"),new c.ServerApi("ds.get","type|data|oid|fields"),new c.ServerApi("ds.search","expTime|querySig|query"),
new c.ServerApi("ds.getSchema",""),new c.ServerApi("ds.delete","type|oid|fields"),new c.ServerApi("ids.getAccountInfo","include|extraProfileFields",!0),new c.ServerApi("ids.setAccountInfo","profile|data|oldPassword|password|newPassword|addLoginEmails|removeLoginEmails|username|secretQuestion|secretAnswer|requirePasswordChange",!1,void 0,{forceHttps:!0,forcePost:!0}),new c.ServerApi("ids.search","expTime|querySig|query")];a.utils.functions.createAlias("gigya.socialize.showChatUI",a.chat.showChatUI);
a.utils.functions.createAlias("gigya.socialize.showCommentsUI",a.comments.showCommentsUI);a.utils.functions.createAlias("gigya.socialize.showRatingUI",a.comments.showRatingUI);a.utils.functions.createAlias("gigya.services.socialize",a.socialize);a.utils.functions.createAlias("gigya.services.gcs",a.gcs);a.utils.functions.createAlias("gigya.services.gm",a.gm);a.utils.functions.createAlias("gigya.services.comments",a.comments);a.utils.functions.createAlias("gigya.services.accounts",a.accounts);a.utils.functions.createAlias("gigya.socialize.connect",
a.socialize.addConnection);a.utils.functions.createAlias("gigya.socialize.disconnect",a.socialize.removeConnection);a.utils.functions.createAlias("gigya.socialize.linkAccounts",a.socialize.setUID);a.utils.functions.createAlias("gigya.socialize.showConnectUI",a.socialize.showAddConnectionsUI);a.utils.functions.createAlias("gigya.socialize.showNewsfeedUI",a.socialize.showFeedUI);a.utils.functions.createAlias("gigya.showDebugUI",a.socialize.showDebugUI)})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){(function(b){function c(){if("undefined"!=typeof FB){var d=function(c){b.initializedTime=new Date;b.isConnected="connected"==c.status;b.isLoggedIn="unknown"!=c.status;a.events.global.dispatch({eventName:"FBCRefreshed"})};a.fbAppID&&(FB&&FB.getLoginStatus)&&FB.getLoginStatus(d,!0)}}function f(){for(var a=g,b=0;b<a.length;b++)a[b]();g=[]}var g=[];b.initializedTime;b.isLoggedIn=!1;b.isConnected=!1;b.isLoaded=function(){return null!=b.initializedTime};b.load=function(d){if(!b.initializedTime){b.initializedTime=
null;window.setInterval(function(){a.external.facebook.refreshSession()},27E5);window.fbAsyncInit=function(){var e=a.utils.object.clone(a.thisScript.globalConf.facebookInitParams);e||(e={});a.fbAppID&&(e.appId=a.fbAppID);e.status=!1;e.cookie=!0;e.xfbml=!0;e.oauth=!0;FB.init(e);!0!=d?FB.getLoginStatus(function(d){b.initializedTime=new Date;b.isConnected="connected"==d.status;b.isLoggedIn="unknown"!=d.status;a.events.global.dispatch({eventName:"facebookLoaded",isLoggedIn:b.isLoggedIn,isConnected:b.isConnected});
a.socialize.addEventHandlers({listenerType:"component"},{listenerDescription:"listener for updating Facebook Connect session",onLogin:function(){c()},onConnect:function(){c()},onLogout:function(){c()}})},!0):(b.initializedTime=new Date,a.events.global.dispatch({eventName:"facebookLoaded",isLoggedIn:b.isLoggedIn,isConnected:b.isConnected}))};var e=document.createElement("div");e.id="fb-root";a.utils.DOM.appendToBody(e);a.utils.script.load(document.location.protocol+"//connect.facebook.net/"+a.thisScript.lang.full.replace("-",
"_")+"/all.js",null,function(){"none"==document.documentElement.style.display&&(document.documentElement.style.display="")},!0)}};b.refreshSession=c;b.retryPending=f;b.runWhenLoaded=function(a){g.push(a)};b.getParams=function(){var a={};if("undefined"!=typeof FB&&FB.getAuthResponse)try{var b=FB.getAuthResponse();b&&(null!=b.userID&&(a.fb_UID=b.userID),null!=b.accessToken&&(a.fb_at=b.accessToken),null!=b.expiresIn&&(a.fb_exp=b.expiresIn))}catch(c){}return a};b.autoLogin=function(){a.socialize.waitForService({service:"facebook",
callback:function(){a._.apiAdapter.isSessionValid(a.thisScript.globalConf,function(b){var c=a.external.facebook.getParams();!b&&(c&&c.fb_at)&&a.socialize.notifyLogin({providerSessions:{facebook:{authToken:c.fb_at,tokenExpiresIn:c.fb_exp}}})})}})};a.events.global.add("facebookLoaded",f,"component");a.events.global.add("onFBCRefreshed",f,"component")})(c.facebook||(c.facebook={}))})(a.external||(a.external={}))})(gigya||(gigya={}));
(function(a){(function(c){(function(b){b._ready=null;b.executeOnInit=function(b,c){b&&(c||(c=2E3),a.external.backplane.isLoaded()?a.external.backplane.getChannelId()||a.external.backplane._ready?(a.external.backplane._ready=!0,b()):(window.setTimeout(function(){a.external.backplane._ready||(a.external.backplane._ready=!0,b())},c),Backplane(function(){a.external.backplane._ready=!0;b()})):b())};b.isLoaded=function(){return"undefined"!=typeof Backplane};b.getChannelId=function(){if(a.external.backplane.isLoaded())return Backplane.getChannelID()};
b.resetChannel=function(){a.external.backplane.isLoaded()&&Backplane.resetCookieChannel()};a.events.global.add("logout",a.external.backplane.resetChannel)})(c.backplane||(c.backplane={}))})(a.external||(a.external={}))})(gigya||(gigya={}));
(function(a){(function(a){(function(a){a.getMetaTag=function(a){for(var b=document.getElementsByTagName("meta"),c=0;c<b.length;c++)if(b[c].getAttribute("property")==a&&b[c].getAttribute("content"))return b[c].getAttribute("content")}})(a.opengraph||(a.opengraph={}))})(a.external||(a.external={}))})(gigya||(gigya={}));
(function(a){(function(c){(function(a){a[a.LocalStorageListener=0]="LocalStorageListener";a[a.PostMessage=1]="PostMessage";a[a.Flash=2]="Flash"})(c.MessagingMethod||(c.MessagingMethod={}));c.checkCompleteRegistration=function(b,c,f){var g,d;if(!c.dontHandleScreenSet&&(206001==b.errorCode||403043==b.errorCode||206002==b.errorCode||206003==b.errorCode||403101==b.errorCode||403102==b.errorCode||403110==b.errorCode||403100==b.errorCode)){var e;403110==b.errorCode&&(e=d=!0);c.defaultMobileRegScreenSet&&
a.localInfo.isMobile?g=c.defaultMobileRegScreenSet:c.defaultRegScreenSet&&(g=c.defaultRegScreenSet)}g?a.accounts.showScreenSet({newPopup:e,initialResponse:b,screenSet:g,onHide:function(a){"finished"===a.reason&&a.user?f({errorCode:0,userInfo:a.user},!0,d):f(b)}}):f(b)};c.getGigyaSettings=function(b){var c=a.utils.localStorage.getItem("gigyaSettings");try{c=a.utils.JSON.deserialize(c)}catch(f){c={}}c||(c={});return a.utils.JSON.serialize(c[b])};c.setGigyaSettings=function(b,c){var f=a.utils.localStorage.getItem("gigyaSettings");
try{f=a.utils.JSON.deserialize(f)}catch(g){f={}}f||(f={});f[b]||(f[b]={});for(var d in c)f[b][d]=c[d];a.utils.localStorage.setItem("gigyaSettings",a.utils.JSON.serialize(f))};c.delGigyaSettings=function(b,c){if(b){var f=a.utils.localStorage.getItem("gigyaSettings");f&&(f=a.utils.JSON.deserialize(f),delete f[b],a.utils.localStorage.setItem("gigyaSettings",a.utils.JSON.serialize(f)))}else a.utils.localStorage.removeItem("gigyaSettings")};c.handleSpecialFields=function(b){var c=a.socialize.Collection,
f=function(b,c){for(var d=[],f=0,g=b[f];g;)d.push(new c(g)),d[f].identities&&a._.convertIdentitiesArrayToObject(d[f]),g=b[++f];return d};b.photos&&(b.photos=new c(b.photos,""));b.albums&&(b.albums=new c(b.albums,""));b.contacts&&(b.contacts=new c(f(b.contacts,a.socialize.Contact),"email"));b.friend&&(b.friend=new c(f(b.friend,a.socialize.Friend),"UID"));b.user&&(b.user=new a.socialize.User(b.user));if(b.friends&&b.friends instanceof Array){for(var g=[],d=0;d<b.friends.length;d++)g.push(b.friends[d].UID);
b.UIDs=g.join(",");b.friends=new c(f(b.friends,a.socialize.Friend),"UID")}};c.convertIdentitiesArrayToObject=function(b){if(null==b.identities)b.identities={};else if(b.identities.constructor==Array){var c=b.identities;b.identities={};for(var f=0;f<c.length;f++)b.identities[c[f].provider]=new a.socialize.Identity(c[f])}};c.addUserInfoToEvent=function(b,c,f,g){g=b.user||b.userInfo;null==c&&(c={});null!=g&&(c.user=a.utils.object.clone(g),null!=b.isLoggedIn&&(c.user.isLoggedIn=b.isLoggedIn),null!=b.isSiteUID&&
(c.user.isSiteUID=b.isSiteUID),null!=b.iRank&&(c.user.iRank=b.iRank));f&&(a.utils.object.extractProperties(b,c,"signature|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID"),null!=c.user&&(c.UID=g.UID,c.isSiteUID=g.isSiteUID));return c};c.sendEmailNative=function(b){var c=b.userAction||{};document.location.href="mailto:?to=&subject="+(c.title||"")+"&body="+(c.linkBack||"");a.socialize.sendEmail(b,{dontSendEmail:!0})}})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){function b(){a.utils.script.load(a.thisScript.base+"/js/gigya.services.socialize.plugins.log.min.js",null,function(){a.log.showConfig()},!0)}c._log=[];c._isEnabled=function(){return"1"==a.utils.cookie.get("_gig_dbgConsole_log")};c.addLog=function(b,f){if(a.log._isEnabled()){f=a.utils.object.clone(f,!0,!1,4,null,!0);var g=b;null!=f&&(g+=":"+("object"==typeof f?"\n":"")+a.utils.JSON.serialize(f,!0,!0));c._log.push(g);"object"==typeof console&&console.log(g);null!=document.getElementById("gigya_log")&&
a.log.show&&a.log.show()}};c.logCall=function(b,c,g){g||(g=c.lastSource);a.log.addLog("Calling "+b+(g&&g!=b?" for "+g:"")+(c.source&&g!=c.source?" initiated from "+c.source:"")+" with these params",c)};c.debug=b;c.showLog=function(){a.utils.script.load(a.thisScript.base+"/js/gigya.services.socialize.plugins.log.min.js",null,function(){a.log.show()},!0)};c.show=function(){};c.showConfig=function(){};a.utils.functions.createAlias("gigya.debug",b)})(a.log||(a.log={}))})(gigya||(gigya={}));
var defaultObjects={},defaultObjectsDef={User:"personwithuid+isLoggedIn|false,isConnected|false,isSiteUser|false,identities|{},providers|[],timestamp,UIDSig,UIDSignature,signatureTimestamp,loginProvider,loginProviderUID,capabilities|{}",Friend:"personwithuid+timestamp,friendshipSig,friendshipSignature,signatureTimestamp,timestamp,isSiteUser|false,identities|{}",Identity:"person+isExpiredSession|false,allowsLogin|false,providerUID,provider,isLoginIdentity|false,missingPermissions",Contact:"provider,firstName,lastName,nickname,email,photoURL",
person:"nickname,photoURL,thumbnailURL,birthDay|0,birthMonth|0,birthYear|0,gender,email,proxiedEmail,country,state,city,zip,firstName,lastName,profileURL,age|0",personwithuid:"person+UID,isSiteUID|false",UserAction:"actorUID,actorNickname,actionName,date|new Date(),targets|[],images|[],actionData1,actionData2,iconURL,title,linkBack,userMessage,description,actionLinks|[],mediaItems|[],subtitle"},createDefaultObject=function(a){var c={};a=defaultObjectsDef[a];-1!=a.indexOf("+")&&(c=createDefaultObject(a.split("+")[0]),
a=a.split("+")[1]);a=a.split(",");for(var b=0;b<a.length;b++){var l="",f=a[b].split("|");if(1<f.length)try{l=gigya.utils.JSON.deserialize(f[1])}catch(g){}c[f[0]]=l||""}return c},_createConstructor=function(a){return function(c){var b=defaultObjects[a],l;for(l in b)this[l]=gigya.utils.object.clone(b[l]);if("object"==typeof c)for(l in c)"function"!=typeof c[l]&&(this[l]=gigya.utils.object.clone(c[l]))}},def;
for(def in defaultObjectsDef)defaultObjects[def]=createDefaultObject(def),gigya.socialize[def]=_createConstructor(def);gigya.socialize.Collection=function(a,c){this.arr=a;this._key=c?c:""};
gigya.socialize.Collection.prototype={asArray:function(){return this.arr},each:function(a){for(var c=0,b=this.arr[c];b;)a(b,c),c++,b=this.arr[c]},getById:function(a){"undefined"==typeof this._hash&&this._buildHash();return(this._hash?this._hash:this.arr)[a]},getSize:function(){return this.arr.length},_buildHash:function(){var a=this._hash={},c=this._key;this.each(function(b,l){a["function"==typeof b[c]?b[c]():b[c]]=b})}};
gigya.socialize.UserAction.prototype={clone:function(){return new gigya.socialize.UserAction(gigya.utils.object.clone(this,!0,!0))},getTemplate:function(){return this.titleTemplate},setTemplate:function(a){this.titleTemplate=a},getActor:function(a){return{UID:this.actorUID,nickname:this.actorNickname}},setActionName:function(a){this.actionName=a;return this},getActionName:function(a){return this.actionName},getTemplateFields:function(){var a=[],c;for(c in this.templateFields)a.push(this.templateFields[c]);
return new gigya.socialize.Collection(a,"fieldName")},setTemplateField:function(a,c,b){this.templateFields[a]={fieldName:a,text:c,href:b};return this},getTemplateField:function(a){return this.templateFields[a]?this.templateFields[a]:null},addTarget:function(a){if("object"==typeof a)return this.targets.push({UID:a.UID,nickname:a.nickname?a.nickname:""}),this;if("string"==typeof a)return this.targets.push({UID:a,nickname:""}),this},addActionLink:function(a,c){this.actionLinks.push({text:a,href:c?c:
""});return this},addMediaItem:function(a){this.mediaItems.push(a);return this},setTitle:function(a){a&&(this.title=a);return this},setLinkBack:function(a){a&&a.toString&&(a=a.toString());a&&(this.linkBack=a);return this},setUserMessage:function(a){this.userMessage=a?a:"";return this},setDescription:function(a){this.description=a?a:"";return this},addImage:function(a,c){this.addMediaItem({type:"image",src:a,href:c})},getImages:function(){return new gigya.socialize.Collection(this.images,"")},getTargets:function(){return new gigya.socialize.Collection(this.targets,
"UID")},setIconURL:function(a){this.iconURL=a;return this},getIconURL:function(){return this.iconURL},getDate:function(){return this.date},setActionData1:function(a){this.actionData1=a;return this},getActionData1:function(a){return this.actionData1},setActionData2:function(a){this.actionData2=a;return this},getActionData2:function(a){return this.actionData2},setSubtitle:function(a){this.subtitle=a;return this},getSubtitle:function(){return this.subtitle}};
(function(a){(function(c){(function(b){function c(a,d){"undefined"===typeof d&&(d=b.arProviders);for(var e=0;e<d.length;e++)if(d[e].name.toLowerCase()==a.toLowerCase())return d[e]}function f(a,c){"undefined"===typeof c&&(c=b.arProviders);for(var d=0;d<c.length;d++)if(c[d].ID==a)return c[d]}function g(a,b,c){"undefined"===typeof b&&(b="");"undefined"===typeof c&&(c=a.arProviders);b=b.toLowerCase();b=b.split(" ").join("").toLowerCase().split(",");b=m(b,c);for(c=0;c<b.length;c++)for(var d=0;d<a.length;d++){var e=
a[d];(e=e.name||e.toString())&&(e=e.toLowerCase());e==b[c]&&a.splice(d,1)}return a}function d(a,b){null==b&&(b=[]);for(var c=[],d=0;d<a.length;d++){for(var e=a[d],f=!0,g=0;g<b.length;g++){for(var h=!1,k=0;k<e.arDefaultCapabilities.length;k++)if(e.arDefaultCapabilities[k].toLowerCase()==b[g].toLowerCase()){h=!0;break}if(!h){f=!1;break}}f&&c.push(e)}return c}function e(){return b.arProviders.concat()}function k(a,b){"undefined"===typeof b&&(b=a.arProviders);a=(""+a).split(" ").join("").toLowerCase();
for(var d=(""+a).split(","),d=m(d,b),e=[],f=0;f<d.length;f++){var g=c(d[f],b);null!=g&&e.push(g)}return e}function m(a,c){c||(c=b.arProviders);for(var d=[],e=0;e<a.length;e++)if("*"==a[e])for(var f=0;f<c.length;f++){for(var g=!1,h=0;h<a.length;h++)a[h].toLowerCase()==c[f].name.toLowerCase()&&(g=!0);g||c[f].explicitOnly||d.push(c[f].name)}else d.push(a[e]);return d}b._aliases={};var h=function(){function a(c,d,e,f,g,h,k){this.ID=c;this.displayName=d;this.width=e;this.height=f;this.explicitOnly=h;this.aliases=
k;this.windowOptions="menubar=0,toolbar=0,resizable=1,scrollbars=1,width="+e+",height="+f;this.arDefaultCapabilities=g.split(",");this.name=d.toLowerCase().split(" ").join("").split("!").join("").split("+").join("plus");if(k)for(b._aliases||(b._aliases={}),c=k.split("|"),d=0;d<c.length;d++)b._aliases[c[d]]=this.name;"messenger"==this.name&&(this.displayName="Microsoft");"customopenid"==this.name&&(this.displayName="OpenID")}a.prototype.toString=function(){return this.name};return a}();b.Provider=
h;b.arProviders=[new h(64,"Facebook",650,400,"login,friends,actions,status,photos,places,checkins"),new h(9012,"Twitter",800,440,"login,friends,notifications,actions,status,places,checkins"),new h(9811,"Google",410,450,"login,contacts"),new h(72,"Google+",560,600,"login",!0),new h(9042,"LinkedIn",865,450,"login,friends,status,actions,notifications"),new h(9803,"Yahoo",500,567,"login,friends,contacts,notifications"),new h(1047,"Messenger",380,540,"login,friends,status,notifications",!1,"messenger|microsoft"),
new h(9832,"Instagram",440,420,"login,photos"),new h(9222,"Odnoklassniki",888,425,"login"),new h(9003,"Digg",730,590,"login",!0),new h(9007,"FourSquare",1E3,650,"login,friends,places,checkins"),new h(9809,"Orkut",610,510,"login,friends,status,actions,photos"),new h(8191,"Renren",450,350,"login,friends,status,actions"),new h(8203,"QQ",570,460,"login,actions"),new h(9821,"Sina",640,380,"login,status,actions"),new h(4228,"Mixi",1E3,720,"login,friends,actions,photos",!0),new h(9830,"Yahoo! JAPAN",980,
700,"login,friends,actions",!0),new h(8205,"Spiceworks",640,380,"login",!0),new h(8190,"Kaixin",610,510,"login,friends"),new h(9041,"VKontakte",610,510,"login,friends,photos,status,actions"),new h(9800,"AOL",530,720,"login"),new h(4096,"WordPress",700,540,"login"),new h(256,"Blogger",760,400,"login"),new h(1041,"Hyves",700,540,"login"),new h(16,"LiveJournal",670,360,"login"),new h(1043,"VeriSign",940,500,"login"),new h(1024,"Typepad",730,590,"login"),new h(4120,"OpenID",730,590,"login"),new h(4218,
"Netlog",730,590,"login",!0),new h(4222,"SignOn",870,900,"login",!0),new h(4224,"Orange France",730,590,"login",!0),new h(5002,"Livedoor",970,700,"login",!0),new h(8202,"VZnet",610,510,"login"),new h(9216,"Skyrock",610,510,"login,friends,status",!0),new h(5004,"Fox News",730,590,"login",!0),new h(1051,"PayPal",400,550,"login",!0),new h(9058,"Amazon",785,510,"login",!0),new h(9219,"Xing",785,510,"login,friends",!0),new h(4121,"Custom OpenID",730,590,"login",!0),new h(6002,"Site",730,590,"",!0)];b.getProviderByName=
c;b.getProviderById=f;b.hideProvidersByName=g;b.getProvidersForRequiredCapabilities=d;b.getAllProviders=e;b.getProvidersByName=k;b.replaceWildcard=m;a.utils.functions.createAlias("gigya.socialize.getAllProviders",e);a.utils.functions.createAlias("gigya.socialize.getProvidersByName",k);a.utils.functions.createAlias("gigya.socialize._getProviderByName",c);a.utils.functions.createAlias("gigya.socialize.hideProvidersByName",g);a.utils.functions.createAlias("gigya.socialize._getProviderByID",f);a.utils.functions.createAlias("gigya.socialize.getProvidersForRequiredCapabilities",
d)})(c.providers||(c.providers={}))})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){function b(c,f,g,d,e,k){"undefined"===typeof k&&(k={});var m=arguments;a.utils.functions.invokeOnPageLoad(function(){window.setTimeout(function(){if(c)if(f||(f=a.thisScript.APIKey),a.utils.queue.isActive("API"))a.utils.queue.waitFor("API",b,m);else{var h=k.actionCounterPath||a.thisScript.globalConf.actionCounterPath,t={sdk:"js",f:"re",e:c,ak:f,cid:g,source:d,sourceData:e,now:(new Date).getTime(),ucid:a._.apiAdapter.getUcid(),actionCounterPath:h};if(k)for(var n in k)t[n]=
k[n];a._.apiAdapter.isSessionValid(k,function(b){b=b?"https":a.thisScript.protocol;"https"!=b||("load"!=c&&"loadc"!=c||h)||(b=a.thisScript.protocol);"https"==b&&(t.gcid=a._.apiAdapter.getGcid());b=a.utils.stringUtils.format("{0}://gscounters.{1}/gs/api.ashx?{2}",b,a.partnerSettings.plugins.apiDomain,a.utils.keyValue.serialize(t));var d=document.createElement("img");d.style.position="absolute";d.style.width="1px";d.style.height="1px";d.style.left="-1000px";d.src=b;d.onload=function(){d.parentNode.removeChild(d)};
a.utils.DOM.appendToBody(d)})}},500)},!0)}c.trackAddressBarShares=function(){if(a.thisScript.globalConf.trackAddressBarShares){var b=a._.apiAdapter.getTokenParam(a.thisScript.APIKey,"UUID"),c=document.location.href.split("#");1!=c.length&&""!=c[1]||document.location.replace("#guid="+(b?b:"_"))}};c.report=b;c.reportLoad=function(a,b){if(!b._reportedLoad&&b.containerID){b._reportedLoad=!0;var c="load";"gigya.socialize.plugins.reactions.showReactionsBarUI"!=a&&("gigya.socialize.plugins.simpleshare.showSimpleShareUI"==
a&&(c="loadSimple"),this.report(c,b.APIKey,b.cid,b.source,b.sourceData))}}})(a.reports||(a.reports={}))})(gigya||(gigya={}));
(function(a){a.build||(a.build={version:"",time:""});a.partnerSettings||(a.partnerSettings={authMode:"cookie",baseDomains:"",plugins:{apiDomain:"us1.gigya.com"}});a.isGigya||(a.isGigya=!0);a.partnerSettings||(a.partnerSettings={authMode:"cookie",baseDomains:"",plugins:{apiDomain:"us1.gigya.com"}});a.thisScript;var c;(function(b){function c(b){"1"==a.utils.cookie.get("gig_debug")?a.socialize.showDebugUI({ignoreApiQueue:!0,waitForDebug:!1,onLoad:b}):b()}function f(){a.utils.functions.invokeOnPageLoad(function(){"undefined"!=
typeof window.gigya_omniture_conf&&a.utils.script.load(a.thisScript.base+"/js/GenesisExchange_Gigya.min.js")})}function g(){var b=a.partnerSettings.baseDomains;if(b)for(var b=b.split(","),c=0;c<b.length;c++){var d=b[c],e=a.localInfo.pageDomain.indexOf(d);if(0<=e&&e==a.localInfo.pageDomain.length-d.length&&(0==e||"."==a.localInfo.pageDomain.charAt(e-1)))return d}return document.location.href.split("://")[1].split("/")[0]}function d(a){a||(a="en-US");a=a.replace("_","-").toLowerCase();var b=a.split("-"),
c=b[0],b=1<b.length?b[1]:c,b=b.toUpperCase();switch(a){case "es-mx":case "pt-br":case "zh-cn":case "zh-hk":case "zh-tw":case "en-gb":case "te-st":case "fr-inf":case "de-inf":case "es-inf":case "nl-inf":break;default:a=c}return{full:c+"-"+b,langCode:a,countryCode:b}}function e(b){for(var c=document.getElementsByTagName("script"),f,g=c.length-1;0<=g;g--){var h=c[g],k=h.src.toLowerCase();if(""!=k&&(-1<k.indexOf("//cdn.gigya.com")||-1<k.indexOf("//cdns.gigya.com")||-1<k.indexOf("?apikey="))&&(-1<k.indexOf("gigya.js")||
-1<k.indexOf("socialize.js")||-1<k.indexOf("socialize2.js")||-1<k.indexOf("gsjssdk.js"))){f=h;break}}if(f&&!window.__gig_hidescript){var c=f.src.split("/"),g=a.utils.URL.getParamsFromURL(f.src,!0)||{},l;if(""!=f.innerHTML.replace(/^\s+|\s+$/g,""))try{l=a.utils.JSON.deserialize(f.innerHTML),"object"!=typeof l&&(l={})}catch(m){alert("Gigya global configuration object parse error")}a.thisScript={scriptElement:f,protocol:0==f.src.toLowerCase().indexOf("https")?"https":"http",base:c[0]+"//"+c[2],APIKey:g.apikey,
lang:d(g.lang||(l?l.lang:null)),globalConf:a.utils.object.merge([a.partnerSettings.plugins||{},l||{},window.__gigyaConf||{}]),URLParams:g};!a.thisScript.APIKey&&"object"==typeof console&&console.warn?console.warn("**** WARNING - Loading socialize.js without an APIKey parameter is unsupported and may result in an unexpected behavior.  ****"):a.thisScript.globalConf.APIKey=a.thisScript.APIKey;a.thisScript.globalConf.lang=a.thisScript.lang.langCode;b()}else 10>t?(t++,window.setTimeout(function(){e(b)},
200)):(a.thisScript={scriptElement:null,protocol:"http:"==document.location.protocol?"http":"https",base:"https:"==document.location.protocol?"cdns.gigya.com":"cdn.gigya.com",APIKey:"",lang:d(""),globalConf:{},URLParams:{}},b())}function k(b){var d=window.__gigAPIAdapterSettings;d&&"mobile"==d.getAdapterName()&&d.getAPIKey()==a.thisScript.APIKey?a._.apiAdapter=new a._.apiAdapters.mobile.MobileAdapter:a._.apiAdapter=new a._.apiAdapters.web.WebAdapter;a.utils.functions.createAlias("gigya.auth.loginToken.getTokenParam",
a._.apiAdapter.getTokenParam);c(function(){a._.apiAdapter.init(function(){b()})})}function m(){var b=a.utils.URL.getParamsFromURL(document.location.href);b.errorCode&&b.regToken&&a._.checkCompleteRegistration(b,a.thisScript.globalConf,function(){})}function h(){var b=a.localInfo;b.messagingMethod=b.isIE11||b.isIOSChrome?a._.MessagingMethod.LocalStorageListener:b.supportsPostMessage?a._.MessagingMethod.PostMessage:a._.MessagingMethod.Flash}var t=0;(function(){a.utils.queue.hold("bootstrap","API");
a.partnerSettings.baseDomain=g();e(function(){h();a.thisScript.globalConf.customEventMap&&a.events.addMap(a.thisScript.globalConf.customEventMap);k(function(){a.utils.queue.release("bootstrap","API");a.thisScript.globalConf.autoLogin&&a.external.facebook.autoLogin();m();a.reports.trackAddressBarShares();a.utils.functions.invokeOnPageLoad(function(){window.setTimeout(function(){a.socialize.trackReferrals()},1E3)})});f();"function"==typeof onGigyaServiceReady&&onGigyaServiceReady("socialize");a.reports.report("loadc",
a.thisScript.APIKey,null,null,null,{sref:document.referrer})})})()})(c||(c={}))})(gigya||(gigya={}));


} else if (typeof console == 'object' && console.warn) {
console.warn('**** Socialize.js loaded twice ****');
}